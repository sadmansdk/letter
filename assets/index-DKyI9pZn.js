var D_=t=>{throw TypeError(t)};var Ap=(t,e,n)=>e.has(t)||D_("Cannot "+n);var B=(t,e,n)=>(Ap(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?D_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Ap(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),It=(t,e,n)=>(Ap(t,e,"access private method"),n);var jc=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return B(t,e,r)}});function WN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yb={exports:{}},of={},Xb={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),qN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),QN=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),XN=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),ZN=Symbol.for("react.suspense"),eD=Symbol.for("react.memo"),tD=Symbol.for("react.lazy"),O_=Symbol.iterator;function nD(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var Jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zb=Object.assign,eS={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=eS,this.updater=n||Jb}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tS(){}tS.prototype=Pa.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=eS,this.updater=n||Jb}var zy=$y.prototype=new tS;zy.constructor=$y;Zb(zy,Pa.prototype);zy.isPureReactComponent=!0;var M_=Array.isArray,nS=Object.prototype.hasOwnProperty,Hy={current:null},rS={key:!0,ref:!0,__self:!0,__source:!0};function iS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nS.call(e,r)&&!rS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hu,type:t,key:s,ref:o,props:i,_owner:Hy.current}}function rD(t,e){return{$$typeof:Hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hu}function iD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L_=/\/+/g;function Rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iD(""+t.key):e.toString(36)}function bd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hu:case qN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rp(o,0):r,M_(i)?(n="",t!=null&&(n=t.replace(L_,"$&/")+"/"),bd(i,e,n,"",function(u){return u})):i!=null&&(Wy(i)&&(i=rD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(L_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",M_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Rp(s,a);o+=bd(s,e,n,l,i)}else if(l=nD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Rp(s,a++),o+=bd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(t,e,n){if(t==null)return t;var r=[],i=0;return bd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Sd={transition:null},oD={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Sd,ReactCurrentOwner:Hy};function sS(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Pa;fe.Fragment=KN;fe.Profiler=QN;fe.PureComponent=$y;fe.StrictMode=GN;fe.Suspense=ZN;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;fe.act=sS;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nS.call(e,l)&&!rS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hu,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:XN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YN,_context:t},t.Consumer=t};fe.createElement=iS;fe.createFactory=function(t){var e=iS.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:JN,render:t}};fe.isValidElement=Wy;fe.lazy=function(t){return{$$typeof:tD,_payload:{_status:-1,_result:t},_init:sD}};fe.memo=function(t,e){return{$$typeof:eD,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Sd.transition;Sd.transition={};try{t()}finally{Sd.transition=e}};fe.unstable_act=sS;fe.useCallback=function(t,e){return qt.current.useCallback(t,e)};fe.useContext=function(t){return qt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return qt.current.useEffect(t,e)};fe.useId=function(){return qt.current.useId()};fe.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return qt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};fe.useRef=function(t){return qt.current.useRef(t)};fe.useState=function(t){return qt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return qt.current.useTransition()};fe.version="18.3.1";Xb.exports=fe;var S=Xb.exports;const q=Qb(S),aD=WN({__proto__:null,default:q},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD=S,uD=Symbol.for("react.element"),cD=Symbol.for("react.fragment"),dD=Object.prototype.hasOwnProperty,hD=lD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fD={key:!0,ref:!0,__self:!0,__source:!0};function oS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dD.call(e,r)&&!fD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uD,type:t,key:s,ref:o,props:i,_owner:hD.current}}of.Fragment=cD;of.jsx=oS;of.jsxs=oS;Yb.exports=of;var m=Yb.exports,aS={exports:{}},gn={},lS={exports:{}},uS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var X=V.length;V.push(z);e:for(;0<X;){var Q=X-1>>>1,Z=V[Q];if(0<i(Z,z))V[Q]=z,V[X]=Z,X=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],X=V.pop();if(X!==z){V[0]=X;e:for(var Q=0,Z=V.length,te=Z>>>1;Q<te;){var Ae=2*(Q+1)-1,st=V[Ae],_e=Ae+1,Tt=V[_e];if(0>i(st,X))_e<Z&&0>i(Tt,st)?(V[Q]=Tt,V[_e]=X,Q=_e):(V[Q]=st,V[Ae]=X,Q=Ae);else if(_e<Z&&0>i(Tt,X))V[Q]=Tt,V[_e]=X,Q=_e;else break e}}return z}function i(V,z){var X=V.sortIndex-z.sortIndex;return X!==0?X:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,g=!1,_=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=V)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function k(V){if(E=!1,b(V),!_)if(n(l)!==null)_=!0,ne(N);else{var z=n(u);z!==null&&J(k,z.startTime-V)}}function N(V,z){_=!1,E&&(E=!1,y(T),T=-1),g=!0;var X=h;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||V&&!D());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var Z=Q(f.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var Ae=n(u);Ae!==null&&J(k,Ae.startTime-z),te=!1}return te}finally{f=null,h=X,g=!1}}var M=!1,P=null,T=-1,C=5,A=-1;function D(){return!(t.unstable_now()-A<C)}function O(){if(P!==null){var V=t.unstable_now();A=V;var z=!0;try{z=P(!0,V)}finally{z?R():(M=!1,P=null)}}else M=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=O,R=function(){oe.postMessage(null)}}else R=function(){x(O,0)};function ne(V){P=V,M||(M=!0,R())}function J(V,z){T=x(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ne(N))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var X=h;h=z;try{return V()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=h;h=V;try{return z()}finally{h=X}},t.unstable_scheduleCallback=function(V,z,X){var Q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,V={id:d++,callback:z,priorityLevel:V,startTime:X,expirationTime:Z,sortIndex:-1},X>Q?(V.sortIndex=X,e(u,V),n(l)===null&&V===n(u)&&(E?(y(T),T=-1):E=!0,J(k,X-Q))):(V.sortIndex=Z,e(l,V),_||g||(_=!0,ne(N))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var z=h;return function(){var X=h;h=z;try{return V.apply(this,arguments)}finally{h=X}}}})(uS);lS.exports=uS;var pD=lS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=S,mn=pD;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cS=new Set,Zl={};function no(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Zl[t]=e,t=0;t<e.length;t++)cS.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,gD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V_={},j_={};function yD(t){return Bm.call(j_,t)?!0:Bm.call(V_,t)?!1:gD.test(t)?j_[t]=!0:(V_[t]=!0,!1)}function vD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wD(t,e,n,r){if(e===null||typeof e>"u"||vD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qy,Ky);_t[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qy,Ky);_t[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qy,Ky);_t[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gy(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wD(e,n,i,r)&&(n=null),r||i===null?yD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),_o=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),hS=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),fS=Symbol.for("react.offscreen"),F_=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=F_&&t[F_]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,kp;function xl(t){if(kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var Np=!1;function Dp(t,e){if(!t||Np)return"";Np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xl(t):""}function _D(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=Dp(t.type,!1),t;case 11:return t=Dp(t.type.render,!1),t;case 1:return t=Dp(t.type,!0),t;default:return""}}function Wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eo:return"Fragment";case _o:return"Portal";case $m:return"Profiler";case Qy:return"StrictMode";case zm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hS:return(t.displayName||"Context")+".Consumer";case dS:return(t._context.displayName||"Context")+".Provider";case Yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xy:return e=t.displayName||null,e!==null?e:Wm(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Wm(t(e))}catch{}}return null}function ED(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wm(e);case 8:return e===Qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xD(t){var e=pS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=xD(t))}function mS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qm(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gS(t,e){e=e.checked,e!=null&&Gy(t,"checked",e,!1)}function Km(t,e){gS(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gm(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gm(t,e,n){(e!=="number"||Zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tl=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Tl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function yS(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,wS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TD=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(t){TD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ol[e]=Ol[t]})});function _S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ol.hasOwnProperty(t)&&Ol[t]?(""+e).trim():e+"px"}function ES(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bD=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(t,e){if(e){if(bD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zm=null;function Jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eg=null,Uo=null,Bo=null;function H_(t){if(t=Ku(t)){if(typeof eg!="function")throw Error($(280));var e=t.stateNode;e&&(e=df(e),eg(t.stateNode,t.type,e))}}function xS(t){Uo?Bo?Bo.push(t):Bo=[t]:Uo=t}function TS(){if(Uo){var t=Uo,e=Bo;if(Bo=Uo=null,H_(t),e)for(t=0;t<e.length;t++)H_(e[t])}}function bS(t,e){return t(e)}function SS(){}var Op=!1;function PS(t,e,n){if(Op)return t(e,n);Op=!0;try{return bS(t,e,n)}finally{Op=!1,(Uo!==null||Bo!==null)&&(SS(),TS())}}function tu(t,e){var n=t.stateNode;if(n===null)return null;var r=df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var tg=!1;if($r)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){tg=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{tg=!1}function SD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ml=!1,eh=null,th=!1,ng=null,PD={onError:function(t){Ml=!0,eh=t}};function ID(t,e,n,r,i,s,o,a,l){Ml=!1,eh=null,SD.apply(PD,arguments)}function CD(t,e,n,r,i,s,o,a,l){if(ID.apply(this,arguments),Ml){if(Ml){var u=eh;Ml=!1,eh=null}else throw Error($(198));th||(th=!0,ng=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W_(t){if(ro(t)!==t)throw Error($(188))}function AD(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return W_(i),t;if(s===r)return W_(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function CS(t){return t=AD(t),t!==null?AS(t):null}function AS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AS(t);if(e!==null)return e;t=t.sibling}return null}var RS=mn.unstable_scheduleCallback,q_=mn.unstable_cancelCallback,RD=mn.unstable_shouldYield,kD=mn.unstable_requestPaint,Je=mn.unstable_now,ND=mn.unstable_getCurrentPriorityLevel,Zy=mn.unstable_ImmediatePriority,kS=mn.unstable_UserBlockingPriority,nh=mn.unstable_NormalPriority,DD=mn.unstable_LowPriority,NS=mn.unstable_IdlePriority,af=null,ur=null;function OD(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(af,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:VD,MD=Math.log,LD=Math.LN2;function VD(t){return t>>>=0,t===0?32:31-(MD(t)/LD|0)|0}var Hc=64,Wc=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bl(a):(s&=o,s!==0&&(r=bl(s)))}else o=n&~i,o!==0?r=bl(o):s!==0&&(r=bl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function jD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DS(){var t=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function UD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function OS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MS,tv,LS,VS,jS,ig=!1,qc=[],Oi=null,Mi=null,Li=null,nu=new Map,ru=new Map,wi=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K_(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(e.pointerId)}}function fl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ku(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $D(t,e,n,r,i){switch(e){case"focusin":return Oi=fl(Oi,t,e,n,r,i),!0;case"dragenter":return Mi=fl(Mi,t,e,n,r,i),!0;case"mouseover":return Li=fl(Li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nu.set(s,fl(nu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ru.set(s,fl(ru.get(s)||null,t,e,n,r,i)),!0}return!1}function FS(t){var e=ks(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=IS(n),e!==null){t.blockedOn=e,jS(t.priority,function(){LS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zm=r,n.target.dispatchEvent(r),Zm=null}else return e=Ku(n),e!==null&&tv(e),t.blockedOn=n,!1;e.shift()}return!0}function G_(t,e,n){Pd(t)&&n.delete(e)}function zD(){ig=!1,Oi!==null&&Pd(Oi)&&(Oi=null),Mi!==null&&Pd(Mi)&&(Mi=null),Li!==null&&Pd(Li)&&(Li=null),nu.forEach(G_),ru.forEach(G_)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,zD)))}function iu(t){function e(i){return pl(i,t)}if(0<qc.length){pl(qc[0],t);for(var n=1;n<qc.length;n++){var r=qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&pl(Oi,t),Mi!==null&&pl(Mi,t),Li!==null&&pl(Li,t),nu.forEach(e),ru.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)FS(n),n.blockedOn===null&&wi.shift()}var $o=ei.ReactCurrentBatchConfig,ih=!0;function HD(t,e,n,r){var i=be,s=$o.transition;$o.transition=null;try{be=1,nv(t,e,n,r)}finally{be=i,$o.transition=s}}function WD(t,e,n,r){var i=be,s=$o.transition;$o.transition=null;try{be=4,nv(t,e,n,r)}finally{be=i,$o.transition=s}}function nv(t,e,n,r){if(ih){var i=sg(t,e,n,r);if(i===null)Wp(t,e,r,sh,n),K_(t,r);else if($D(i,t,e,n,r))r.stopPropagation();else if(K_(t,r),e&4&&-1<BD.indexOf(t)){for(;i!==null;){var s=Ku(i);if(s!==null&&MS(s),s=sg(t,e,n,r),s===null&&Wp(t,e,r,sh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wp(t,e,r,null,n)}}var sh=null;function sg(t,e,n,r){if(sh=null,t=Jy(r),t=ks(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sh=t,null}function US(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ND()){case Zy:return 1;case kS:return 4;case nh:case DD:return 16;case NS:return 536870912;default:return 16}default:return 16}}var Ri=null,rv=null,Id=null;function BS(){if(Id)return Id;var t,e=rv,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Id=i.slice(t,1<r?1-r:void 0)}function Cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function Q_(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:Q_,this.isPropagationStopped=Q_,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=yn(Ia),qu=$e({},Ia,{view:0,detail:0}),qD=yn(qu),Lp,Vp,ml,lf=$e({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(Lp=t.screenX-ml.screenX,Vp=t.screenY-ml.screenY):Vp=Lp=0,ml=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Vp}}),Y_=yn(lf),KD=$e({},lf,{dataTransfer:0}),GD=yn(KD),QD=$e({},qu,{relatedTarget:0}),jp=yn(QD),YD=$e({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=yn(YD),JD=$e({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZD=yn(JD),eO=$e({},Ia,{data:0}),X_=yn(eO),tO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rO[t])?!!e[t]:!1}function sv(){return iO}var sO=$e({},qu,{key:function(t){if(t.key){var e=tO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?Cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oO=yn(sO),aO=$e({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J_=yn(aO),lO=$e({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),uO=yn(lO),cO=$e({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),dO=yn(cO),hO=$e({},lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fO=yn(hO),pO=[9,13,27,32],ov=$r&&"CompositionEvent"in window,Ll=null;$r&&"documentMode"in document&&(Ll=document.documentMode);var mO=$r&&"TextEvent"in window&&!Ll,$S=$r&&(!ov||Ll&&8<Ll&&11>=Ll),Z_=" ",eE=!1;function zS(t,e){switch(t){case"keyup":return pO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function gO(t,e){switch(t){case"compositionend":return HS(e);case"keypress":return e.which!==32?null:(eE=!0,Z_);case"textInput":return t=e.data,t===Z_&&eE?null:t;default:return null}}function yO(t,e){if(xo)return t==="compositionend"||!ov&&zS(t,e)?(t=BS(),Id=rv=Ri=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $S&&e.locale!=="ko"?null:e.data;default:return null}}var vO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vO[t.type]:e==="textarea"}function WS(t,e,n,r){xS(r),e=oh(e,"onChange"),0<e.length&&(n=new iv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vl=null,su=null;function wO(t){nP(t,0)}function uf(t){var e=So(t);if(mS(e))return t}function _O(t,e){if(t==="change")return e}var qS=!1;if($r){var Fp;if($r){var Up="oninput"in document;if(!Up){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),Up=typeof nE.oninput=="function"}Fp=Up}else Fp=!1;qS=Fp&&(!document.documentMode||9<document.documentMode)}function rE(){Vl&&(Vl.detachEvent("onpropertychange",KS),su=Vl=null)}function KS(t){if(t.propertyName==="value"&&uf(su)){var e=[];WS(e,su,t,Jy(t)),PS(wO,e)}}function EO(t,e,n){t==="focusin"?(rE(),Vl=e,su=n,Vl.attachEvent("onpropertychange",KS)):t==="focusout"&&rE()}function xO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uf(su)}function TO(t,e){if(t==="click")return uf(e)}function bO(t,e){if(t==="input"||t==="change")return uf(e)}function SO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:SO;function ou(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bm.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function iE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sE(t,e){var n=iE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iE(n)}}function GS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QS(){for(var t=window,e=Zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zd(t.document)}return e}function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PO(t){var e=QS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GS(n.ownerDocument.documentElement,n)){if(r!==null&&av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sE(n,s);var o=sE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IO=$r&&"documentMode"in document&&11>=document.documentMode,To=null,og=null,jl=null,ag=!1;function oE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ag||To==null||To!==Zd(r)||(r=To,"selectionStart"in r&&av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jl&&ou(jl,r)||(jl=r,r=oh(og,"onSelect"),0<r.length&&(e=new iv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=To)))}function Gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bo={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Bp={},YS={};$r&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function cf(t){if(Bp[t])return Bp[t];if(!bo[t])return t;var e=bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YS)return Bp[t]=e[n];return t}var XS=cf("animationend"),JS=cf("animationiteration"),ZS=cf("animationstart"),eP=cf("transitionend"),tP=new Map,aE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){tP.set(t,e),no(e,[t])}for(var $p=0;$p<aE.length;$p++){var zp=aE[$p],CO=zp.toLowerCase(),AO=zp[0].toUpperCase()+zp.slice(1);us(CO,"on"+AO)}us(XS,"onAnimationEnd");us(JS,"onAnimationIteration");us(ZS,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(eP,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function lE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CD(r,e,void 0,t),t.currentTarget=null}function nP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lE(i,a,u),s=l}}}if(th)throw t=ng,th=!1,ng=null,t}function Ne(t,e){var n=e[hg];n===void 0&&(n=e[hg]=new Set);var r=t+"__bubble";n.has(r)||(rP(e,t,2,!1),n.add(r))}function Hp(t,e,n){var r=0;e&&(r|=4),rP(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function au(t){if(!t[Qc]){t[Qc]=!0,cS.forEach(function(n){n!=="selectionchange"&&(RO.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,Hp("selectionchange",!1,e))}}function rP(t,e,n,r){switch(US(e)){case 1:var i=HD;break;case 4:i=WD;break;default:i=nv}n=i.bind(null,e,n,t),i=void 0,!tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}PS(function(){var u=s,d=Jy(n),f=[];e:{var h=tP.get(t);if(h!==void 0){var g=iv,_=t;switch(t){case"keypress":if(Cd(n)===0)break e;case"keydown":case"keyup":g=oO;break;case"focusin":_="focus",g=jp;break;case"focusout":_="blur",g=jp;break;case"beforeblur":case"afterblur":g=jp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uO;break;case XS:case JS:case ZS:g=XD;break;case eP:g=dO;break;case"scroll":g=qD;break;case"wheel":g=fO;break;case"copy":case"cut":case"paste":g=ZD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=J_}var E=(e&4)!==0,x=!E&&t==="scroll",y=E?h!==null?h+"Capture":null:h;E=[];for(var w=u,b;w!==null;){b=w;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=tu(w,y),k!=null&&E.push(lu(w,k,b)))),x)break;w=w.return}0<E.length&&(h=new g(h,_,null,n,d),f.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Zm&&(_=n.relatedTarget||n.fromElement)&&(ks(_)||_[zr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?ks(_):null,_!==null&&(x=ro(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(E=Y_,k="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(E=J_,k="onPointerLeave",y="onPointerEnter",w="pointer"),x=g==null?h:So(g),b=_==null?h:So(_),h=new E(k,w+"leave",g,n,d),h.target=x,h.relatedTarget=b,k=null,ks(d)===u&&(E=new E(y,w+"enter",_,n,d),E.target=b,E.relatedTarget=x,k=E),x=k,g&&_)t:{for(E=g,y=_,w=0,b=E;b;b=po(b))w++;for(b=0,k=y;k;k=po(k))b++;for(;0<w-b;)E=po(E),w--;for(;0<b-w;)y=po(y),b--;for(;w--;){if(E===y||y!==null&&E===y.alternate)break t;E=po(E),y=po(y)}E=null}else E=null;g!==null&&uE(f,h,g,E,!1),_!==null&&x!==null&&uE(f,x,_,E,!0)}}e:{if(h=u?So(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=_O;else if(tE(h))if(qS)N=bO;else{N=xO;var M=EO}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=TO);if(N&&(N=N(t,u))){WS(f,N,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Gm(h,"number",h.value)}switch(M=u?So(u):window,t){case"focusin":(tE(M)||M.contentEditable==="true")&&(To=M,og=u,jl=null);break;case"focusout":jl=og=To=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,oE(f,n,d);break;case"selectionchange":if(IO)break;case"keydown":case"keyup":oE(f,n,d)}var P;if(ov)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xo?zS(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($S&&n.locale!=="ko"&&(xo||T!=="onCompositionStart"?T==="onCompositionEnd"&&xo&&(P=BS()):(Ri=d,rv="value"in Ri?Ri.value:Ri.textContent,xo=!0)),M=oh(u,T),0<M.length&&(T=new X_(T,t,null,n,d),f.push({event:T,listeners:M}),P?T.data=P:(P=HS(n),P!==null&&(T.data=P)))),(P=mO?gO(t,n):yO(t,n))&&(u=oh(u,"onBeforeInput"),0<u.length&&(d=new X_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}nP(f,e)})}function lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tu(t,n),s!=null&&r.unshift(lu(t,s,i)),s=tu(t,e),s!=null&&r.push(lu(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=tu(n,s),l!=null&&o.unshift(lu(n,l,a))):i||(l=tu(n,s),l!=null&&o.push(lu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kO=/\r\n?/g,NO=/\u0000|\uFFFD/g;function cE(t){return(typeof t=="string"?t:""+t).replace(kO,`
`).replace(NO,"")}function Yc(t,e,n){if(e=cE(e),cE(t)!==e&&n)throw Error($(425))}function ah(){}var lg=null,ug=null;function cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dg=typeof setTimeout=="function"?setTimeout:void 0,DO=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,OO=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(t){return dE.resolve(null).then(t).catch(MO)}:dg;function MO(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);iu(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ca,uu="__reactProps$"+Ca,zr="__reactContainer$"+Ca,hg="__reactEvents$"+Ca,LO="__reactListeners$"+Ca,VO="__reactHandles$"+Ca;function ks(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hE(t);t!==null;){if(n=t[lr])return n;t=hE(t)}return e}t=n,n=t.parentNode}return null}function Ku(t){return t=t[lr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function df(t){return t[uu]||null}var fg=[],Po=-1;function cs(t){return{current:t}}function Oe(t){0>Po||(t.current=fg[Po],fg[Po]=null,Po--)}function Ie(t,e){Po++,fg[Po]=t.current,t.current=e}var Yi={},jt=cs(Yi),Zt=cs(!1),Hs=Yi;function aa(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function lh(){Oe(Zt),Oe(jt)}function fE(t,e,n){if(jt.current!==Yi)throw Error($(168));Ie(jt,e),Ie(Zt,n)}function iP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,ED(t)||"Unknown",i));return $e({},n,r)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Hs=jt.current,Ie(jt,t),Ie(Zt,Zt.current),!0}function pE(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=iP(t,e,Hs),r.__reactInternalMemoizedMergedChildContext=t,Oe(Zt),Oe(jt),Ie(jt,t)):Oe(Zt),Ie(Zt,n)}var Or=null,hf=!1,Kp=!1;function sP(t){Or===null?Or=[t]:Or.push(t)}function jO(t){hf=!0,sP(t)}function ds(){if(!Kp&&Or!==null){Kp=!0;var t=0,e=be;try{var n=Or;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,hf=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),RS(Zy,ds),i}finally{be=e,Kp=!1}}return null}var Io=[],Co=0,ch=null,dh=0,En=[],xn=0,Ws=null,Mr=1,Lr="";function Ps(t,e){Io[Co++]=dh,Io[Co++]=ch,ch=t,dh=e}function oP(t,e,n){En[xn++]=Mr,En[xn++]=Lr,En[xn++]=Ws,Ws=t;var r=Mr;t=Lr;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var s=32-Bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Bn(e)+i|n<<i|r,Lr=s+t}else Mr=1<<s|n<<i|r,Lr=t}function lv(t){t.return!==null&&(Ps(t,1),oP(t,1,0))}function uv(t){for(;t===ch;)ch=Io[--Co],Io[Co]=null,dh=Io[--Co],Io[Co]=null;for(;t===Ws;)Ws=En[--xn],En[xn]=null,Lr=En[--xn],En[xn]=null,Mr=En[--xn],En[xn]=null}var fn=null,dn=null,Le=!1,jn=null;function aP(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function pg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mg(t){if(Le){var e=dn;if(e){var n=e;if(!mE(t,e)){if(pg(t))throw Error($(418));e=Vi(n.nextSibling);var r=fn;e&&mE(t,e)?aP(r,n):(t.flags=t.flags&-4097|2,Le=!1,fn=t)}}else{if(pg(t))throw Error($(418));t.flags=t.flags&-4097|2,Le=!1,fn=t}}}function gE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Xc(t){if(t!==fn)return!1;if(!Le)return gE(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cg(t.type,t.memoizedProps)),e&&(e=dn)){if(pg(t))throw lP(),Error($(418));for(;e;)aP(t,e),e=Vi(e.nextSibling)}if(gE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?Vi(t.stateNode.nextSibling):null;return!0}function lP(){for(var t=dn;t;)t=Vi(t.nextSibling)}function la(){dn=fn=null,Le=!1}function cv(t){jn===null?jn=[t]:jn.push(t)}var FO=ei.ReactCurrentBatchConfig;function gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Jc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yE(t){var e=t._init;return e(t._payload)}function uP(t){function e(y,w){if(t){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Bi(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,b,k){return w===null||w.tag!==6?(w=em(b,y.mode,k),w.return=y,w):(w=i(w,b),w.return=y,w)}function l(y,w,b,k){var N=b.type;return N===Eo?d(y,w,b.props.children,k,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yi&&yE(N)===w.type)?(k=i(w,b.props),k.ref=gl(y,w,b),k.return=y,k):(k=Md(b.type,b.key,b.props,null,y.mode,k),k.ref=gl(y,w,b),k.return=y,k)}function u(y,w,b,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=tm(b,y.mode,k),w.return=y,w):(w=i(w,b.children||[]),w.return=y,w)}function d(y,w,b,k,N){return w===null||w.tag!==7?(w=$s(b,y.mode,k,N),w.return=y,w):(w=i(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=em(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bc:return b=Md(w.type,w.key,w.props,null,y.mode,b),b.ref=gl(y,null,w),b.return=y,b;case _o:return w=tm(w,y.mode,b),w.return=y,w;case yi:var k=w._init;return f(y,k(w._payload),b)}if(Tl(w)||dl(w))return w=$s(w,y.mode,b,null),w.return=y,w;Jc(y,w)}return null}function h(y,w,b,k){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(y,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bc:return b.key===N?l(y,w,b,k):null;case _o:return b.key===N?u(y,w,b,k):null;case yi:return N=b._init,h(y,w,N(b._payload),k)}if(Tl(b)||dl(b))return N!==null?null:d(y,w,b,k,null);Jc(y,b)}return null}function g(y,w,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,a(w,y,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Bc:return y=y.get(k.key===null?b:k.key)||null,l(w,y,k,N);case _o:return y=y.get(k.key===null?b:k.key)||null,u(w,y,k,N);case yi:var M=k._init;return g(y,w,b,M(k._payload),N)}if(Tl(k)||dl(k))return y=y.get(b)||null,d(w,y,k,N,null);Jc(w,k)}return null}function _(y,w,b,k){for(var N=null,M=null,P=w,T=w=0,C=null;P!==null&&T<b.length;T++){P.index>T?(C=P,P=null):C=P.sibling;var A=h(y,P,b[T],k);if(A===null){P===null&&(P=C);break}t&&P&&A.alternate===null&&e(y,P),w=s(A,w,T),M===null?N=A:M.sibling=A,M=A,P=C}if(T===b.length)return n(y,P),Le&&Ps(y,T),N;if(P===null){for(;T<b.length;T++)P=f(y,b[T],k),P!==null&&(w=s(P,w,T),M===null?N=P:M.sibling=P,M=P);return Le&&Ps(y,T),N}for(P=r(y,P);T<b.length;T++)C=g(P,y,T,b[T],k),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?T:C.key),w=s(C,w,T),M===null?N=C:M.sibling=C,M=C);return t&&P.forEach(function(D){return e(y,D)}),Le&&Ps(y,T),N}function E(y,w,b,k){var N=dl(b);if(typeof N!="function")throw Error($(150));if(b=N.call(b),b==null)throw Error($(151));for(var M=N=null,P=w,T=w=0,C=null,A=b.next();P!==null&&!A.done;T++,A=b.next()){P.index>T?(C=P,P=null):C=P.sibling;var D=h(y,P,A.value,k);if(D===null){P===null&&(P=C);break}t&&P&&D.alternate===null&&e(y,P),w=s(D,w,T),M===null?N=D:M.sibling=D,M=D,P=C}if(A.done)return n(y,P),Le&&Ps(y,T),N;if(P===null){for(;!A.done;T++,A=b.next())A=f(y,A.value,k),A!==null&&(w=s(A,w,T),M===null?N=A:M.sibling=A,M=A);return Le&&Ps(y,T),N}for(P=r(y,P);!A.done;T++,A=b.next())A=g(P,y,T,A.value,k),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?T:A.key),w=s(A,w,T),M===null?N=A:M.sibling=A,M=A);return t&&P.forEach(function(O){return e(y,O)}),Le&&Ps(y,T),N}function x(y,w,b,k){if(typeof b=="object"&&b!==null&&b.type===Eo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bc:e:{for(var N=b.key,M=w;M!==null;){if(M.key===N){if(N=b.type,N===Eo){if(M.tag===7){n(y,M.sibling),w=i(M,b.props.children),w.return=y,y=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yi&&yE(N)===M.type){n(y,M.sibling),w=i(M,b.props),w.ref=gl(y,M,b),w.return=y,y=w;break e}n(y,M);break}else e(y,M);M=M.sibling}b.type===Eo?(w=$s(b.props.children,y.mode,k,b.key),w.return=y,y=w):(k=Md(b.type,b.key,b.props,null,y.mode,k),k.ref=gl(y,w,b),k.return=y,y=k)}return o(y);case _o:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=i(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=tm(b,y.mode,k),w.return=y,y=w}return o(y);case yi:return M=b._init,x(y,w,M(b._payload),k)}if(Tl(b))return _(y,w,b,k);if(dl(b))return E(y,w,b,k);Jc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,b),w.return=y,y=w):(n(y,w),w=em(b,y.mode,k),w.return=y,y=w),o(y)):n(y,w)}return x}var ua=uP(!0),cP=uP(!1),hh=cs(null),fh=null,Ao=null,dv=null;function hv(){dv=Ao=fh=null}function fv(t){var e=hh.current;Oe(hh),t._currentValue=e}function gg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zo(t,e){fh=t,dv=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(dv!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(fh===null)throw Error($(308));Ao=t,fh.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var Ns=null;function pv(t){Ns===null?Ns=[t]:Ns.push(t)}function dP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}function vE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ph(t,e,n,r){var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(h=e,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=$e({},f,h);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ks|=o,t.lanes=o,t.memoizedState=f}}function wE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Gu={},cr=cs(Gu),cu=cs(Gu),du=cs(Gu);function Ds(t){if(t===Gu)throw Error($(174));return t}function gv(t,e){switch(Ie(du,e),Ie(cu,t),Ie(cr,Gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ym(e,t)}Oe(cr),Ie(cr,e)}function ca(){Oe(cr),Oe(cu),Oe(du)}function fP(t){Ds(du.current);var e=Ds(cr.current),n=Ym(e,t.type);e!==n&&(Ie(cu,t),Ie(cr,n))}function yv(t){cu.current===t&&(Oe(cr),Oe(cu))}var Fe=cs(0);function mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gp=[];function vv(){for(var t=0;t<Gp.length;t++)Gp[t]._workInProgressVersionPrimary=null;Gp.length=0}var Rd=ei.ReactCurrentDispatcher,Qp=ei.ReactCurrentBatchConfig,qs=0,Be=null,ot=null,ht=null,gh=!1,Fl=!1,hu=0,UO=0;function Ct(){throw Error($(321))}function wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function _v(t,e,n,r,i,s){if(qs=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rd.current=t===null||t.memoizedState===null?HO:WO,t=n(r,i),Fl){s=0;do{if(Fl=!1,hu=0,25<=s)throw Error($(301));s+=1,ht=ot=null,e.updateQueue=null,Rd.current=qO,t=n(r,i)}while(Fl)}if(Rd.current=yh,e=ot!==null&&ot.next!==null,qs=0,ht=ot=Be=null,gh=!1,e)throw Error($(300));return t}function Ev(){var t=hu!==0;return hu=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Be.memoizedState=ht=t:ht=ht.next=t,ht}function Cn(){if(ot===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ht===null?Be.memoizedState:ht.next;if(e!==null)ht=e,ot=t;else{if(t===null)throw Error($(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?Be.memoizedState=ht=t:ht=ht.next=t}return ht}function fu(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=Cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((qs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Be.lanes|=d,Ks|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,Ks|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=Cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function pP(){}function mP(t,e){var n=Be,r=Cn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,xv(vP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,pu(9,yP.bind(null,n,r,i,e),void 0,null),ft===null)throw Error($(349));qs&30||gP(n,e,i)}return i}function gP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yP(t,e,n,r){e.value=n,e.getSnapshot=r,wP(e)&&_P(t)}function vP(t,e,n){return n(function(){wP(e)&&_P(t)})}function wP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function _P(t){var e=Hr(t,1);e!==null&&$n(e,t,1,-1)}function _E(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:t},e.queue=t,t=t.dispatch=zO.bind(null,Be,t),[e.memoizedState,t]}function pu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EP(){return Cn().memoizedState}function kd(t,e,n,r){var i=nr();Be.flags|=t,i.memoizedState=pu(1|e,n,void 0,r===void 0?null:r)}function ff(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&wv(r,o.deps)){i.memoizedState=pu(e,n,s,r);return}}Be.flags|=t,i.memoizedState=pu(1|e,n,s,r)}function EE(t,e){return kd(8390656,8,t,e)}function xv(t,e){return ff(2048,8,t,e)}function xP(t,e){return ff(4,2,t,e)}function TP(t,e){return ff(4,4,t,e)}function bP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SP(t,e,n){return n=n!=null?n.concat([t]):null,ff(4,4,bP.bind(null,e,t),n)}function Tv(){}function PP(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IP(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CP(t,e,n){return qs&21?(Hn(n,e)||(n=DS(),Be.lanes|=n,Ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function BO(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{be=n,Qp.transition=r}}function AP(){return Cn().memoizedState}function $O(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RP(t))kP(e,n);else if(n=dP(t,e,n,r),n!==null){var i=Wt();$n(n,t,r,i),NP(n,e,r)}}function zO(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RP(t))kP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dP(t,e,i,r),n!==null&&(i=Wt(),$n(n,t,r,i),NP(n,e,r))}}function RP(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function kP(t,e){Fl=gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}var yh={readContext:In,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},HO={readContext:In,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:EE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kd(4194308,4,bP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return kd(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$O.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:_E,useDebugValue:Tv,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=_E(!1),e=t[0];return t=BO.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=nr();if(Le){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ft===null)throw Error($(349));qs&30||gP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,EE(vP.bind(null,r,s,t),[t]),r.flags|=2048,pu(9,yP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nr(),e=ft.identifierPrefix;if(Le){var n=Lr,r=Mr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WO={readContext:In,useCallback:PP,useContext:In,useEffect:xv,useImperativeHandle:SP,useInsertionEffect:xP,useLayoutEffect:TP,useMemo:IP,useReducer:Yp,useRef:EP,useState:function(){return Yp(fu)},useDebugValue:Tv,useDeferredValue:function(t){var e=Cn();return CP(e,ot.memoizedState,t)},useTransition:function(){var t=Yp(fu)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:pP,useSyncExternalStore:mP,useId:AP,unstable_isNewReconciler:!1},qO={readContext:In,useCallback:PP,useContext:In,useEffect:xv,useImperativeHandle:SP,useInsertionEffect:xP,useLayoutEffect:TP,useMemo:IP,useReducer:Xp,useRef:EP,useState:function(){return Xp(fu)},useDebugValue:Tv,useDeferredValue:function(t){var e=Cn();return ot===null?e.memoizedState=t:CP(e,ot.memoizedState,t)},useTransition:function(){var t=Xp(fu)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:pP,useSyncExternalStore:mP,useId:AP,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pf={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ui(t),s=Fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&($n(e,t,i,r),Ad(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ui(t),s=Fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&($n(e,t,i,r),Ad(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Ui(t),i=Fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&($n(e,t,r,n),Ad(e,t,r))}};function xE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ou(n,r)||!ou(i,s):!0}function DP(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=en(e)?Hs:jt.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pf.enqueueReplaceState(e,e.state,null)}function vg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=en(e)?Hs:jt.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pf.enqueueReplaceState(i,i.state,null),ph(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=_D(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KO=typeof WeakMap=="function"?WeakMap:Map;function OP(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wh||(wh=!0,Ag=r),wg(t,e)},n}function MP(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wg(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aM.bind(null,t,e,n),e.then(t,t))}function SE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var GO=ei.ReactCurrentOwner,Jt=!1;function $t(t,e,n,r){e.child=t===null?cP(e,null,n,r):ua(e,t.child,n,r)}function IE(t,e,n,r,i){n=n.render;var s=e.ref;return zo(e,i),r=_v(t,e,n,r,s,i),n=Ev(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Le&&n&&lv(e),e.flags|=1,$t(t,e,r,i),e.child)}function CE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LP(t,e,s,r,i)):(t=Md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ou,n(o,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function LP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ou(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return _g(t,e,n,r,i)}function VP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ko,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(ko,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(ko,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(ko,un),un|=r;return $t(t,e,i,n),e.child}function jP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,n,r,i){var s=en(n)?Hs:jt.current;return s=aa(e,s),zo(e,i),n=_v(t,e,n,r,s,i),r=Ev(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Le&&r&&lv(e),e.flags|=1,$t(t,e,n,i),e.child)}function AE(t,e,n,r,i){if(en(n)){var s=!0;uh(e)}else s=!1;if(zo(e,i),e.stateNode===null)Nd(t,e),DP(e,n,r),vg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=en(n)?Hs:jt.current,u=aa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&TE(e,o,r,u),vi=!1;var h=e.memoizedState;o.state=h,ph(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Zt.current||vi?(typeof d=="function"&&(yg(e,n,d,r),l=e.memoizedState),(a=vi||xE(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:On(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=en(n)?Hs:jt.current,l=aa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&TE(e,o,r,l),vi=!1,h=e.memoizedState,o.state=h,ph(e,r,o,i);var _=e.memoizedState;a!==f||h!==_||Zt.current||vi?(typeof g=="function"&&(yg(e,n,g,r),_=e.memoizedState),(u=vi||xE(e,n,u,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,s,i)}function Eg(t,e,n,r,i,s){jP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pE(e,n,!1),Wr(t,e,s);r=e.stateNode,GO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&pE(e,n,!0),e.child}function FP(t){var e=t.stateNode;e.pendingContext?fE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fE(t,e.context,!1),gv(t,e.containerInfo)}function RE(t,e,n,r,i){return la(),cv(i),e.flags|=256,$t(t,e,n,r),e.child}var xg={dehydrated:null,treeContext:null,retryLane:0};function Tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function UP(t,e,n){var r=e.pendingProps,i=Fe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Fe,i&1),t===null)return mg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yf(o,r,0,null),t=$s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tg(n),e.memoizedState=xg,t):bv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=$s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xg,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bv(t,e){return e=yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zc(t,e,n,r){return r!==null&&cv(r),ua(e,t.child,null,n),t=bv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error($(422))),Zc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yf({mode:"visible",children:r.children},i,0,null),s=$s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=Tg(o),e.memoizedState=xg,s);if(!(e.mode&1))return Zc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=Jp(s,r,void 0),Zc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hr(t,i),$n(r,t,i,-1))}return Rv(),r=Jp(Error($(421))),Zc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Vi(i.nextSibling),fn=e,Le=!0,jn=null,t!==null&&(En[xn++]=Mr,En[xn++]=Lr,En[xn++]=Ws,Mr=t.id,Lr=t.overflow,Ws=e),e=bv(e,r.children),e.flags|=4096,e)}function kE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gg(t.return,e,n)}function Zp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kE(t,n,e);else if(t.tag===19)kE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zp(e,!0,n,null,s);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YO(t,e,n){switch(e.tag){case 3:FP(e),la();break;case 5:fP(e);break;case 1:en(e.type)&&uh(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?UP(t,e,n):(Ie(Fe,Fe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Ie(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,VP(t,e,n)}return Wr(t,e,n)}var $P,bg,zP,HP;$P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bg=function(){};zP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ds(cr.current);var s=null;switch(n){case"input":i=qm(t,i),r=qm(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Qm(t,i),r=Qm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ah)}Xm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};HP=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XO(t,e,n){var r=e.pendingProps;switch(uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return en(e.type)&&lh(),At(e),null;case 3:return r=e.stateNode,ca(),Oe(Zt),Oe(jt),vv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Ng(jn),jn=null))),bg(t,e),At(e),null;case 5:yv(e);var i=Ds(du.current);if(n=e.type,t!==null&&e.stateNode!=null)zP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return At(e),null}if(t=Ds(cr.current),Xc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[uu]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ne(Sl[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":U_(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":$_(r,s),Ne("invalid",r)}Xm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yc(r.textContent,a,t),i=["children",""+a]):Zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":$c(r),B_(r,s,!0);break;case"textarea":$c(r),z_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ah)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[uu]=r,$P(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jm(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ne(Sl[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":U_(t,r),i=qm(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":$_(t,r),i=Qm(t,r),Ne("invalid",t);break;default:i=r}Xm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ES(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&eu(t,l):typeof l=="number"&&eu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&Gy(t,s,l,o))}switch(n){case"input":$c(t),B_(t,r,!1);break;case"textarea":$c(t),z_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)HP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ds(du.current),Ds(cr.current),Xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Yc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return At(e),null;case 13:if(Oe(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&dn!==null&&e.mode&1&&!(e.flags&128))lP(),la(),e.flags|=98560,s=!1;else if(s=Xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[lr]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else jn!==null&&(Ng(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?lt===0&&(lt=3):Rv())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return ca(),bg(t,e),t===null&&au(e.stateNode.containerInfo),At(e),null;case 10:return fv(e.type._context),At(e),null;case 17:return en(e.type)&&lh(),At(e),null;case 19:if(Oe(Fe),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)yl(s,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mh(t),o!==null){for(e.flags|=128,yl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>ha&&(e.flags|=128,r=!0,yl(s,!1),e.lanes=4194304)}else{if(!r)if(t=mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return At(e),null}else 2*Je()-s.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,yl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Fe.current,Ie(Fe,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function JO(t,e){switch(uv(e),e.tag){case 1:return en(e.type)&&lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Oe(Zt),Oe(jt),vv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(Oe(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Fe),null;case 4:return ca(),null;case 10:return fv(e.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var ed=!1,Ot=!1,ZO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function Sg(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var NE=!1;function eM(t,e){if(lg=ih,t=QS(),av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},ih=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,x=_.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:On(e.type,E),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){Qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=NE,NE=!1,_}function Ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sg(e,n,s)}i=i.next}while(i!==r)}}function mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WP(t){var e=t.alternate;e!==null&&(t.alternate=null,WP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[uu],delete e[hg],delete e[LO],delete e[VO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qP(t){return t.tag===5||t.tag===3||t.tag===4}function DE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ah));else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}function Cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}var mt=null,Vn=!1;function ui(t,e,n){for(n=n.child;n!==null;)KP(t,e,n),n=n.sibling}function KP(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(af,n)}catch{}switch(n.tag){case 5:Ot||Ro(n,e);case 6:var r=mt,i=Vn;mt=null,ui(t,e,n),mt=r,Vn=i,mt!==null&&(Vn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Vn?(t=mt,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),iu(t)):qp(mt,n.stateNode));break;case 4:r=mt,i=Vn,mt=n.stateNode.containerInfo,Vn=!0,ui(t,e,n),mt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sg(n,e,o),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!Ot&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ui(t,e,n),Ot=r):ui(t,e,n);break;default:ui(t,e,n)}}function OE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZO),e.forEach(function(r){var i=uM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Vn=!1;break e;case 3:mt=a.stateNode.containerInfo,Vn=!0;break e;case 4:mt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(mt===null)throw Error($(160));KP(s,o,i),mt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GP(e,t),e=e.sibling}function GP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),tr(t),r&4){try{Ul(3,t,t.return),mf(3,t)}catch(E){Qe(t,t.return,E)}try{Ul(5,t,t.return)}catch(E){Qe(t,t.return,E)}}break;case 1:Nn(e,t),tr(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(Nn(e,t),tr(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{eu(i,"")}catch(E){Qe(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gS(i,s),Jm(a,o);var u=Jm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?ES(i,f):d==="dangerouslySetInnerHTML"?wS(i,f):d==="children"?eu(i,f):Gy(i,d,f,u)}switch(a){case"input":Km(i,s);break;case"textarea":yS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Fo(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[uu]=s}catch(E){Qe(t,t.return,E)}}break;case 6:if(Nn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Qe(t,t.return,E)}}break;case 3:if(Nn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{iu(e.containerInfo)}catch(E){Qe(t,t.return,E)}break;case 4:Nn(e,t),tr(t);break;case 13:Nn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iv=Je())),r&4&&OE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||d,Nn(e,t),Ot=u):Nn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ul(4,h,h.return);break;case 1:Ro(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Qe(r,n,E)}}break;case 5:Ro(h,h.return);break;case 22:if(h.memoizedState!==null){LE(f);continue}}g!==null?(g.return=h,Y=g):LE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_S("display",o))}catch(E){Qe(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){Qe(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),tr(t),r&4&&OE(t);break;case 21:break;default:Nn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qP(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eu(i,""),r.flags&=-33);var s=DE(t);Cg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=DE(t);Ig(t,a,o);break;default:throw Error($(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tM(t,e,n){Y=t,QP(t)}function QP(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ed;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=ed;var u=Ot;if(ed=o,(Ot=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?VE(i):l!==null?(l.return=o,Y=l):VE(i);for(;s!==null;)Y=s,QP(s),s=s.sibling;Y=i,ed=a,Ot=u}ME(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):ME(t)}}function ME(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&iu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ot||e.flags&512&&Pg(e)}catch(h){Qe(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function LE(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function VE(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mf(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{Pg(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{Pg(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var nM=Math.ceil,vh=ei.ReactCurrentDispatcher,Sv=ei.ReactCurrentOwner,Sn=ei.ReactCurrentBatchConfig,ve=0,ft=null,nt=null,wt=0,un=0,ko=cs(0),lt=0,mu=null,Ks=0,gf=0,Pv=0,Bl=null,Yt=null,Iv=0,ha=1/0,Dr=null,wh=!1,Ag=null,Fi=null,td=!1,ki=null,_h=0,$l=0,Rg=null,Dd=-1,Od=0;function Wt(){return ve&6?Je():Dd!==-1?Dd:Dd=Je()}function Ui(t){return t.mode&1?ve&2&&wt!==0?wt&-wt:FO.transition!==null?(Od===0&&(Od=DS()),Od):(t=be,t!==0||(t=window.event,t=t===void 0?16:US(t.type)),t):1}function $n(t,e,n,r){if(50<$l)throw $l=0,Rg=null,Error($(185));Wu(t,n,r),(!(ve&2)||t!==ft)&&(t===ft&&(!(ve&2)&&(gf|=n),lt===4&&_i(t,wt)),tn(t,r),n===1&&ve===0&&!(e.mode&1)&&(ha=Je()+500,hf&&ds()))}function tn(t,e){var n=t.callbackNode;FD(t,e);var r=rh(t,t===ft?wt:0);if(r===0)n!==null&&q_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q_(n),e===1)t.tag===0?jO(jE.bind(null,t)):sP(jE.bind(null,t)),OO(function(){!(ve&6)&&ds()}),n=null;else{switch(OS(r)){case 1:n=Zy;break;case 4:n=kS;break;case 16:n=nh;break;case 536870912:n=NS;break;default:n=nh}n=rI(n,YP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YP(t,e){if(Dd=-1,Od=0,ve&6)throw Error($(327));var n=t.callbackNode;if(Ho()&&t.callbackNode!==n)return null;var r=rh(t,t===ft?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eh(t,r);else{e=r;var i=ve;ve|=2;var s=JP();(ft!==t||wt!==e)&&(Dr=null,ha=Je()+500,Bs(t,e));do try{sM();break}catch(a){XP(t,a)}while(!0);hv(),vh.current=s,ve=i,nt!==null?e=0:(ft=null,wt=0,e=lt)}if(e!==0){if(e===2&&(i=rg(t),i!==0&&(r=i,e=kg(t,i))),e===1)throw n=mu,Bs(t,0),_i(t,r),tn(t,Je()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!rM(i)&&(e=Eh(t,r),e===2&&(s=rg(t),s!==0&&(r=s,e=kg(t,s))),e===1))throw n=mu,Bs(t,0),_i(t,r),tn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Is(t,Yt,Dr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=Iv+500-Je(),10<e)){if(rh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dg(Is.bind(null,t,Yt,Dr),e);break}Is(t,Yt,Dr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nM(r/1960))-r,10<r){t.timeoutHandle=dg(Is.bind(null,t,Yt,Dr),r);break}Is(t,Yt,Dr);break;case 5:Is(t,Yt,Dr);break;default:throw Error($(329))}}}return tn(t,Je()),t.callbackNode===n?YP.bind(null,t):null}function kg(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(Bs(t,e).flags|=256),t=Eh(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Ng(e)),t}function Ng(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function rM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~Pv,e&=~gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function jE(t){if(ve&6)throw Error($(327));Ho();var e=rh(t,0);if(!(e&1))return tn(t,Je()),null;var n=Eh(t,e);if(t.tag!==0&&n===2){var r=rg(t);r!==0&&(e=r,n=kg(t,r))}if(n===1)throw n=mu,Bs(t,0),_i(t,e),tn(t,Je()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Yt,Dr),tn(t,Je()),null}function Cv(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ha=Je()+500,hf&&ds())}}function Gs(t){ki!==null&&ki.tag===0&&!(ve&6)&&Ho();var e=ve;ve|=1;var n=Sn.transition,r=be;try{if(Sn.transition=null,be=1,t)return t()}finally{be=r,Sn.transition=n,ve=e,!(ve&6)&&ds()}}function Av(){un=ko.current,Oe(ko)}function Bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DO(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lh();break;case 3:ca(),Oe(Zt),Oe(jt),vv();break;case 5:yv(r);break;case 4:ca();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:fv(r.type._context);break;case 22:case 23:Av()}n=n.return}if(ft=t,nt=t=Bi(t.current,null),wt=un=e,lt=0,mu=null,Pv=gf=Ks=0,Yt=Bl=null,Ns!==null){for(e=0;e<Ns.length;e++)if(n=Ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return t}function XP(t,e){do{var n=nt;try{if(hv(),Rd.current=yh,gh){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gh=!1}if(qs=0,ht=ot=Be=null,Fl=!1,hu=0,Sv.current=null,n===null||n.return===null){lt=1,mu=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=SE(o);if(g!==null){g.flags&=-257,PE(g,o,a,s,e),g.mode&1&&bE(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var E=new Set;E.add(l),e.updateQueue=E}else _.add(l);break e}else{if(!(e&1)){bE(s,u,e),Rv();break e}l=Error($(426))}}else if(Le&&a.mode&1){var x=SE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PE(x,o,a,s,e),cv(da(l,a));break e}}s=l=da(l,a),lt!==4&&(lt=2),Bl===null?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=OP(s,l,e);vE(s,y);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fi===null||!Fi.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=MP(s,a,e);vE(s,k);break e}}s=s.return}while(s!==null)}eI(n)}catch(N){e=N,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function JP(){var t=vh.current;return vh.current=yh,t===null?yh:t}function Rv(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(Ks&268435455)&&!(gf&268435455)||_i(ft,wt)}function Eh(t,e){var n=ve;ve|=2;var r=JP();(ft!==t||wt!==e)&&(Dr=null,Bs(t,e));do try{iM();break}catch(i){XP(t,i)}while(!0);if(hv(),ve=n,vh.current=r,nt!==null)throw Error($(261));return ft=null,wt=0,lt}function iM(){for(;nt!==null;)ZP(nt)}function sM(){for(;nt!==null&&!RD();)ZP(nt)}function ZP(t){var e=nI(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?eI(t):nt=e,Sv.current=null}function eI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JO(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,nt=null;return}}else if(n=XO(n,e,un),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);lt===0&&(lt=5)}function Is(t,e,n){var r=be,i=Sn.transition;try{Sn.transition=null,be=1,oM(t,e,n,r)}finally{Sn.transition=i,be=r}return null}function oM(t,e,n,r){do Ho();while(ki!==null);if(ve&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UD(t,s),t===ft&&(nt=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,rI(nh,function(){return Ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=be;be=1;var a=ve;ve|=4,Sv.current=null,eM(t,n),GP(n,t),PO(ug),ih=!!lg,ug=lg=null,t.current=n,tM(n),kD(),ve=a,be=o,Sn.transition=s}else t.current=n;if(td&&(td=!1,ki=t,_h=i),s=t.pendingLanes,s===0&&(Fi=null),OD(n.stateNode),tn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wh)throw wh=!1,t=Ag,Ag=null,t;return _h&1&&t.tag!==0&&Ho(),s=t.pendingLanes,s&1?t===Rg?$l++:($l=0,Rg=t):$l=0,ds(),null}function Ho(){if(ki!==null){var t=OS(_h),e=Sn.transition,n=be;try{if(Sn.transition=null,be=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,_h=0,ve&6)throw Error($(331));var i=ve;for(ve|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ul(8,d,s)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,g=d.return;if(WP(d),d===u){Y=null;break}if(h!==null){h.return=g,Y=h;break}Y=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ul(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var w=t.current;for(Y=w;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mf(9,a)}}catch(N){Qe(a,a.return,N)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(ve=i,ds(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(af,t)}catch{}r=!0}return r}finally{be=n,Sn.transition=e}}return!1}function FE(t,e,n){e=da(n,e),e=OP(t,e,1),t=ji(t,e,1),e=Wt(),t!==null&&(Wu(t,1,e),tn(t,e))}function Qe(t,e,n){if(t.tag===3)FE(t,t,n);else for(;e!==null;){if(e.tag===3){FE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=da(n,t),t=MP(e,t,1),e=ji(e,t,1),t=Wt(),e!==null&&(Wu(e,1,t),tn(e,t));break}}e=e.return}}function aM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(wt&n)===n&&(lt===4||lt===3&&(wt&130023424)===wt&&500>Je()-Iv?Bs(t,0):Pv|=n),tn(t,e)}function tI(t,e){e===0&&(t.mode&1?(e=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):e=1);var n=Wt();t=Hr(t,e),t!==null&&(Wu(t,e,n),tn(t,n))}function lM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tI(t,n)}function uM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),tI(t,n)}var nI;nI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,YO(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Le&&e.flags&1048576&&oP(e,dh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var i=aa(e,jt.current);zo(e,n),i=_v(null,e,r,t,i,n);var s=Ev();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(s=!0,uh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(e),i.updater=pf,e.stateNode=i,i._reactInternals=e,vg(e,r,t,n),e=Eg(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&lv(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dM(r),t=On(r,t),i){case 0:e=_g(null,e,r,t,n);break e;case 1:e=AE(null,e,r,t,n);break e;case 11:e=IE(null,e,r,t,n);break e;case 14:e=CE(null,e,r,On(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),_g(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),AE(t,e,r,i,n);case 3:e:{if(FP(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hP(t,e),ph(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error($(423)),e),e=RE(t,e,r,n,i);break e}else if(r!==i){i=da(Error($(424)),e),e=RE(t,e,r,n,i);break e}else for(dn=Vi(e.stateNode.containerInfo.firstChild),fn=e,Le=!0,jn=null,n=cP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=Wr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return fP(e),t===null&&mg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,cg(r,i)?o=null:s!==null&&cg(r,s)&&(e.flags|=32),jP(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&mg(e),null;case 13:return UP(t,e,n);case 4:return gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),IE(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(hh,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!Zt.current){e=Wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zo(e,n),i=In(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),CE(t,e,r,i,n);case 15:return LP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Nd(t,e),e.tag=1,en(r)?(t=!0,uh(e)):t=!1,zo(e,n),DP(e,r,i),vg(e,r,i,n),Eg(null,e,r,!0,t,n);case 19:return BP(t,e,n);case 22:return VP(t,e,n)}throw Error($(156,e.tag))};function rI(t,e){return RS(t,e)}function cM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new cM(t,e,n,r)}function kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dM(t){if(typeof t=="function")return kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yy)return 11;if(t===Xy)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Md(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eo:return $s(n.children,i,s,e);case Qy:o=8,i|=8;break;case $m:return t=bn(12,n,e,i|2),t.elementType=$m,t.lanes=s,t;case zm:return t=bn(13,n,e,i),t.elementType=zm,t.lanes=s,t;case Hm:return t=bn(19,n,e,i),t.elementType=Hm,t.lanes=s,t;case fS:return yf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dS:o=10;break e;case hS:o=9;break e;case Yy:o=11;break e;case Xy:o=14;break e;case yi:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $s(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function yf(t,e,n,r){return t=bn(22,t,r,e),t.elementType=fS,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,r,i,s,o,a,l){return t=new hM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(s),t}function fM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iI(t){if(!t)return Yi;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(en(n))return iP(t,n,e)}return e}function sI(t,e,n,r,i,s,o,a,l){return t=Nv(n,r,!0,t,i,s,o,a,l),t.context=iI(null),n=t.current,r=Wt(),i=Ui(n),s=Fr(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,Wu(t,i,r),tn(t,r),t}function vf(t,e,n,r){var i=e.current,s=Wt(),o=Ui(i);return n=iI(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&($n(t,i,o,s),Ad(t,i,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dv(t,e){UE(t,e),(t=t.alternate)&&UE(t,e)}function pM(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ov(t){this._internalRoot=t}wf.prototype.render=Ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));vf(t,e,null,null)};wf.prototype.unmount=Ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gs(function(){vf(null,t,null,null)}),e[zr]=null}};function wf(t){this._internalRoot=t}wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=VS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&FS(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BE(){}function mM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xh(o);s.call(u)}}var o=sI(e,r,t,0,null,!1,!1,"",BE);return t._reactRootContainer=o,t[zr]=o.current,au(t.nodeType===8?t.parentNode:t),Gs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xh(l);a.call(u)}}var l=Nv(t,0,!1,null,null,!1,!1,"",BE);return t._reactRootContainer=l,t[zr]=l.current,au(t.nodeType===8?t.parentNode:t),Gs(function(){vf(e,l,n,r)}),l}function Ef(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xh(o);a.call(l)}}vf(e,o,t,i)}else o=mM(n,e,t,i,r);return xh(o)}MS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(ev(e,n|1),tn(e,Je()),!(ve&6)&&(ha=Je()+500,ds()))}break;case 13:Gs(function(){var r=Hr(t,1);if(r!==null){var i=Wt();$n(r,t,1,i)}}),Dv(t,1)}};tv=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=Wt();$n(e,t,134217728,n)}Dv(t,134217728)}};LS=function(t){if(t.tag===13){var e=Ui(t),n=Hr(t,e);if(n!==null){var r=Wt();$n(n,t,e,r)}Dv(t,e)}};VS=function(){return be};jS=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};eg=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=df(r);if(!i)throw Error($(90));mS(r),Km(r,i)}}}break;case"textarea":yS(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};bS=Cv;SS=Gs;var gM={usingClientEntryPoint:!1,Events:[Ku,So,df,xS,TS,Cv]},vl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yM={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CS(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||pM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{af=nd.inject(yM),ur=nd}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gM;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error($(200));return fM(t,e,null,n)};gn.createRoot=function(t,e){if(!Mv(t))throw Error($(299));var n=!1,r="",i=oI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,au(t.nodeType===8?t.parentNode:t),new Ov(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=CS(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Gs(t)};gn.hydrate=function(t,e,n){if(!_f(e))throw Error($(200));return Ef(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sI(e,null,t,1,n??null,i,!1,s,o),t[zr]=e.current,au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wf(e)};gn.render=function(t,e,n){if(!_f(e))throw Error($(200));return Ef(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!_f(t))throw Error($(40));return t._reactRootContainer?(Gs(function(){Ef(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};gn.unstable_batchedUpdates=Cv;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_f(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Ef(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function aI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aI)}catch(t){console.error(t)}}aI(),aS.exports=gn;var Aa=aS.exports;const lI=Qb(Aa);var uI,$E=Aa;uI=$E.createRoot,$E.hydrateRoot;const vM=1,wM=1e6;let nm=0;function _M(){return nm=(nm+1)%Number.MAX_SAFE_INTEGER,nm.toString()}const rm=new Map,zE=t=>{if(rm.has(t))return;const e=setTimeout(()=>{rm.delete(t),zl({type:"REMOVE_TOAST",toastId:t})},wM);rm.set(t,e)},EM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,vM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zE(n):t.toasts.forEach(r=>{zE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ld=[];let Vd={toasts:[]};function zl(t){Vd=EM(Vd,t),Ld.forEach(e=>{e(Vd)})}function xM({...t}){const e=_M(),n=i=>zl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>zl({type:"DISMISS_TOAST",toastId:e});return zl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function TM(){const[t,e]=S.useState(Vd);return S.useEffect(()=>(Ld.push(e),()=>{const n=Ld.indexOf(e);n>-1&&Ld.splice(n,1)}),[t]),{...t,toast:xM,dismiss:n=>zl({type:"DISMISS_TOAST",toastId:n})}}function at(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bM(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function cI(...t){return e=>t.forEach(n=>bM(n,e))}function Wn(...t){return S.useCallback(cI(...t),t)}function SM(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,..._}=f,E=(h==null?void 0:h[t][l])||a,x=S.useMemo(()=>_,Object.values(_));return m.jsx(E.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,_=S.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,PM(i,...e)]}function PM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var gu=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(IM);if(s){const o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return m.jsx(Dg,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return m.jsx(Dg,{...r,ref:e,children:n})});gu.displayName="Slot";var Dg=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=AM(n);return S.cloneElement(n,{...CM(r,n.props),ref:e?cI(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});Dg.displayName="SlotClone";var dI=({children:t})=>m.jsx(m.Fragment,{children:t});function IM(t){return S.isValidElement(t)&&t.type===dI}function CM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function AM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function RM(t){const e=t+"CollectionProvider",[n,r]=SM(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:E}=g,x=q.useRef(null),y=q.useRef(new Map).current;return m.jsx(i,{scope:_,itemMap:y,collectionRef:x,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((g,_)=>{const{scope:E,children:x}=g,y=s(a,E),w=Wn(_,y.collectionRef);return m.jsx(gu,{ref:w,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=q.forwardRef((g,_)=>{const{scope:E,children:x,...y}=g,w=q.useRef(null),b=Wn(_,w),k=s(u,E);return q.useEffect(()=>(k.itemMap.set(w,{ref:w,...y}),()=>void k.itemMap.delete(w))),m.jsx(gu,{[d]:"",ref:b,children:x})});f.displayName=u;function h(g){const _=s(t+"CollectionConsumer",g);return q.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((k,N)=>y.indexOf(k.ref.current)-y.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function hI(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:g,..._}=f,E=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,x=S.useMemo(()=>_,Object.values(_));return m.jsx(E.Provider,{value:x,children:g})};u.displayName=s+"Provider";function d(f,h){var E;const g=((E=h==null?void 0:h[t])==null?void 0:E[l])||a,_=S.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kM(i,...e)]}function kM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var NM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rn=NM.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?gu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fI(t,e){t&&Aa.flushSync(()=>t.dispatchEvent(e))}function wr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DM(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OM="DismissableLayer",Og="dismissableLayer.update",MM="dismissableLayer.pointerDownOutside",LM="dismissableLayer.focusOutside",HE,pI=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lv=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=S.useContext(pI),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=S.useState({}),_=Wn(e,P=>f(P)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(x),w=d?E.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=y,N=jM(P=>{const T=P.target,C=[...u.branches].some(A=>A.contains(T));!k||C||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},h),M=FM(P=>{const T=P.target;[...u.branches].some(A=>A.contains(T))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},h);return DM(P=>{w===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},h),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(HE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),WE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=HE)}},[d,h,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),WE())},[d,u]),S.useEffect(()=>{const P=()=>g({});return document.addEventListener(Og,P),()=>document.removeEventListener(Og,P)},[]),m.jsx(rn.div,{...l,ref:_,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,M.onFocusCapture),onBlurCapture:at(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,N.onPointerDownCapture)})});Lv.displayName=OM;var VM="DismissableLayerBranch",mI=S.forwardRef((t,e)=>{const n=S.useContext(pI),r=S.useRef(null),i=Wn(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(rn.div,{...t,ref:i})});mI.displayName=VM;function jM(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){gI(MM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function FM(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&gI(LM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WE(){const t=new CustomEvent(Og);document.dispatchEvent(t)}function gI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fI(i,s):i.dispatchEvent(s)}var UM=Lv,BM=mI,Qs=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},$M="Portal",yI=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);Qs(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lI.createPortal(m.jsx(rn.div,{...r,ref:e}),o):null});yI.displayName=$M;function zM(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Vv=t=>{const{present:e,children:n}=t,r=HM(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=Wn(r.ref,WM(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Vv.displayName="Presence";function HM(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=zM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=rd(r.current);s.current=a==="mounted"?u:"none"},[a]),Qs(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,g=rd(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Qs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const E=rd(r.current).includes(g.animationName);if(g.target===e&&E&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(s.current=rd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function rd(t){return(t==null?void 0:t.animationName)||"none"}function WM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qM({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=KM({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=wr(n),l=S.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function KM({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),s=wr(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var GM="VisuallyHidden",xf=S.forwardRef((t,e)=>m.jsx(rn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));xf.displayName=GM;var QM=xf,jv="ToastProvider",[Fv,YM,XM]=RM("Toast"),[vI,dG]=hI("Toast",[XM]),[JM,Tf]=vI(jv),wI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jv}\`. Expected non-empty \`string\`.`),m.jsx(Fv.Provider,{scope:e,children:m.jsx(JM,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>d(g=>g+1),[]),onToastRemove:S.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};wI.displayName=jv;var _I="ToastViewport",ZM=["F8"],Mg="toast.viewportPause",Lg="toast.viewportResume",EI=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ZM,label:i="Notifications ({hotkey})",...s}=t,o=Tf(_I,n),a=YM(n),l=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=Wn(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;S.useEffect(()=>{const x=y=>{var b;r.length!==0&&r.every(k=>y[k]||y.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),S.useEffect(()=>{const x=l.current,y=f.current;if(_&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Mg);y.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Lg);y.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!x.contains(M.relatedTarget)&&b()},N=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",k),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[_,o.isClosePausedRef]);const E=S.useCallback(({tabbingDirection:x})=>{const w=a().map(b=>{const k=b.ref.current,N=[k,...hL(k)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return S.useEffect(()=>{const x=f.current;if(x){const y=w=>{var N,M,P;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const T=document.activeElement,C=w.shiftKey;if(w.target===x&&C){(N=u.current)==null||N.focus();return}const O=E({tabbingDirection:C?"backwards":"forwards"}),R=O.findIndex(H=>H===T);im(O.slice(R+1))?w.preventDefault():C?(M=u.current)==null||M.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,E]),m.jsxs(BM,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&m.jsx(Vg,{ref:u,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"forwards"});im(x)}}),m.jsx(Fv.Slot,{scope:n,children:m.jsx(rn.ol,{tabIndex:-1,...s,ref:h})}),_&&m.jsx(Vg,{ref:d,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"backwards"});im(x)}})]})});EI.displayName=_I;var xI="ToastFocusProxy",Vg=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Tf(xI,n);return m.jsx(xf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Vg.displayName=xI;var bf="Toast",eL="toast.swipeStart",tL="toast.swipeMove",nL="toast.swipeCancel",rL="toast.swipeEnd",TI=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=qM({prop:r,defaultProp:i,onChange:s});return m.jsx(Vv,{present:n||a,children:m.jsx(oL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wr(t.onPause),onResume:wr(t.onResume),onSwipeStart:at(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:at(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:at(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:at(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});TI.displayName=bf;var[iL,sL]=vI(bf,{onClose(){}}),oL=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,..._}=t,E=Tf(bf,n),[x,y]=S.useState(null),w=Wn(e,H=>y(H)),b=S.useRef(null),k=S.useRef(null),N=i||E.duration,M=S.useRef(0),P=S.useRef(N),T=S.useRef(0),{onToastAdd:C,onToastRemove:A}=E,D=wr(()=>{var oe;(x==null?void 0:x.contains(document.activeElement))&&((oe=E.viewport)==null||oe.focus()),o()}),O=S.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,H))},[D]);S.useEffect(()=>{const H=E.viewport;if(H){const oe=()=>{O(P.current),u==null||u()},ne=()=>{const J=new Date().getTime()-M.current;P.current=P.current-J,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(Mg,ne),H.addEventListener(Lg,oe),()=>{H.removeEventListener(Mg,ne),H.removeEventListener(Lg,oe)}}},[E.viewport,N,l,u,O]),S.useEffect(()=>{s&&!E.isClosePausedRef.current&&O(N)},[s,N,E.isClosePausedRef,O]),S.useEffect(()=>(C(),()=>A()),[C,A]);const R=S.useMemo(()=>x?RI(x):null,[x]);return E.viewport?m.jsxs(m.Fragment,{children:[R&&m.jsx(aL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),m.jsx(iL,{scope:n,onClose:D,children:Aa.createPortal(m.jsx(Fv.ItemSlot,{scope:n,children:m.jsx(UM,{asChild:!0,onEscapeKeyDown:at(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||D(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(rn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,..._,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:at(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:at(t.onPointerDown,H=>{H.button===0&&(b.current={x:H.clientX,y:H.clientY})}),onPointerMove:at(t.onPointerMove,H=>{if(!b.current)return;const oe=H.clientX-b.current.x,ne=H.clientY-b.current.y,J=!!k.current,V=["left","right"].includes(E.swipeDirection),z=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,X=V?z(0,oe):0,Q=V?0:z(0,ne),Z=H.pointerType==="touch"?10:2,te={x:X,y:Q},Ae={originalEvent:H,delta:te};J?(k.current=te,id(tL,f,Ae,{discrete:!1})):qE(te,E.swipeDirection,Z)?(k.current=te,id(eL,d,Ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(oe)>Z||Math.abs(ne)>Z)&&(b.current=null)}),onPointerUp:at(t.onPointerUp,H=>{const oe=k.current,ne=H.target;if(ne.hasPointerCapture(H.pointerId)&&ne.releasePointerCapture(H.pointerId),k.current=null,b.current=null,oe){const J=H.currentTarget,V={originalEvent:H,delta:oe};qE(oe,E.swipeDirection,E.swipeThreshold)?id(rL,g,V,{discrete:!0}):id(nL,h,V,{discrete:!0}),J.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),aL=t=>{const{__scopeToast:e,children:n,...r}=t,i=Tf(bf,e),[s,o]=S.useState(!1),[a,l]=S.useState(!1);return cL(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(yI,{asChild:!0,children:m.jsx(xf,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},lL="ToastTitle",bI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(rn.div,{...r,ref:e})});bI.displayName=lL;var uL="ToastDescription",SI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(rn.div,{...r,ref:e})});SI.displayName=uL;var PI="ToastAction",II=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(AI,{altText:n,asChild:!0,children:m.jsx(Uv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PI}\`. Expected non-empty \`string\`.`),null)});II.displayName=PI;var CI="ToastClose",Uv=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=sL(CI,n);return m.jsx(AI,{asChild:!0,children:m.jsx(rn.button,{type:"button",...r,ref:e,onClick:at(t.onClick,i.onClose)})})});Uv.displayName=CI;var AI=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(rn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function RI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dL(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...RI(r))}}),e}function id(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fI(i,s):i.dispatchEvent(s)}var qE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function cL(t=()=>{}){const e=wr(t);Qs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dL(t){return t.nodeType===t.ELEMENT_NODE}function hL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function im(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var fL=wI,kI=EI,NI=TI,DI=bI,OI=SI,MI=II,LI=Uv;function VI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VI(t))&&(r&&(r+=" "),r+=e);return r}const KE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,GE=jI,FI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return GE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=KE(d)||KE(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(_=>{let[E,x]=_;return Array.isArray(x)?x.includes({...s,...a}[E]):{...s,...a}[E]===x})?[...u,f,h]:u},[]);return GE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...mL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UI("lucide",i),...a},[...o.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(gL,{ref:s,iconNode:e,className:UI(`lucide-${pL(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=pe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=pe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=pe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=pe("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=pe("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=pe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$v="-",BL=t=>{const e=zL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($v);return a[0]===""&&a.length!==1&&a.shift(),WI(a,e)||$L(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},WI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?WI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join($v);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},JE=/^\[(.+)\]$/,$L=t=>{if(JE.test(t)){const e=JE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return WL(Object.entries(t.classGroups),n).forEach(([s,o])=>{Fg(o,r,s,e)}),r},Fg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ZE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(HL(i)){Fg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Fg(o,ZE(e,s),n,r)})})},ZE=(t,e)=>{let n=t;return e.split($v).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HL=t=>t.isThemeGetter,WL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,qL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},qI="!",KL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(u===0){if(y===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(y==="/"){f=x;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?a:a.substring(d),g=h.startsWith(qI),_=g?h.substring(1):h,E=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},GL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},QL=t=>({cache:qL(t.cacheSize),parseClassName:KL(t),...BL(t)}),YL=/\s+/,XL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(YL);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let _=!!g,E=r(_?h.substring(0,g):h);if(!E){if(!_){a=u+(a.length>0?" "+a:a);continue}if(E=r(h),!E){a=u+(a.length>0?" "+a:a);continue}_=!1}const x=GL(d).join(":"),y=f?x+qI:x,w=y+E;if(s.includes(w))continue;s.push(w);const b=i(E,_);for(let k=0;k<b.length;++k){const N=b[k];s.push(y+N)}a=u+(a.length>0?" "+a:a)}return a};function JL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KI(e))&&(r&&(r+=" "),r+=n);return r}const KI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=KI(t[r]))&&(n&&(n+=" "),n+=e);return n};function ZL(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=QL(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=XL(l,n);return i(l,d),d}return function(){return s(JL.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GI=/^\[(?:([a-z-]+):)?(.+)\]$/i,eV=/^\d+\/\d+$/,tV=new Set(["px","full","screen"]),nV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=t=>Wo(t)||tV.has(t)||eV.test(t),ci=t=>Ra(t,"length",pV),Wo=t=>!!t&&!Number.isNaN(Number(t)),am=t=>Ra(t,"number",Wo),wl=t=>!!t&&Number.isInteger(Number(t)),aV=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),ce=t=>GI.test(t),di=t=>nV.test(t),lV=new Set(["length","size","percentage"]),uV=t=>Ra(t,lV,QI),cV=t=>Ra(t,"position",QI),dV=new Set(["image","url"]),hV=t=>Ra(t,dV,gV),fV=t=>Ra(t,"",mV),_l=()=>!0,Ra=(t,e,n)=>{const r=GI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},pV=t=>rV.test(t)&&!iV.test(t),QI=()=>!1,mV=t=>sV.test(t),gV=t=>oV.test(t),yV=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),i=ke("borderColor"),s=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),f=ke("invert"),h=ke("gap"),g=ke("gradientColorStops"),_=ke("gradientColorStopPositions"),E=ke("inset"),x=ke("margin"),y=ke("opacity"),w=ke("padding"),b=ke("saturate"),k=ke("scale"),N=ke("sepia"),M=ke("skew"),P=ke("space"),T=ke("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],O=()=>[ce,e],R=()=>["",kr,ci],H=()=>["auto",Wo,ce],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Wo,ce];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[kr,ci],blur:["none","",di,ce],brightness:Q(),borderColor:[t],borderRadius:["none","","full",di,ce],borderSpacing:O(),borderWidth:R(),contrast:Q(),grayscale:z(),hueRotate:Q(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[aV,ci],inset:D(),margin:D(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:z(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[di]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",wl,ce]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",wl,ce]},ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[wl,ce]},ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[di]},di]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",di,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",am]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Wo,am]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,ci]}],"underline-offset":[{"underline-offset":["auto",kr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),cV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[kr,ce]}],"outline-w":[{outline:[kr,ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[kr,ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",di,fV]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",di,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[wl,ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kr,ci,am]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vV=ZL(yV);function hs(...t){return vV(jI(t))}const wV=fL,YI=S.forwardRef(({className:t,...e},n)=>m.jsx(kI,{ref:n,className:hs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YI.displayName=kI.displayName;const _V=FI("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XI=S.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(NI,{ref:r,className:hs(_V({variant:e}),t),...n}));XI.displayName=NI.displayName;const EV=S.forwardRef(({className:t,...e},n)=>m.jsx(MI,{ref:n,className:hs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));EV.displayName=MI.displayName;const JI=S.forwardRef(({className:t,...e},n)=>m.jsx(LI,{ref:n,className:hs("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(HI,{className:"h-4 w-4"})}));JI.displayName=LI.displayName;const ZI=S.forwardRef(({className:t,...e},n)=>m.jsx(DI,{ref:n,className:hs("text-sm font-semibold",t),...e}));ZI.displayName=DI.displayName;const eC=S.forwardRef(({className:t,...e},n)=>m.jsx(OI,{ref:n,className:hs("text-sm opacity-90",t),...e}));eC.displayName=OI.displayName;function xV(){const{toasts:t}=TM();return m.jsxs(wV,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(XI,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(ZI,{children:n}),r&&m.jsx(eC,{children:r})]}),i,m.jsx(JI,{})]},e)}),m.jsx(YI,{})]})}var e1=["light","dark"],TV="(prefers-color-scheme: dark)",bV=S.createContext(void 0),SV={setTheme:t=>{},themes:[]},PV=()=>{var t;return(t=S.useContext(bV))!=null?t:SV};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?e1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,E=!1,x=!0)=>{let y=o?o[_]:_,w=E?_+"|| ''":`'${y}'`,b="";return i&&x&&!E&&e1.includes(_)&&(b+=`d.style.colorScheme = '${_}';`),n==="class"?E||y?b+=`c.add(${w})`:b+="null":y&&(b+=`d[s](n,${w})`),b},g=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${TV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var IV=t=>{switch(t){case"success":return RV;case"info":return NV;case"warning":return kV;case"error":return DV;default:return null}},CV=Array(12).fill(0),AV=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},CV.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OV=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ug=1,MV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ug++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(VV(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ug++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},ln=new MV,LV=(t,e)=>{let n=(e==null?void 0:e.id)||Ug++;return ln.addToast({title:t,...e,id:n}),n},VV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jV=LV,FV=()=>ln.toasts;Object.assign(jV,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:FV});function UV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}UV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sd(t){return t.label!==void 0}var BV=3,$V="32px",zV=4e3,HV=356,WV=14,qV=20,KV=200;function GV(...t){return t.filter(Boolean).join(" ")}var QV=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:g,interacting:_,setHeights:E,visibleToasts:x,heights:y,index:w,toasts:b,expanded:k,removeToast:N,defaultRichColors:M,closeButton:P,style:T,cancelButtonStyle:C,actionButtonStyle:A,className:D="",descriptionClassName:O="",duration:R,position:H,gap:oe,loadingIcon:ne,expandByDefault:J,classNames:V,icons:z,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:Q,cn:Z}=t,[te,Ae]=q.useState(!1),[st,_e]=q.useState(!1),[Tt,Yn]=q.useState(!1),[Xn,sn]=q.useState(!1),[Sr,Jn]=q.useState(0),[An,Pr]=q.useState(0),ni=q.useRef(null),Rn=q.useRef(null),Ga=w===0,Qa=w+1<=x,Ze=h.type,Zn=h.dismissible!==!1,Ec=h.className||"",pp=h.descriptionClassName||"",ri=q.useMemo(()=>y.findIndex(ae=>ae.toastId===h.id)||0,[y,h.id]),Ya=q.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:P},[h.closeButton,P]),Xa=q.useMemo(()=>h.duration||R||zV,[h.duration,R]),et=q.useRef(0),He=q.useRef(0),ws=q.useRef(0),Ir=q.useRef(null),[Ja,mp]=H.split("-"),ii=q.useMemo(()=>y.reduce((ae,Se,Te)=>Te>=ri?ae:ae+Se.height,0),[y,ri]),Za=OV(),xc=h.invert||f,_s=Ze==="loading";He.current=q.useMemo(()=>ri*oe+ii,[ri,ii]),q.useEffect(()=>{Ae(!0)},[]),q.useLayoutEffect(()=>{if(!te)return;let ae=Rn.current,Se=ae.style.height;ae.style.height="auto";let Te=ae.getBoundingClientRect().height;ae.style.height=Se,Pr(Te),E(bt=>bt.find(Gt=>Gt.toastId===h.id)?bt.map(Gt=>Gt.toastId===h.id?{...Gt,height:Te}:Gt):[{toastId:h.id,height:Te,position:h.position},...bt])},[te,h.title,h.description,E,h.id]);let er=q.useCallback(()=>{_e(!0),Jn(He.current),E(ae=>ae.filter(Se=>Se.toastId!==h.id)),setTimeout(()=>{N(h)},KV)},[h,N,E,He]);q.useEffect(()=>{if(h.promise&&Ze==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Se=Xa;return k||_||Q&&Za?(()=>{if(ws.current<et.current){let Te=new Date().getTime()-et.current;Se=Se-Te}ws.current=new Date().getTime()})():Se!==1/0&&(et.current=new Date().getTime(),ae=setTimeout(()=>{var Te;(Te=h.onAutoClose)==null||Te.call(h,h),er()},Se)),()=>clearTimeout(ae)},[k,_,J,h,Xa,er,h.promise,Ze,Q,Za]),q.useEffect(()=>{let ae=Rn.current;if(ae){let Se=ae.getBoundingClientRect().height;return Pr(Se),E(Te=>[{toastId:h.id,height:Se,position:h.position},...Te]),()=>E(Te=>Te.filter(bt=>bt.toastId!==h.id))}},[E,h.id]),q.useEffect(()=>{h.delete&&er()},[er,h.delete]);function gp(){return z!=null&&z.loading?q.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},z.loading):ne?q.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},ne):q.createElement(AV,{visible:Ze==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:Z(D,Ec,V==null?void 0:V.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Ze],(n=h==null?void 0:h.classNames)==null?void 0:n[Ze]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":te,"data-promise":!!h.promise,"data-removed":st,"data-visible":Qa,"data-y-position":Ja,"data-x-position":mp,"data-index":w,"data-front":Ga,"data-swiping":Tt,"data-dismissible":Zn,"data-type":Ze,"data-invert":xc,"data-swipe-out":Xn,"data-expanded":!!(k||J&&te),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${st?Sr:He.current}px`,"--initial-height":J?"auto":`${An}px`,...T,...h.style},onPointerDown:ae=>{_s||!Zn||(ni.current=new Date,Jn(He.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Yn(!0),Ir.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Se,Te,bt;if(Xn||!Zn)return;Ir.current=null;let Gt=Number(((ae=Rn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),si=new Date().getTime()-((Se=ni.current)==null?void 0:Se.getTime()),Cr=Math.abs(Gt)/si;if(Math.abs(Gt)>=qV||Cr>.11){Jn(He.current),(Te=h.onDismiss)==null||Te.call(h,h),er(),sn(!0);return}(bt=Rn.current)==null||bt.style.setProperty("--swipe-amount","0px"),Yn(!1)},onPointerMove:ae=>{var Se;if(!Ir.current||!Zn)return;let Te=ae.clientY-Ir.current.y,bt=ae.clientX-Ir.current.x,Gt=(Ja==="top"?Math.min:Math.max)(0,Te),si=ae.pointerType==="touch"?10:2;Math.abs(Gt)>si?(Se=Rn.current)==null||Se.style.setProperty("--swipe-amount",`${Te}px`):Math.abs(bt)>si&&(Ir.current=null)}},Ya&&!h.jsx?q.createElement("button",{"aria-label":X,"data-disabled":_s,"data-close-button":!0,onClick:_s||!Zn?()=>{}:()=>{var ae;er(),(ae=h.onDismiss)==null||ae.call(h,h)},className:Z(V==null?void 0:V.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,Ze||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:Z(V==null?void 0:V.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||gp():null,h.type!=="loading"?h.icon||(z==null?void 0:z[Ze])||IV(Ze):null):null,q.createElement("div",{"data-content":"",className:Z(V==null?void 0:V.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:Z(V==null?void 0:V.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:Z(O,pp,V==null?void 0:V.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&sd(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:ae=>{var Se,Te;sd(h.cancel)&&Zn&&((Te=(Se=h.cancel).onClick)==null||Te.call(Se,ae),er())},className:Z(V==null?void 0:V.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&sd(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:ae=>{var Se,Te;sd(h.action)&&(ae.defaultPrevented||((Te=(Se=h.action).onClick)==null||Te.call(Se,ae),er()))},className:Z(V==null?void 0:V.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function t1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var YV=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=BV,toastOptions:g,dir:_=t1(),gap:E=WV,loadingIcon:x,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:k=GV}=t,[N,M]=q.useState([]),P=q.useMemo(()=>Array.from(new Set([n].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,n]),[T,C]=q.useState([]),[A,D]=q.useState(!1),[O,R]=q.useState(!1),[H,oe]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=q.useRef(null),J=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=q.useRef(null),z=q.useRef(!1),X=q.useCallback(Q=>{var Z;(Z=N.find(te=>te.id===Q.id))!=null&&Z.delete||ln.dismiss(Q.id),M(te=>te.filter(({id:Ae})=>Ae!==Q.id))},[N]);return q.useEffect(()=>ln.subscribe(Q=>{if(Q.dismiss){M(Z=>Z.map(te=>te.id===Q.id?{...te,delete:!0}:te));return}setTimeout(()=>{lI.flushSync(()=>{M(Z=>{let te=Z.findIndex(Ae=>Ae.id===Q.id);return te!==-1?[...Z.slice(0,te),{...Z[te],...Q},...Z.slice(te+1)]:[Q,...Z]})})})}),[]),q.useEffect(()=>{if(l!=="system"){oe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{oe(Q?"dark":"light")})},[l]),q.useEffect(()=>{N.length<=1&&D(!1)},[N]),q.useEffect(()=>{let Q=Z=>{var te,Ae;r.every(st=>Z[st]||Z.code===st)&&(D(!0),(te=ne.current)==null||te.focus()),Z.code==="Escape"&&(document.activeElement===ne.current||(Ae=ne.current)!=null&&Ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),q.useEffect(()=>{if(ne.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,z.current=!1)}},[ne.current]),N.length?q.createElement("section",{"aria-label":`${w} ${J}`,tabIndex:-1},P.map((Q,Z)=>{var te;let[Ae,st]=Q.split("-");return q.createElement("ol",{key:Q,dir:_==="auto"?t1():_,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ae,"data-x-position":st,style:{"--front-toast-height":`${((te=T[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||$V,"--width":`${HV}px`,"--gap":`${E}px`,...f},onBlur:_e=>{z.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(z.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||z.current||(z.current=!0,V.current=_e.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},N.filter(_e=>!_e.position&&Z===0||_e.position===Q).map((_e,Tt)=>{var Yn,Xn;return q.createElement(QV,{key:_e.id,icons:y,index:Tt,toast:_e,defaultRichColors:u,duration:(Yn=g==null?void 0:g.duration)!=null?Yn:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Xn=g==null?void 0:g.closeButton)!=null?Xn:s,interacting:O,position:Q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:X,toasts:N.filter(sn=>sn.position==_e.position),heights:T.filter(sn=>sn.position==_e.position),setHeights:C,expandByDefault:i,gap:E,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:b,cn:k})}))})):null};const XV=({...t})=>{const{theme:e="system"}=PV();return m.jsx(YV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},JV=["top","right","bottom","left"],Xi=Math.min,cn=Math.max,bh=Math.round,od=Math.floor,Ji=t=>({x:t,y:t}),ZV={left:"right",right:"left",bottom:"top",top:"bottom"},ej={start:"end",end:"start"};function Bg(t,e,n){return cn(t,Xi(e,n))}function qr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function ka(t){return t.split("-")[1]}function zv(t){return t==="x"?"y":"x"}function Hv(t){return t==="y"?"height":"width"}function Zi(t){return["top","bottom"].includes(Kr(t))?"y":"x"}function Wv(t){return zv(Zi(t))}function tj(t,e,n){n===void 0&&(n=!1);const r=ka(t),i=Wv(t),s=Hv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Sh(o)),[o,Sh(o)]}function nj(t){const e=Sh(t);return[$g(t),e,$g(e)]}function $g(t){return t.replace(/start|end/g,e=>ej[e])}function rj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ij(t,e,n,r){const i=ka(t);let s=rj(Kr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map($g)))),s}function Sh(t){return t.replace(/left|right|bottom|top/g,e=>ZV[e])}function sj(t){return{top:0,right:0,bottom:0,left:0,...t}}function tC(t){return typeof t!="number"?sj(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function n1(t,e,n){let{reference:r,floating:i}=t;const s=Zi(e),o=Wv(e),a=Hv(o),l=Kr(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ka(e)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const oj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=n1(u,r,l),h=r,g={},_=0;for(let E=0;E<a.length;E++){const{name:x,fn:y}=a[E],{x:w,y:b,data:k,reset:N}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=b??f,g={...g,[x]:{...g[x],...k}},N&&_<=50&&(_++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=n1(u,h,l)),E=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:g}};async function yu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=qr(e,t),_=tC(g),x=a[h?f==="floating"?"reference":"floating":f],y=Ph(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Ph(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(y.top-N.top+_.top)/k.y,bottom:(N.bottom-y.bottom+_.bottom)/k.y,left:(y.left-N.left+_.left)/k.x,right:(N.right-y.right+_.right)/k.x}}const aj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=qr(t,e)||{};if(u==null)return{};const f=tC(d),h={x:n,y:r},g=Wv(i),_=Hv(g),E=await o.getDimensions(u),x=g==="y",y=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",k=s.reference[_]+s.reference[g]-h[g]-s.floating[_],N=h[g]-s.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=M?M[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(M)))&&(P=a.floating[b]||s.floating[_]);const T=k/2-N/2,C=P/2-E[_]/2-1,A=Xi(f[y],C),D=Xi(f[w],C),O=A,R=P-E[_]-D,H=P/2-E[_]/2+T,oe=Bg(O,H,R),ne=!l.arrow&&ka(i)!=null&&H!==oe&&s.reference[_]/2-(H<O?A:D)-E[_]/2<0,J=ne?H<O?H-O:H-R:0;return{[g]:h[g]+J,data:{[g]:oe,centerOffset:H-oe-J,...ne&&{alignmentOffset:J}},reset:ne}}}),lj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...x}=qr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Kr(i),w=Zi(a),b=Kr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(b||!E?[Sh(a)]:nj(a)),M=_!=="none";!h&&M&&N.push(...ij(a,E,_,k));const P=[a,...N],T=await yu(e,x),C=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(T[y]),f){const H=tj(i,o,k);C.push(T[H[0]],T[H[1]])}if(A=[...A,{placement:i,overflows:C}],!C.every(H=>H<=0)){var D,O;const H=(((D=s.flip)==null?void 0:D.index)||0)+1,oe=P[H];if(oe)return{data:{index:H,overflows:A},reset:{placement:oe}};let ne=(O=A.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!ne)switch(g){case"bestFit":{var R;const J=(R=A.filter(V=>{if(M){const z=Zi(V.placement);return z===w||z==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(z=>z>0).reduce((z,X)=>z+X,0)]).sort((V,z)=>V[1]-z[1])[0])==null?void 0:R[0];J&&(ne=J);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function r1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function i1(t){return JV.some(e=>t[e]>=0)}const uj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qr(t,e);switch(r){case"referenceHidden":{const s=await yu(e,{...i,elementContext:"reference"}),o=r1(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:i1(o)}}}case"escaped":{const s=await yu(e,{...i,altBoundary:!0}),o=r1(s,n.floating);return{data:{escapedOffsets:o,escaped:i1(o)}}}default:return{}}}}};async function cj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Kr(n),a=ka(n),l=Zi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=qr(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const dj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},hj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=qr(t,e),u={x:n,y:r},d=await yu(e,l),f=Zi(Kr(i)),h=zv(f);let g=u[h],_=u[f];if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=g+d[x],b=g-d[y];g=Bg(w,g,b)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=_+d[x],b=_-d[y];_=Bg(w,_,b)}const E=a.fn({...e,[h]:g,[f]:_});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[h]:s,[f]:o}}}}}},fj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=qr(t,e),d={x:n,y:r},f=Zi(i),h=zv(f);let g=d[h],_=d[f];const E=qr(a,e),x=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const b=h==="y"?"height":"width",k=s.reference[h]-s.floating[b]+x.mainAxis,N=s.reference[h]+s.reference[b]-x.mainAxis;g<k?g=k:g>N&&(g=N)}if(u){var y,w;const b=h==="y"?"width":"height",k=["top","left"].includes(Kr(i)),N=s.reference[f]-s.floating[b]+(k&&((y=o.offset)==null?void 0:y[f])||0)+(k?0:x.crossAxis),M=s.reference[f]+s.reference[b]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?x.crossAxis:0);_<N?_=N:_>M&&(_=M)}return{[h]:g,[f]:_}}}},pj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=qr(t,e),d=await yu(e,u),f=Kr(i),h=ka(i),g=Zi(i)==="y",{width:_,height:E}=s.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const w=E-d.top-d.bottom,b=_-d.left-d.right,k=Xi(E-d[x],w),N=Xi(_-d[y],b),M=!e.middlewareData.shift;let P=k,T=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),M&&!h){const A=cn(d.left,0),D=cn(d.right,0),O=cn(d.top,0),R=cn(d.bottom,0);g?T=_-2*(A!==0||D!==0?A+D:cn(d.left,d.right)):P=E-2*(O!==0||R!==0?O+R:cn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:P});const C=await o.getDimensions(a.floating);return _!==C.width||E!==C.height?{reset:{rects:!0}}:{}}}};function Sf(){return typeof window<"u"}function Na(t){return nC(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xr(t){var e;return(e=(nC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nC(t){return Sf()?t instanceof Node||t instanceof pn(t).Node:!1}function qn(t){return Sf()?t instanceof Element||t instanceof pn(t).Element:!1}function _r(t){return Sf()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function s1(t){return!Sf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}function Qu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function mj(t){return["table","td","th"].includes(Na(t))}function Pf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qv(t){const e=Kv(),n=qn(t)?Kn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gj(t){let e=es(t);for(;_r(e)&&!fa(e);){if(qv(e))return e;if(Pf(e))return null;e=es(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fa(t){return["html","body","#document"].includes(Na(t))}function Kn(t){return pn(t).getComputedStyle(t)}function If(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function es(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||s1(t)&&t.host||xr(t);return s1(e)?e.host:e}function rC(t){const e=es(t);return fa(e)?t.ownerDocument?t.ownerDocument.body:t.body:_r(e)&&Qu(e)?e:rC(e)}function vu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=pn(i);if(s){const a=zg(o);return e.concat(o,o.visualViewport||[],Qu(i)?i:[],a&&n?vu(a):[])}return e.concat(i,vu(i,[],n))}function zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iC(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_r(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=bh(n)!==s||bh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Gv(t){return qn(t)?t:t.contextElement}function qo(t){const e=Gv(t);if(!_r(e))return Ji(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=iC(e);let o=(s?bh(n.width):n.width)/r,a=(s?bh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yj=Ji(0);function sC(t){const e=pn(t);return!Kv()||!e.visualViewport?yj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function Ys(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Gv(t);let o=Ji(1);e&&(r?qn(r)&&(o=qo(r)):o=qo(t));const a=vj(s,n,r)?sC(s):Ji(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=pn(s),g=r&&qn(r)?pn(r):r;let _=h,E=zg(_);for(;E&&r&&g!==_;){const x=qo(E),y=E.getBoundingClientRect(),w=Kn(E),b=y.left+(E.clientLeft+parseFloat(w.paddingLeft))*x.x,k=y.top+(E.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=b,u+=k,_=pn(E),E=zg(_)}}return Ph({width:d,height:f,x:l,y:u})}function wj(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=xr(r),a=e?Pf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ji(1);const d=Ji(0),f=_r(r);if((f||!f&&!s)&&((Na(r)!=="body"||Qu(o))&&(l=If(r)),_r(r))){const h=Ys(r);u=qo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function _j(t){return Array.from(t.getClientRects())}function Hg(t,e){const n=If(t).scrollLeft;return e?e.left+n:Ys(xr(t)).left+n}function Ej(t){const e=xr(t),n=If(t),r=t.ownerDocument.body,i=cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hg(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=cn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function xj(t,e){const n=pn(t),r=xr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Kv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Tj(t,e){const n=Ys(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=_r(t)?qo(t):Ji(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function o1(t,e,n){let r;if(e==="viewport")r=xj(t,n);else if(e==="document")r=Ej(xr(t));else if(qn(e))r=Tj(e,n);else{const i=sC(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ph(r)}function oC(t,e){const n=es(t);return n===e||!qn(n)||fa(n)?!1:Kn(n).position==="fixed"||oC(n,e)}function bj(t,e){const n=e.get(t);if(n)return n;let r=vu(t,[],!1).filter(a=>qn(a)&&Na(a)!=="body"),i=null;const s=Kn(t).position==="fixed";let o=s?es(t):t;for(;qn(o)&&!fa(o);){const a=Kn(o),l=qv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qu(o)&&!l&&oC(t,o))?r=r.filter(d=>d!==o):i=a,o=es(o)}return e.set(t,r),r}function Sj(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Pf(e)?[]:bj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=o1(e,d,i);return u.top=cn(f.top,u.top),u.right=Xi(f.right,u.right),u.bottom=Xi(f.bottom,u.bottom),u.left=cn(f.left,u.left),u},o1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Pj(t){const{width:e,height:n}=iC(t);return{width:e,height:n}}function Ij(t,e,n){const r=_r(e),i=xr(e),s=n==="fixed",o=Ys(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ji(0);if(r||!r&&!s)if((Na(e)!=="body"||Qu(i))&&(a=If(e)),r){const g=Ys(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Hg(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Hg(i,g)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function lm(t){return Kn(t).position==="static"}function a1(t,e){if(!_r(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return xr(t)===n&&(n=n.ownerDocument.body),n}function aC(t,e){const n=pn(t);if(Pf(t))return n;if(!_r(t)){let i=es(t);for(;i&&!fa(i);){if(qn(i)&&!lm(i))return i;i=es(i)}return n}let r=a1(t,e);for(;r&&mj(r)&&lm(r);)r=a1(r,e);return r&&fa(r)&&lm(r)&&!qv(r)?n:r||gj(t)||n}const Cj=async function(t){const e=this.getOffsetParent||aC,n=this.getDimensions,r=await n(t.floating);return{reference:Ij(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Aj(t){return Kn(t).direction==="rtl"}const Rj={convertOffsetParentRelativeRectToViewportRelativeRect:wj,getDocumentElement:xr,getClippingRect:Sj,getOffsetParent:aC,getElementRects:Cj,getClientRects:_j,getDimensions:Pj,getScale:qo,isElement:qn,isRTL:Aj};function kj(t,e){let n=null,r;const i=xr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const g=od(d),_=od(i.clientWidth-(u+f)),E=od(i.clientHeight-(d+h)),x=od(u),w={rootMargin:-g+"px "+-_+"px "+-E+"px "+-x+"px",threshold:cn(0,Xi(1,l))||1};let b=!0;function k(N){const M=N[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(t)}return o(!0),s}function Nj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Gv(t),d=i||s?[...u?vu(u):[],...vu(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&a?kj(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let _,E=l?Ys(t):null;l&&x();function x(){const y=Ys(t);E&&(y.x!==E.x||y.y!==E.y||y.width!==E.width||y.height!==E.height)&&n(),E=y,_=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const Dj=dj,Oj=hj,Mj=lj,Lj=pj,Vj=uj,l1=aj,jj=fj,Fj=(t,e,n)=>{const r=new Map,i={platform:Rj,...n},s={...i.platform,_c:r};return oj(t,e,{...i,platform:s})};var jd=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ih(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ih(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function lC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function u1(t,e){const n=lC(t);return Math.round(e*n)/n}function um(t){const e=S.useRef(t);return jd(()=>{e.current=t}),e}function Uj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=S.useState(r);Ih(h,r)||g(r);const[_,E]=S.useState(null),[x,y]=S.useState(null),w=S.useCallback(V=>{V!==M.current&&(M.current=V,E(V))},[]),b=S.useCallback(V=>{V!==P.current&&(P.current=V,y(V))},[]),k=s||_,N=o||x,M=S.useRef(null),P=S.useRef(null),T=S.useRef(d),C=l!=null,A=um(l),D=um(i),O=um(u),R=S.useCallback(()=>{if(!M.current||!P.current)return;const V={placement:e,strategy:n,middleware:h};D.current&&(V.platform=D.current),Fj(M.current,P.current,V).then(z=>{const X={...z,isPositioned:O.current!==!1};H.current&&!Ih(T.current,X)&&(T.current=X,Aa.flushSync(()=>{f(X)}))})},[h,e,n,D,O]);jd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const H=S.useRef(!1);jd(()=>(H.current=!0,()=>{H.current=!1}),[]),jd(()=>{if(k&&(M.current=k),N&&(P.current=N),k&&N){if(A.current)return A.current(k,N,R);R()}},[k,N,R,A,C]);const oe=S.useMemo(()=>({reference:M,floating:P,setReference:w,setFloating:b}),[w,b]),ne=S.useMemo(()=>({reference:k,floating:N}),[k,N]),J=S.useMemo(()=>{const V={position:n,left:0,top:0};if(!ne.floating)return V;const z=u1(ne.floating,d.x),X=u1(ne.floating,d.y);return a?{...V,transform:"translate("+z+"px, "+X+"px)",...lC(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:X}},[n,a,ne.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:R,refs:oe,elements:ne,floatingStyles:J}),[d,R,oe,ne,J])}const Bj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?l1({element:r.current,padding:i}).fn(n):{}:r?l1({element:r,padding:i}).fn(n):{}}}},$j=(t,e)=>({...Dj(t),options:[t,e]}),zj=(t,e)=>({...Oj(t),options:[t,e]}),Hj=(t,e)=>({...jj(t),options:[t,e]}),Wj=(t,e)=>({...Mj(t),options:[t,e]}),qj=(t,e)=>({...Lj(t),options:[t,e]}),Kj=(t,e)=>({...Vj(t),options:[t,e]}),Gj=(t,e)=>({...Bj(t),options:[t,e]});var Qj="Arrow",uC=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(rn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});uC.displayName=Qj;var Yj=uC;function Xj(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,..._}=f,E=(h==null?void 0:h[t][l])||a,x=S.useMemo(()=>_,Object.values(_));return m.jsx(E.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,_=S.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Jj(i,...e)]}function Jj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Zj(t){const[e,n]=S.useState(void 0);return Qs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var cC="Popper",[dC,hC]=Xj(cC),[hG,fC]=dC(cC),pC="PopperAnchor",mC=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=fC(pC,n),o=S.useRef(null),a=Wn(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(rn.div,{...i,ref:a})});mC.displayName=pC;var Qv="PopperContent",[e4,t4]=dC(Qv),gC=S.forwardRef((t,e)=>{var Tt,Yn,Xn,sn,Sr,Jn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:_,...E}=t,x=fC(Qv,n),[y,w]=S.useState(null),b=Wn(e,An=>w(An)),[k,N]=S.useState(null),M=Zj(k),P=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,R={padding:A,boundary:D.filter(r4),altBoundary:O},{refs:H,floatingStyles:oe,placement:ne,isPositioned:J,middlewareData:V}=Uj({strategy:"fixed",placement:C,whileElementsMounted:(...An)=>Nj(...An,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[$j({mainAxis:i+T,alignmentAxis:o}),l&&zj({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Hj():void 0,...R}),l&&Wj({...R}),qj({...R,apply:({elements:An,rects:Pr,availableWidth:ni,availableHeight:Rn})=>{const{width:Ga,height:Qa}=Pr.reference,Ze=An.floating.style;Ze.setProperty("--radix-popper-available-width",`${ni}px`),Ze.setProperty("--radix-popper-available-height",`${Rn}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ga}px`),Ze.setProperty("--radix-popper-anchor-height",`${Qa}px`)}}),k&&Gj({element:k,padding:a}),i4({arrowWidth:P,arrowHeight:T}),h&&Kj({strategy:"referenceHidden",...R})]}),[z,X]=wC(ne),Q=wr(_);Qs(()=>{J&&(Q==null||Q())},[J,Q]);const Z=(Tt=V.arrow)==null?void 0:Tt.x,te=(Yn=V.arrow)==null?void 0:Yn.y,Ae=((Xn=V.arrow)==null?void 0:Xn.centerOffset)!==0,[st,_e]=S.useState();return Qs(()=>{y&&_e(window.getComputedStyle(y).zIndex)},[y]),m.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:J?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[(sn=V.transformOrigin)==null?void 0:sn.x,(Sr=V.transformOrigin)==null?void 0:Sr.y].join(" "),...((Jn=V.hide)==null?void 0:Jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(e4,{scope:n,placedSide:z,onArrowChange:N,arrowX:Z,arrowY:te,shouldHideArrow:Ae,children:m.jsx(rn.div,{"data-side":z,"data-align":X,...E,ref:b,style:{...E.style,animation:J?void 0:"none"}})})})});gC.displayName=Qv;var yC="PopperArrow",n4={top:"bottom",right:"left",bottom:"top",left:"right"},vC=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=t4(yC,r),o=n4[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(Yj,{...i,ref:n,style:{...i.style,display:"block"}})})});vC.displayName=yC;function r4(t){return t!==null}var i4=t=>({name:"transformOrigin",options:t,fn(e){var x,y,w;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=wC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,g=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let _="",E="";return u==="bottom"?(_=o?f:`${h}px`,E=`${-l}px`):u==="top"?(_=o?f:`${h}px`,E=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,E=o?f:`${g}px`):u==="left"&&(_=`${r.floating.width+l}px`,E=o?f:`${g}px`),{data:{x:_,y:E}}}});function wC(t){const[e,n="center"]=t.split("-");return[e,n]}var s4=mC,o4=gC,a4=vC,[Cf,fG]=hI("Tooltip",[hC]),Yv=hC(),_C="TooltipProvider",l4=700,c1="tooltip.open",[u4,EC]=Cf(_C),xC=t=>{const{__scopeTooltip:e,delayDuration:n=l4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=S.useState(!0),l=S.useRef(!1),u=S.useRef(0);return S.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),m.jsx(u4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};xC.displayName=_C;var TC="Tooltip",[pG,Af]=Cf(TC),Wg="TooltipTrigger",c4=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Af(Wg,n),s=EC(Wg,n),o=Yv(n),a=S.useRef(null),l=Wn(e,a,i.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(s4,{asChild:!0,...o,children:m.jsx(rn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:at(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:at(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:at(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:at(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:at(t.onBlur,i.onClose),onClick:at(t.onClick,i.onClose)})})});c4.displayName=Wg;var d4="TooltipPortal",[mG,h4]=Cf(d4,{forceMount:void 0}),pa="TooltipContent",bC=S.forwardRef((t,e)=>{const n=h4(pa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Af(pa,t.__scopeTooltip);return m.jsx(Vv,{present:r||o.open,children:o.disableHoverableContent?m.jsx(SC,{side:i,...s,ref:e}):m.jsx(f4,{side:i,...s,ref:e})})}),f4=S.forwardRef((t,e)=>{const n=Af(pa,t.__scopeTooltip),r=EC(pa,t.__scopeTooltip),i=S.useRef(null),s=Wn(e,i),[o,a]=S.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{a(null),f(!1)},[f]),g=S.useCallback((_,E)=>{const x=_.currentTarget,y={x:_.clientX,y:_.clientY},w=y4(y,x.getBoundingClientRect()),b=v4(y,w),k=w4(E.getBoundingClientRect()),N=E4([...b,...k]);a(N),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const _=x=>g(x,d),E=x=>g(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",E)}}},[l,d,g,h]),S.useEffect(()=>{if(o){const _=E=>{const x=E.target,y={x:E.clientX,y:E.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),b=!_4(y,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,u,h]),m.jsx(SC,{...t,ref:s})}),[p4,m4]=Cf(TC,{isInside:!1}),SC=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Af(pa,n),u=Yv(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(c1,d),()=>document.removeEventListener(c1,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),m.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(o4,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(dI,{children:r}),m.jsx(p4,{scope:n,isInside:!0,children:m.jsx(QM,{id:l.contentId,role:"tooltip",children:i||r})})]})})});bC.displayName=pa;var PC="TooltipArrow",g4=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Yv(n);return m4(PC,n).isInside?null:m.jsx(a4,{...i,...r,ref:e})});g4.displayName=PC;function y4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function v4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function w4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function _4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function E4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),x4(e)}function x4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var T4=xC,IC=bC;const b4=T4,S4=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(IC,{ref:r,sideOffset:e,className:hs("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));S4.displayName=IC.displayName;var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kf=typeof window>"u"||"Deno"in globalThis;function Mn(){}function P4(t,e){return typeof t=="function"?t(e):t}function I4(t){return typeof t=="number"&&t>=0&&t!==1/0}function C4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function d1(t,e){return typeof t=="function"?t(e):t}function A4(t,e){return typeof t=="function"?t(e):t}function h1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Xv(o,e.options))return!1}else if(!_u(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function f1(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(wu(e.options.mutationKey)!==wu(s))return!1}else if(!_u(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Xv(t,e){return((e==null?void 0:e.queryKeyHashFn)||wu)(t)}function wu(t){return JSON.stringify(t,(e,n)=>qg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!_u(t[n],e[n])):!1}function CC(t,e){if(t===e)return t;const n=p1(t)&&p1(e);if(n||qg(t)&&qg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=CC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function p1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qg(t){if(!m1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!m1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function m1(t){return Object.prototype.toString.call(t)==="[object Object]"}function R4(t){return new Promise(e=>{setTimeout(e,t)})}function k4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?CC(t,e):e}function N4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function D4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Jv=Symbol();function AC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Jv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Vs,Si,Xo,Bb,O4=(Bb=class extends Rf{constructor(){super();Ee(this,Vs);Ee(this,Si);Ee(this,Xo);de(this,Xo,e=>{if(!kf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Si)||this.setEventListener(B(this,Xo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Si))==null||e.call(this),de(this,Si,void 0))}setEventListener(e){var n;de(this,Xo,e),(n=B(this,Si))==null||n.call(this),de(this,Si,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Vs)!==e&&(de(this,Vs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Vs)=="boolean"?B(this,Vs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vs=new WeakMap,Si=new WeakMap,Xo=new WeakMap,Bb),RC=new O4,Jo,Pi,Zo,$b,M4=($b=class extends Rf{constructor(){super();Ee(this,Jo,!0);Ee(this,Pi);Ee(this,Zo);de(this,Zo,e=>{if(!kf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Pi)||this.setEventListener(B(this,Zo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Pi))==null||e.call(this),de(this,Pi,void 0))}setEventListener(e){var n;de(this,Zo,e),(n=B(this,Pi))==null||n.call(this),de(this,Pi,e(this.setOnline.bind(this)))}setOnline(e){B(this,Jo)!==e&&(de(this,Jo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Jo)}},Jo=new WeakMap,Pi=new WeakMap,Zo=new WeakMap,$b),Ch=new M4;function L4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function V4(t){return Math.min(1e3*2**t,3e4)}function kC(t){return(t??"online")==="online"?Ch.isOnline():!0}var NC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cm(t){return t instanceof NC}function DC(t){let e=!1,n=0,r=!1,i;const s=L4(),o=E=>{var x;r||(h(new NC(E)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>RC.isFocused()&&(t.networkMode==="always"||Ch.isOnline())&&t.canRun(),d=()=>kC(t.networkMode)&&t.canRun(),f=E=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,E),i==null||i(),s.resolve(E))},h=E=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,E),i==null||i(),s.reject(E))},g=()=>new Promise(E=>{var x;i=y=>{(r||u())&&E(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var E;i=void 0,r||(E=t.onContinue)==null||E.call(t)}),_=()=>{if(r)return;let E;const x=n===0?t.initialPromise:void 0;try{E=x??t.fn()}catch(y){E=Promise.reject(y)}Promise.resolve(E).then(f).catch(y=>{var M;if(r)return;const w=t.retry??(kf?0:3),b=t.retryDelay??V4,k=typeof b=="function"?b(n,y):b,N=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(e||!N){h(y);return}n++,(M=t.onFail)==null||M.call(t,n,y),R4(k).then(()=>u()?void 0:g()).then(()=>{e?h(y):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),s)}}function j4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var zt=j4(),js,zb,OC=(zb=class{constructor(){Ee(this,js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I4(this.gcTime)&&de(this,js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kf?1/0:5*60*1e3))}clearGcTimeout(){B(this,js)&&(clearTimeout(B(this,js)),de(this,js,void 0))}},js=new WeakMap,zb),ea,ta,_n,kt,$u,Fs,Ln,Nr,Hb,F4=(Hb=class extends OC{constructor(n){super();Ee(this,Ln);Ee(this,ea);Ee(this,ta);Ee(this,_n);Ee(this,kt);Ee(this,$u);Ee(this,Fs);de(this,Fs,!1),de(this,$u,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,_n,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,ea,B4(this.options)),this.state=n.state??B(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,$u),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,_n).remove(this)}setData(n,r){const i=k4(this.state.data,n,this.options);return It(this,Ln,Nr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){It(this,Ln,Nr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=B(this,kt))==null?void 0:i.promise;return(s=B(this,kt))==null||s.cancel(n),r?r.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ea))}isActive(){return this.observers.some(n=>A4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!C4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,_n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,kt)&&(B(this,Fs)?B(this,kt).cancel({revert:!0}):B(this,kt).cancelRetry()),this.scheduleGc()),B(this,_n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,Ln,Nr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,kt))return B(this,kt).continueRetry(),B(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,Fs,!0),i.signal)})},o=()=>{const h=AC(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),de(this,Fs,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),de(this,ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&It(this,Ln,Nr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var g,_,E,x;cm(h)&&h.silent||It(this,Ln,Nr).call(this,{type:"error",error:h}),cm(h)||((_=(g=B(this,_n).config).onError)==null||_.call(g,h,this),(x=(E=B(this,_n).config).onSettled)==null||x.call(E,this.state.data,h,this)),this.scheduleGc()};return de(this,kt,DC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var g,_,E,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(_=(g=B(this,_n).config).onSuccess)==null||_.call(g,h,this),(x=(E=B(this,_n).config).onSettled)==null||x.call(E,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{It(this,Ln,Nr).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{It(this,Ln,Nr).call(this,{type:"pause"})},onContinue:()=>{It(this,Ln,Nr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,kt).start()}},ea=new WeakMap,ta=new WeakMap,_n=new WeakMap,kt=new WeakMap,$u=new WeakMap,Fs=new WeakMap,Ln=new WeakSet,Nr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...U4(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return cm(s)&&s.revert&&B(this,ta)?{...B(this,ta),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),zt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,_n).notify({query:this,type:"updated",action:n})})},Hb);function U4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ir,Wb,$4=(Wb=class extends Rf{constructor(e={}){super();Ee(this,ir);this.config=e,de(this,ir,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Xv(i,n);let o=this.get(s);return o||(o=new F4({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){B(this,ir).has(e.queryHash)||(B(this,ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,ir).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,ir).get(e)}getAll(){return[...B(this,ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>h1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>h1(e,r)):n}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ir=new WeakMap,Wb),sr,Bt,Us,or,mi,qb,z4=(qb=class extends OC{constructor(n){super();Ee(this,or);Ee(this,sr);Ee(this,Bt);Ee(this,Us);this.mutationId=n.mutationId,de(this,Bt,n.mutationCache),de(this,sr,[]),this.state=n.state||H4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,sr).includes(n)||(B(this,sr).push(n),this.clearGcTimeout(),B(this,Bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,sr,B(this,sr).filter(r=>r!==n)),this.scheduleGc(),B(this,Bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,sr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Bt).remove(this))}continue(){var n;return((n=B(this,Us))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,f,h,g,_,E,x,y,w,b,k,N,M,P,T;de(this,Us,DC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{It(this,or,mi).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{It(this,or,mi).call(this,{type:"pause"})},onContinue:()=>{It(this,or,mi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Bt).canRun(this)}));const r=this.state.status==="pending",i=!B(this,Us).canStart();try{if(!r){It(this,or,mi).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=B(this,Bt).config).onMutate)==null?void 0:o.call(s,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&It(this,or,mi).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const C=await B(this,Us).start();return await((d=(u=B(this,Bt).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,n,this.state.context)),await((_=(g=B(this,Bt).config).onSettled)==null?void 0:_.call(g,C,null,this.state.variables,this.state.context,this)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,C,null,n,this.state.context)),It(this,or,mi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(y=B(this,Bt).config).onError)==null?void 0:w.call(y,C,n,this.state.context,this)),await((k=(b=this.options).onError)==null?void 0:k.call(b,C,n,this.state.context)),await((M=(N=B(this,Bt).config).onSettled)==null?void 0:M.call(N,void 0,C,this.state.variables,this.state.context,this)),await((T=(P=this.options).onSettled)==null?void 0:T.call(P,void 0,C,n,this.state.context)),C}finally{It(this,or,mi).call(this,{type:"error",error:C})}}finally{B(this,Bt).runNext(this)}}},sr=new WeakMap,Bt=new WeakMap,Us=new WeakMap,or=new WeakSet,mi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zt.batch(()=>{B(this,sr).forEach(i=>{i.onMutationUpdate(n)}),B(this,Bt).notify({mutation:this,type:"updated",action:n})})},qb);function H4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,zu,Kb,W4=(Kb=class extends Rf{constructor(e={}){super();Ee(this,an);Ee(this,zu);this.config=e,de(this,an,new Map),de(this,zu,Date.now())}build(e,n,r){const i=new z4({mutationCache:this,mutationId:++jc(this,zu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ad(e),r=B(this,an).get(n)??[];r.push(e),B(this,an).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ad(e);if(B(this,an).has(n)){const i=(r=B(this,an).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?B(this,an).delete(n):B(this,an).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,an).get(ad(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,an).get(ad(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,an).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>f1(n,r))}findAll(e={}){return this.getAll().filter(n=>f1(e,n))}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Mn))))}},an=new WeakMap,zu=new WeakMap,Kb);function ad(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function g1(t){return{onFetch:(e,n)=>{var d,f,h,g,_;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let E=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},y=AC(e.options,e.fetchOptions),w=async(b,k,N)=>{if(E)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:k,direction:N?"backward":"forward",meta:e.options.meta};x(M);const P=await y(M),{maxPages:T}=e.options,C=N?D4:N4;return{pages:C(b.pages,P,T),pageParams:C(b.pageParams,k,T)}};if(i&&s.length){const b=i==="backward",k=b?q4:y1,N={pages:s,pageParams:o},M=k(r,N);a=await w(N,M,b)}else{const b=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:y1(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var E,x;return(x=(E=e.options).persister)==null?void 0:x.call(E,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function y1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function q4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,Ii,Ci,na,ra,Ai,ia,sa,Gb,K4=(Gb=class{constructor(t={}){Ee(this,qe);Ee(this,Ii);Ee(this,Ci);Ee(this,na);Ee(this,ra);Ee(this,Ai);Ee(this,ia);Ee(this,sa);de(this,qe,t.queryCache||new $4),de(this,Ii,t.mutationCache||new W4),de(this,Ci,t.defaultOptions||{}),de(this,na,new Map),de(this,ra,new Map),de(this,Ai,0)}mount(){jc(this,Ai)._++,B(this,Ai)===1&&(de(this,ia,RC.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,qe).onFocus())})),de(this,sa,Ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,qe).onOnline())})))}unmount(){var t,e;jc(this,Ai)._--,B(this,Ai)===0&&((t=B(this,ia))==null||t.call(this),de(this,ia,void 0),(e=B(this,sa))==null||e.call(this),de(this,sa,void 0))}isFetching(t){return B(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,qe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(d1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=B(this,qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=P4(e,s);if(o!==void 0)return B(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>B(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,qe);zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,qe),r={type:"active",...t};return zt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=zt.batch(()=>B(this,qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(t={},e={}){return zt.batch(()=>{if(B(this,qe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=zt.batch(()=>B(this,qe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Mn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,qe).build(this,e);return n.isStaleByTime(d1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mn).catch(Mn)}fetchInfiniteQuery(t){return t.behavior=g1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mn).catch(Mn)}ensureInfiniteQueryData(t){return t.behavior=g1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ch.isOnline()?B(this,Ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,qe)}getMutationCache(){return B(this,Ii)}getDefaultOptions(){return B(this,Ci)}setDefaultOptions(t){de(this,Ci,t)}setQueryDefaults(t,e){B(this,na).set(wu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,na).values()];let n={};return e.forEach(r=>{_u(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,ra).set(wu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,ra).values()];let n={};return e.forEach(r=>{_u(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Ci).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Jv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Ci).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,qe).clear(),B(this,Ii).clear()}},qe=new WeakMap,Ii=new WeakMap,Ci=new WeakMap,na=new WeakMap,ra=new WeakMap,Ai=new WeakMap,ia=new WeakMap,sa=new WeakMap,Gb),G4=S.createContext(void 0),Q4=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(G4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const v1="popstate";function Y4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Kg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ah(i)}return J4(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X4(){return Math.random().toString(36).substr(2,8)}function w1(t,e){return{usr:t.state,key:t.key,idx:e}}function Kg(t,e,n,r){return n===void 0&&(n=null),Eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||X4()})}function Ah(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ni.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Eu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ni.Pop;let x=d(),y=x==null?null:x-u;u=x,l&&l({action:a,location:E.location,delta:y})}function h(x,y){a=Ni.Push;let w=Kg(E.location,x,y);u=d()+1;let b=w1(w,u),k=E.createHref(w);try{o.pushState(b,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}s&&l&&l({action:a,location:E.location,delta:1})}function g(x,y){a=Ni.Replace;let w=Kg(E.location,x,y);u=d();let b=w1(w,u),k=E.createHref(w);o.replaceState(b,"",k),s&&l&&l({action:a,location:E.location,delta:0})}function _(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Ah(x);return w=w.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let E={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v1,f),l=x,()=>{i.removeEventListener(v1,f),l=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let y=_(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(x){return o.go(x)}};return E}var _1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_1||(_1={}));function Z4(t,e,n){return n===void 0&&(n="/"),eF(t,e,n,!1)}function eF(t,e,n,r){let i=typeof e=="string"?Da(e):e,s=Zv(i.pathname||"/",n);if(s==null)return null;let o=LC(t);tF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=hF(s);a=cF(o[l],u,r)}return a}function LC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$i([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:lF(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of VC(s.path))i(s,o,l)}),e}function VC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nF=/^:[\w-]+$/,rF=3,iF=2,sF=1,oF=10,aF=-2,E1=t=>t==="*";function lF(t,e){let n=t.split("/"),r=n.length;return n.some(E1)&&(r+=aF),e&&(r+=iF),n.filter(i=>!E1(i)).reduce((i,s)=>i+(nF.test(s)?rF:s===""?sF:oF),r)}function uF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:$i([s,f.pathname]),pathnameBase:gF($i([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=$i([s,f.pathnameBase]))}return o}function x1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let E=a[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function dF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:pF(n,e):e,search:yF(r),hash:vF(i)}}function pF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jC(t,e){let n=mF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=Eu({},t),it(!i.pathname||!i.pathname.includes("?"),dm("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),dm("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),dm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=fF(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),gF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UC=["post","put","patch","delete"];new Set(UC);const _F=["get",...UC];new Set(_F);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}const e0=S.createContext(null),EF=S.createContext(null),io=S.createContext(null),Nf=S.createContext(null),fs=S.createContext({outlet:null,matches:[],isDataRoute:!1}),BC=S.createContext(null);function xF(t,e){let{relative:n}=e===void 0?{}:e;Yu()||it(!1);let{basename:r,navigator:i}=S.useContext(io),{hash:s,pathname:o,search:a}=HC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$i([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Yu(){return S.useContext(Nf)!=null}function Xu(){return Yu()||it(!1),S.useContext(Nf).location}function $C(t){S.useContext(io).static||S.useLayoutEffect(t)}function t0(){let{isDataRoute:t}=S.useContext(fs);return t?MF():TF()}function TF(){Yu()||it(!1);let t=S.useContext(e0),{basename:e,future:n,navigator:r}=S.useContext(io),{matches:i}=S.useContext(fs),{pathname:s}=Xu(),o=JSON.stringify(jC(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return $C(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=FC(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$i([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function zC(){let{matches:t}=S.useContext(fs),e=t[t.length-1];return e?e.params:{}}function HC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(io),{matches:i}=S.useContext(fs),{pathname:s}=Xu(),o=JSON.stringify(jC(i,r.v7_relativeSplatPath));return S.useMemo(()=>FC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function bF(t,e){return SF(t,e)}function SF(t,e,n,r){Yu()||it(!1);let{navigator:i}=S.useContext(io),{matches:s}=S.useContext(fs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xu(),d;if(e){var f;let x=typeof e=="string"?Da(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||it(!1),d=x}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=Z4(t,{pathname:g}),E=RF(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:$i([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:$i([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&E?S.createElement(Nf.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},E):E}function PF(){let t=OF(),e=wF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const IF=S.createElement(PF,null);class CF extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(fs.Provider,{value:this.props.routeContext},S.createElement(BC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AF(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(e0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(fs.Provider,{value:e},r)}function RF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,_=!1,E=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||IF,l&&(u<0&&h===0?(_=!0,x=null):u===h&&(_=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),w=()=>{let b;return g?b=E:_?b=x:f.route.Component?b=S.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,S.createElement(AF,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(CF,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var WC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WC||{}),Rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rh||{});function kF(t){let e=S.useContext(e0);return e||it(!1),e}function NF(t){let e=S.useContext(EF);return e||it(!1),e}function DF(t){let e=S.useContext(fs);return e||it(!1),e}function qC(t){let e=DF(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function OF(){var t;let e=S.useContext(BC),n=NF(Rh.UseRouteError),r=qC(Rh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MF(){let{router:t}=kF(WC.UseNavigateStable),e=qC(Rh.UseNavigateStable),n=S.useRef(!1);return $C(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xu({fromRouteId:e},s)))},[t,e])}function Cs(t){it(!1)}function LF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:o=!1,future:a}=t;Yu()&&it(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:o,future:xu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Da(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:_="default"}=r,E=S.useMemo(()=>{let x=Zv(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:_},navigationType:i}},[l,d,f,h,g,_,i]);return E==null?null:S.createElement(io.Provider,{value:u},S.createElement(Nf.Provider,{children:n,value:E}))}function VF(t){let{children:e,location:n}=t;return bF(Gg(e),n)}new Promise(()=>{});function Gg(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Gg(r.props.children,s));return}r.type!==Cs&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function jF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UF(t,e){return t.button===0&&(!e||e==="_self")&&!FF(t)}const BF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$F="6";try{window.__reactRouterVersion=$F}catch{}const zF="startTransition",T1=aD[zF];function HF(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=Y4({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&T1?T1(()=>l(f)):l(f)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(LF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const WF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=jF(e,BF),{basename:g}=S.useContext(io),_,E=!1;if(typeof u=="string"&&qF.test(u)&&(_=u,WF))try{let b=new URL(window.location.href),k=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=Zv(k.pathname,g);k.origin===b.origin&&N!=null?u=N+k.search+k.hash:E=!0}catch{}let x=xF(u,{relative:i}),y=KF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||y(b)}return S.createElement("a",Qg({},h,{href:_||x,onClick:E||s?r:w,ref:n,target:l}))});var b1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b1||(b1={}));var S1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S1||(S1={}));function KF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=t0(),u=Xu(),d=HC(t,{relative:o});return S.useCallback(f=>{if(UF(f,n)){f.preventDefault();let h=r!==void 0?r:Ah(u)===Ah(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const GF=FI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tn=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?gu:"button";return m.jsx(o,{className:hs(GF({variant:e,size:n,className:t})),ref:s,...i})});Tn.displayName="Button";var Ke={},n0={},Ju={},Zu={},KC="Expected a function",P1=NaN,QF="[object Symbol]",YF=/^\s+|\s+$/g,XF=/^[-+]0x[0-9a-f]+$/i,JF=/^0b[01]+$/i,ZF=/^0o[0-7]+$/i,e5=parseInt,t5=typeof Fc=="object"&&Fc&&Fc.Object===Object&&Fc,n5=typeof self=="object"&&self&&self.Object===Object&&self,r5=t5||n5||Function("return this")(),i5=Object.prototype,s5=i5.toString,o5=Math.max,a5=Math.min,hm=function(){return r5.Date.now()};function l5(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(KC);e=I1(e)||0,kh(n)&&(d=!!n.leading,f="maxWait"in n,s=f?o5(I1(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(M){var P=r,T=i;return r=i=void 0,u=M,o=t.apply(T,P),o}function _(M){return u=M,a=setTimeout(y,e),d?g(M):o}function E(M){var P=M-l,T=M-u,C=e-P;return f?a5(C,s-T):C}function x(M){var P=M-l,T=M-u;return l===void 0||P>=e||P<0||f&&T>=s}function y(){var M=hm();if(x(M))return w(M);a=setTimeout(y,E(M))}function w(M){return a=void 0,h&&r?g(M):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function k(){return a===void 0?o:w(hm())}function N(){var M=hm(),P=x(M);if(r=arguments,i=this,l=M,P){if(a===void 0)return _(l);if(f)return a=setTimeout(y,e),g(l)}return a===void 0&&(a=setTimeout(y,e)),o}return N.cancel=b,N.flush=k,N}function u5(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(KC);return kh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),l5(t,e,{leading:r,maxWait:e,trailing:i})}function kh(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function c5(t){return!!t&&typeof t=="object"}function d5(t){return typeof t=="symbol"||c5(t)&&s5.call(t)==QF}function I1(t){if(typeof t=="number")return t;if(d5(t))return P1;if(kh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(YF,"");var n=JF.test(t);return n||ZF.test(t)?e5(t.slice(2),n?2:8):XF.test(t)?P1:+t}var h5=u5,ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.addPassiveEventListener=function(e,n,r){var i=r.name;i||(i=n,console.warn("Listener must be a named function.")),Fd.has(n)||Fd.set(n,new Set);var s=Fd.get(n);if(!s.has(i)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,r,o?{passive:!0}:!1),s.add(i)}};ec.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),Fd.get(n).delete(r.name||n)};var Fd=new Map;Object.defineProperty(Zu,"__esModule",{value:!0});var f5=h5,p5=m5(f5),C1=ec;function m5(t){return t&&t.__esModule?t:{default:t}}var g5=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,p5.default)(e,n)},Ve={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=g5(function(i){Ve.scrollHandler(e)},n);return Ve.scrollSpyContainers.push(e),(0,C1.addPassiveEventListener)(e,"scroll",r),function(){(0,C1.removePassiveEventListener)(e,"scroll",r),Ve.scrollSpyContainers.splice(Ve.scrollSpyContainers.indexOf(e),1)}}return function(){}},isMounted:function(e){return Ve.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.scrollY!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.scrollX!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Ve.scrollSpyContainers[Ve.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Ve.currentPositionX(e),Ve.currentPositionY(e))})},addStateHandler:function(e){Ve.spySetState.push(e)},addSpyHandler:function(e,n){var r=Ve.scrollSpyContainers[Ve.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e)},updateStates:function(){Ve.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Ve.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Ve.spySetState&&Ve.spySetState.length&&Ve.spySetState.indexOf(e)>-1&&Ve.spySetState.splice(Ve.spySetState.indexOf(e),1),document.removeEventListener("scroll",Ve.scrollHandler)},update:function(){return Ve.scrollSpyContainers.forEach(function(e){return Ve.scrollHandler(e)})}};Zu.default=Ve;var Oa={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});var y5=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},v5=function(){return window.location.hash.replace(/^#/,"")},w5=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},_5=function(e){return getComputedStyle(e).position!=="static"},fm=function(e,n){for(var r=e.offsetTop,i=e.offsetParent;i&&!n(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},E5=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(_5(e)){if(n.offsetParent!==e){var i=function(d){return d===e||d===document},s=fm(n,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(d){return d===document};return fm(n,l).offsetTop-fm(e,l).offsetTop};tc.default={updateHash:y5,getHash:v5,filterElementInContainer:w5,scrollOffset:E5};var Df={},r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var i0={};Object.defineProperty(i0,"__esModule",{value:!0});var x5=ec,T5=["mousedown","wheel","touchmove","keydown"];i0.default={subscribe:function(e){return typeof document<"u"&&T5.forEach(function(n){return(0,x5.addPassiveEventListener)(document,n,e)})}};var nc={};Object.defineProperty(nc,"__esModule",{value:!0});var Yg={registered:{},scrollEvent:{register:function(e,n){Yg.registered[e]=n},remove:function(e){Yg.registered[e]=null}}};nc.default=Yg;Object.defineProperty(Df,"__esModule",{value:!0});var b5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S5=tc;Of(S5);var P5=r0,A1=Of(P5),I5=i0,C5=Of(I5),A5=nc,ar=Of(A5);function Of(t){return t&&t.__esModule?t:{default:t}}var GC=function(e){return A1.default[e.smooth]||A1.default.defaultEasing},R5=function(e){return typeof e=="function"?e:function(){return e}},k5=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Xg=function(){return k5()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),QC=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},YC=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},XC=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},N5=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},D5=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},O5=function t(e,n,r){var i=n.data;if(!n.ignoreCancelEvents&&i.cancel){ar.default.registered.end&&ar.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=t.bind(null,e,n);Xg.call(window,s);return}ar.default.registered.end&&ar.default.registered.end(i.to,i.target,i.currentPosition)},s0=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},rc=function(e,n,r,i){n.data=n.data||QC(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(C5.default.subscribe(s),s0(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?YC(n):XC(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){ar.default.registered.end&&ar.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=R5(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=i;var o=GC(n),a=O5.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){ar.default.registered.begin&&ar.default.registered.begin(n.data.to,n.data.target),Xg.call(window,a)},n.delay);return}ar.default.registered.begin&&ar.default.registered.begin(n.data.to,n.data.target),Xg.call(window,a)},Mf=function(e){return e=b5({},e),e.data=e.data||QC(),e.absolute=!0,e},M5=function(e){rc(0,Mf(e))},L5=function(e,n){rc(e,Mf(n))},V5=function(e){e=Mf(e),s0(e),rc(e.horizontal?N5(e):D5(e),e)},j5=function(e,n){n=Mf(n),s0(n);var r=n.horizontal?YC(n):XC(n);rc(e+r,n)};Df.default={animateTopScroll:rc,getAnimationType:GC,scrollToTop:M5,scrollToBottom:V5,scrollTo:L5,scrollMore:j5};Object.defineProperty(Oa,"__esModule",{value:!0});var F5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U5=tc,B5=o0(U5),$5=Df,z5=o0($5),H5=nc,ld=o0(H5);function o0(t){return t&&t.__esModule?t:{default:t}}var ud={},R1=void 0;Oa.default={unmount:function(){ud={}},register:function(e,n){ud[e]=n},unregister:function(e){delete ud[e]},get:function(e){return ud[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return R1=e},getActiveLink:function(){return R1},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=F5({},n,{absolute:!1});var i=n.containerId,s=n.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=B5.default.scrollOffset(o,r,a)+(n.offset||0);if(!n.smooth){ld.default.registered.begin&&ld.default.registered.begin(e,r),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,ld.default.registered.end&&ld.default.registered.end(e,r);return}z5.default.animateTopScroll(l,n,e,r)}};var JC={exports:{}},W5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",q5=W5,K5=q5;function ZC(){}function eA(){}eA.resetWarningCache=ZC;var G5=function(){function t(r,i,s,o,a,l){if(l!==K5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eA,resetWarningCache:ZC};return n.PropTypes=n,n};JC.exports=G5();var Lf=JC.exports,Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});var Q5=tc,pm=Y5(Q5);function Y5(t){return t&&t.__esModule?t:{default:t}}var X5={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,i=r.get(e);if(i&&(n||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return pm.default.getHash()},changeHash:function(e,n){this.isInitialized()&&pm.default.getHash()!==e&&pm.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Vf.default=X5;Object.defineProperty(Ju,"__esModule",{value:!0});var cd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Z5=S,k1=ic(Z5),e3=Zu,dd=ic(e3),t3=Oa,n3=ic(t3),r3=Lf,Me=ic(r3),i3=Vf,hi=ic(i3);function ic(t){return t&&t.__esModule?t:{default:t}}function s3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var N1={to:Me.default.string.isRequired,containerId:Me.default.string,container:Me.default.object,activeClass:Me.default.string,activeStyle:Me.default.object,spy:Me.default.bool,horizontal:Me.default.bool,smooth:Me.default.oneOfType([Me.default.bool,Me.default.string]),offset:Me.default.number,delay:Me.default.number,isDynamic:Me.default.bool,onClick:Me.default.func,duration:Me.default.oneOfType([Me.default.number,Me.default.func]),absolute:Me.default.bool,onSetActive:Me.default.func,onSetInactive:Me.default.func,ignoreCancelEvents:Me.default.bool,hashSpy:Me.default.bool,saveHashHistory:Me.default.bool,spyThrottle:Me.default.number};Ju.default=function(t,e){var n=e||n3.default,r=function(s){a3(o,s);function o(a){s3(this,o);var l=o3(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return J5(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!dd.default.isMounted(l)){var u=dd.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(u)}this.props.hashSpy&&(hi.default.isMounted()||hi.default.mount(n),hi.default.mapContainer(this.props.to,l)),dd.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){dd.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=cd({},this.props.style,this.props.activeStyle):u=cd({},this.props.style);var d=cd({},this.props);for(var f in N1)d.hasOwnProperty(f)&&delete d[f];return d.className=l,d.style=u,d.onClick=this.handleClick,k1.default.createElement(t,d)}}]),o}(k1.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,cd({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(hi.default.isMounted()&&!hi.default.isInitialized())){var d=o.props.horizontal,f=o.props.to,h=null,g=void 0,_=void 0;if(d){var E=0,x=0,y=0;if(u.getBoundingClientRect){var w=u.getBoundingClientRect();y=w.left}if(!h||o.props.isDynamic){if(h=n.get(f),!h)return;var b=h.getBoundingClientRect();E=b.left-y+a,x=E+b.width}var k=a-o.props.offset;g=k>=Math.floor(E)&&k<Math.floor(x),_=k<Math.floor(E)||k>=Math.floor(x)}else{var N=0,M=0,P=0;if(u.getBoundingClientRect){var T=u.getBoundingClientRect();P=T.top}if(!h||o.props.isDynamic){if(h=n.get(f),!h)return;var C=h.getBoundingClientRect();N=C.top-P+l,M=N+C.height}var A=l-o.props.offset;g=A>=Math.floor(N)&&A<Math.floor(M),_=A<Math.floor(N)||A>=Math.floor(M)}var D=n.getActiveLink();if(_){if(f===D&&n.setActiveLink(void 0),o.props.hashSpy&&hi.default.getHash()===f){var O=o.props.saveHashHistory,R=O===void 0?!1:O;hi.default.changeHash("",R)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(f,h))}if(g&&(D!==f||o.state.active===!1)){n.setActiveLink(f);var H=o.props.saveHashHistory,oe=H===void 0?!1:H;o.props.hashSpy&&hi.default.changeHash(f,oe),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(f,h))}}}};return r.propTypes=N1,r.defaultProps={offset:0},r};Object.defineProperty(n0,"__esModule",{value:!0});var l3=S,D1=tA(l3),u3=Ju,c3=tA(u3);function tA(t){return t&&t.__esModule?t:{default:t}}function d3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function h3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f3=function(t){h3(e,t);function e(){var n,r,i,s;d3(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=O1(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.render=function(){return D1.default.createElement("a",i.props,i.props.children)},r),O1(i,s)}return e}(D1.default.Component);n0.default=(0,c3.default)(f3);var a0={};Object.defineProperty(a0,"__esModule",{value:!0});var p3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m3=S,M1=nA(m3),g3=Ju,y3=nA(g3);function nA(t){return t&&t.__esModule?t:{default:t}}function v3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E3=function(t){_3(e,t);function e(){return v3(this,e),w3(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p3(e,[{key:"render",value:function(){return M1.default.createElement("button",this.props,this.props.children)}}]),e}(M1.default.Component);a0.default=(0,y3.default)(E3);var l0={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});var x3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b3=S,L1=Ff(b3),S3=Aa;Ff(S3);var P3=Oa,V1=Ff(P3),I3=Lf,j1=Ff(I3);function Ff(t){return t&&t.__esModule?t:{default:t}}function C3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}jf.default=function(t){var e=function(n){R3(r,n);function r(i){C3(this,r);var s=A3(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return T3(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;V1.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){V1.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return L1.default.createElement(t,x3({},this.props,{parentBindings:this.childBindings}))}}]),r}(L1.default.Component);return e.propTypes={name:j1.default.string,id:j1.default.string},e};Object.defineProperty(l0,"__esModule",{value:!0});var F1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N3=S,U1=u0(N3),D3=jf,O3=u0(D3),M3=Lf,B1=u0(M3);function u0(t){return t&&t.__esModule?t:{default:t}}function L3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function j3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rA=function(t){j3(e,t);function e(){return L3(this,e),V3(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k3(e,[{key:"render",value:function(){var r=this,i=F1({},this.props);return delete i.name,i.parentBindings&&delete i.parentBindings,U1.default.createElement("div",F1({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(U1.default.Component);rA.propTypes={name:B1.default.string,id:B1.default.string};l0.default=(0,O3.default)(rA);var mm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hd=S,bs=Zu,gm=Oa,je=Lf,fi=Vf,q1={to:je.string.isRequired,containerId:je.string,container:je.object,activeClass:je.string,spy:je.bool,smooth:je.oneOfType([je.bool,je.string]),offset:je.number,delay:je.number,isDynamic:je.bool,onClick:je.func,duration:je.oneOfType([je.number,je.func]),absolute:je.bool,onSetActive:je.func,onSetInactive:je.func,ignoreCancelEvents:je.bool,hashSpy:je.bool,spyThrottle:je.number},F3={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||gm,i=function(o){W1(a,o);function a(l){z1(this,a);var u=H1(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return $1(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();bs.isMounted(u)||bs.mount(u,this.props.spyThrottle),this.props.hashSpy&&(fi.isMounted()||fi.mount(r),fi.mapContainer(this.props.to,u)),this.props.spy&&bs.addStateHandler(this.stateHandler),bs.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){bs.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=mm({},this.props);for(var f in q1)d.hasOwnProperty(f)&&delete d[f];return d.className=u,d.onClick=this.handleClick,hd.createElement(e,d)}}]),a}(hd.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,mm({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(fi.isMounted()&&!fi.isInitialized())){var d=a.props.to,f=null,h=0,g=0,_=0;if(u.getBoundingClientRect){var E=u.getBoundingClientRect();_=E.top}if(!f||a.props.isDynamic){if(f=r.get(d),!f)return;var x=f.getBoundingClientRect();h=x.top-_+l,g=h+x.height}var y=l-a.props.offset,w=y>=Math.floor(h)&&y<Math.floor(g),b=y<Math.floor(h)||y>=Math.floor(g),k=r.getActiveLink();if(b)return d===k&&r.setActiveLink(void 0),a.props.hashSpy&&fi.getHash()===d&&fi.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),bs.updateStates();if(w&&k!==d)return r.setActiveLink(d),a.props.hashSpy&&fi.changeHash(d),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(d)),bs.updateStates()}}};return i.propTypes=q1,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){W1(i,r);function i(s){z1(this,i);var o=H1(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return $1(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;gm.unregister(this.props.name)}},{key:"registerElems",value:function(o){gm.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return hd.createElement(e,mm({},this.props,{parentBindings:this.childBindings}))}}]),i}(hd.Component);return n.propTypes={name:je.string,id:je.string},n}},U3=F3;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.Helpers=Ke.ScrollElement=Ke.ScrollLink=Ke.animateScroll=Ke.scrollSpy=Ke.Events=Ke.scroller=c0=Ke.Element=Ke.Button=No=Ke.Link=void 0;var B3=n0,iA=Tr(B3),$3=a0,sA=Tr($3),z3=l0,oA=Tr(z3),H3=Oa,aA=Tr(H3),W3=nc,lA=Tr(W3),q3=Zu,uA=Tr(q3),K3=Df,cA=Tr(K3),G3=Ju,dA=Tr(G3),Q3=jf,hA=Tr(Q3),Y3=U3,fA=Tr(Y3);function Tr(t){return t&&t.__esModule?t:{default:t}}var No=Ke.Link=iA.default;Ke.Button=sA.default;var c0=Ke.Element=oA.default;Ke.scroller=aA.default;Ke.Events=lA.default;Ke.scrollSpy=uA.default;Ke.animateScroll=cA.default;Ke.ScrollLink=dA.default;Ke.ScrollElement=hA.default;Ke.Helpers=fA.default;Ke.default={Link:iA.default,Button:sA.default,Element:oA.default,scroller:aA.default,Events:lA.default,scrollSpy:uA.default,animateScroll:cA.default,ScrollLink:dA.default,ScrollElement:hA.default,Helpers:fA.default};const pA=()=>{const[t,e]=S.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)},i=()=>{r()};return m.jsx("header",{className:"bg-white shadow",children:m.jsxs("div",{className:"container mx-auto px-4 py-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(Lt,{to:"/",className:"flex items-center",onClick:i,children:m.jsx("img",{src:"/envo.png",alt:"Wanderlust Blogster Logo",className:"h-12 w-auto"})}),m.jsx("div",{className:"md:hidden",children:m.jsx(Tn,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Menu",children:t?m.jsx(HI,{size:24}):m.jsx(AL,{size:24})})}),m.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[m.jsx(Lt,{to:"/",className:"font-bold hover:text-blog-primary",children:"HOME"}),m.jsx(No,{to:"latest",smooth:!0,duration:500,className:"font-bold hover:text-blog-primary cursor-pointer",children:"BLOG"}),m.jsx(No,{className:"text-[13px] bg-indigo-600 text-gray-200 font-bold px-2 py-2 rounded-lg hover:text-blog-primary cursor-pointer",to:"news2",smooth:!0,duration:500,children:"NEWSLETTER"}),m.jsx("div",{className:"search relative",children:m.jsx(Tn,{variant:"ghost",size:"icon",className:"text-blog-grey",children:m.jsx(YE,{size:20})})})]})]}),t&&m.jsx("div",{className:"md:hidden mt-4 pb-4",children:m.jsxs("nav",{className:"flex flex-col space-y-4",children:[m.jsx(Lt,{to:"/",className:"font-bold hover:text-blog-primary",onClick:i,children:"HOME"}),m.jsx(No,{to:"latest",smooth:!0,duration:500,className:"font-bold hover:text-blog-primary cursor-pointer",onClick:i,children:"BLOG"}),m.jsx(No,{className:"bg-indigo-600 font-bold w-fit text-gray-200 px-2 py-2 rounded-lg hover:text-blog-primary cursor-pointer",to:"news2",smooth:!0,duration:500,onClick:i,children:"NEWSLETTER"}),m.jsxs("div",{className:"relative mt-2",children:[m.jsx("input",{type:"text",placeholder:"Search...",className:"w-full py-2 pl-3 pr-10 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blog-primary focus:border-transparent"}),m.jsx("div",{className:"absolute right-3 top-2.5",children:m.jsx(YE,{size:18,className:"text-blog-grey"})})]})]})})]})})},X3=()=>{};var K1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Z3;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eU=function(t){const e=mA(t);return gA.encodeByteArray(e,!0)},Nh=function(t){return eU(t).replace(/\./g,"")},yA=function(t){try{return gA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=()=>tU().__FIREBASE_DEFAULTS__,rU=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yA(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return X3()||nU()||rU()||iU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vA=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sU=t=>{const e=vA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wA=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config},_A=t=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nh(JSON.stringify(n)),Nh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function uU(){var t;const e=(t=Uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fU(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pU(){return!uU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mU(){try{return typeof indexedDB=="object"}catch{return!1}}function gU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ti(i,a,r)}}function vU(t,e){return t.replace(wU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wU=/\{\$([^}]+)}/g;function _U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G1(s)&&G1(o)){if(!Xs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EU(t,e){const n=new xU(t,e);return n.subscribe.bind(n)}class xU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ym),i.error===void 0&&(i.error=ym),i.complete===void 0&&(i.complete=ym);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PU(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SU(t){return t===As?void 0:t}function PU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const CU={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},AU=me.INFO,RU={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},kU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=kU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const NU=(t,e)=>e.some(n=>t instanceof n);let Q1,Y1;function DU(){return Q1||(Q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OU(){return Y1||(Y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EA=new WeakMap,Jg=new WeakMap,xA=new WeakMap,vm=new WeakMap,h0=new WeakMap;function MU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EA.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function LU(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VU(t){Zg=t(Zg)}function jU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wm(this),e,...n);return xA.set(r,e.sort?e.sort():[e]),zi(r)}:OU().includes(t)?function(...e){return t.apply(wm(this),e),zi(EA.get(this))}:function(...e){return zi(t.apply(wm(this),e))}}function FU(t){return typeof t=="function"?jU(t):(t instanceof IDBTransaction&&LU(t),NU(t,DU())?new Proxy(t,Zg):t)}function zi(t){if(t instanceof IDBRequest)return MU(t);if(vm.has(t))return vm.get(t);const e=FU(t);return e!==t&&(vm.set(t,e),h0.set(e,t)),e}const wm=t=>h0.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],_m=new Map;function X1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$U.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _m.set(e,s),s}VU(t=>({...t,get:(e,n,r)=>X1(e,n)||t.get(e,n,r),has:(e,n)=>!!X1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ey="@firebase/app",J1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new d0("@firebase/app"),WU="@firebase/app-compat",qU="@firebase/analytics-compat",KU="@firebase/analytics",GU="@firebase/app-check-compat",QU="@firebase/app-check",YU="@firebase/auth",XU="@firebase/auth-compat",JU="@firebase/database",ZU="@firebase/data-connect",e6="@firebase/database-compat",t6="@firebase/functions",n6="@firebase/functions-compat",r6="@firebase/installations",i6="@firebase/installations-compat",s6="@firebase/messaging",o6="@firebase/messaging-compat",a6="@firebase/performance",l6="@firebase/performance-compat",u6="@firebase/remote-config",c6="@firebase/remote-config-compat",d6="@firebase/storage",h6="@firebase/storage-compat",f6="@firebase/firestore",p6="@firebase/vertexai",m6="@firebase/firestore-compat",g6="firebase",y6="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="[DEFAULT]",v6={[ey]:"fire-core",[WU]:"fire-core-compat",[KU]:"fire-analytics",[qU]:"fire-analytics-compat",[QU]:"fire-app-check",[GU]:"fire-app-check-compat",[YU]:"fire-auth",[XU]:"fire-auth-compat",[JU]:"fire-rtdb",[ZU]:"fire-data-connect",[e6]:"fire-rtdb-compat",[t6]:"fire-fn",[n6]:"fire-fn-compat",[r6]:"fire-iid",[i6]:"fire-iid-compat",[s6]:"fire-fcm",[o6]:"fire-fcm-compat",[a6]:"fire-perf",[l6]:"fire-perf-compat",[u6]:"fire-rc",[c6]:"fire-rc-compat",[d6]:"fire-gcs",[h6]:"fire-gcs-compat",[f6]:"fire-fst",[m6]:"fire-fst-compat",[p6]:"fire-vertex","fire-js":"fire-js",[g6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,w6=new Map,ny=new Map;function Z1(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(ny.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of Dh.values())Z1(n,t);for(const n of w6.values())Z1(n,t);return!0}function f0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new sc("app","Firebase",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=y6;function TA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=wA()),!n)throw Hi.create("no-options");const s=Dh.get(i);if(s){if(Xs(n,s.options)&&Xs(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new IU(i);for(const l of ny.values())o.addComponent(l);const a=new E6(n,r,o);return Dh.set(i,a),a}function bA(t=ty){const e=Dh.get(t);if(!e&&t===ty&&wA())return TA();if(!e)throw Hi.create("no-app",{appName:t});return e}function Wi(t,e,n){var r;let i=(r=v6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}ma(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="firebase-heartbeat-database",T6=1,Tu="firebase-heartbeat-store";let Em=null;function SA(){return Em||(Em=UU(x6,T6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Em}async function b6(t){try{const n=(await SA()).transaction(Tu),r=await n.objectStore(Tu).get(PA(t));return await n.done,r}catch(e){if(e instanceof ti)Gr.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function ex(t,e){try{const r=(await SA()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(e,PA(t)),await r.done}catch(n){if(n instanceof ti)Gr.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function PA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=1024,P6=30;class I6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>P6){const o=R6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tx(),{heartbeatsToSend:r,unsentEntries:i}=C6(this._heartbeatsCache.heartbeats),s=Nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}}}function tx(){return new Date().toISOString().substring(0,10)}function C6(t,e=S6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mU()?gU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nx(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}function R6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){ma(new Js("platform-logger",e=>new zU(e),"PRIVATE")),ma(new Js("heartbeat",e=>new I6(e),"PRIVATE")),Wi(ey,J1,t),Wi(ey,J1,"esm2017"),Wi("fire-js","")}k6("");var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,IA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function C(){}C.prototype=T.prototype,P.D=T.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(A,D,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return T.prototype[D].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,C){C||(C=0);var A=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)A[D]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(D=0;16>D;++D)A[D]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=P.g[0],C=P.g[1],D=P.g[2];var O=P.g[3],R=T+(O^C&(D^O))+A[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=O+(D^T&(C^D))+A[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=D+(C^O&(T^C))+A[2]+606105819&4294967295,D=O+(R<<17&4294967295|R>>>15),R=C+(T^D&(O^T))+A[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(O^C&(D^O))+A[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(D^T&(C^D))+A[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=D+(C^O&(T^C))+A[6]+2821735955&4294967295,D=O+(R<<17&4294967295|R>>>15),R=C+(T^D&(O^T))+A[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(O^C&(D^O))+A[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(D^T&(C^D))+A[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=D+(C^O&(T^C))+A[10]+4294925233&4294967295,D=O+(R<<17&4294967295|R>>>15),R=C+(T^D&(O^T))+A[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(O^C&(D^O))+A[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(D^T&(C^D))+A[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=D+(C^O&(T^C))+A[14]+2792965006&4294967295,D=O+(R<<17&4294967295|R>>>15),R=C+(T^D&(O^T))+A[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(D^O&(C^D))+A[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^D&(T^C))+A[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(O^T))+A[11]+643717713&4294967295,D=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(D^O))+A[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^O&(C^D))+A[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^D&(T^C))+A[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(O^T))+A[15]+3634488961&4294967295,D=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(D^O))+A[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^O&(C^D))+A[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^D&(T^C))+A[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(O^T))+A[3]+4107603335&4294967295,D=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(D^O))+A[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^O&(C^D))+A[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^D&(T^C))+A[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(O^T))+A[7]+1735328473&4294967295,D=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(D^O))+A[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(C^D^O)+A[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^D)+A[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=D+(O^T^C)+A[11]+1839030562&4294967295,D=O+(R<<16&4294967295|R>>>16),R=C+(D^O^T)+A[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^O)+A[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^D)+A[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=D+(O^T^C)+A[7]+4139469664&4294967295,D=O+(R<<16&4294967295|R>>>16),R=C+(D^O^T)+A[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^O)+A[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^D)+A[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=D+(O^T^C)+A[3]+3572445317&4294967295,D=O+(R<<16&4294967295|R>>>16),R=C+(D^O^T)+A[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^O)+A[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^D)+A[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=D+(O^T^C)+A[15]+530742520&4294967295,D=O+(R<<16&4294967295|R>>>16),R=C+(D^O^T)+A[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(D^(C|~O))+A[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~D))+A[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=D+(T^(O|~C))+A[14]+2878612391&4294967295,D=O+(R<<15&4294967295|R>>>17),R=C+(O^(D|~T))+A[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~O))+A[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~D))+A[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=D+(T^(O|~C))+A[10]+4293915773&4294967295,D=O+(R<<15&4294967295|R>>>17),R=C+(O^(D|~T))+A[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~O))+A[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~D))+A[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=D+(T^(O|~C))+A[6]+2734768916&4294967295,D=O+(R<<15&4294967295|R>>>17),R=C+(O^(D|~T))+A[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~O))+A[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~D))+A[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=D+(T^(O|~C))+A[2]+718787259&4294967295,D=O+(R<<15&4294967295|R>>>17),R=C+(O^(D|~T))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var C=T-this.blockSize,A=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=C;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<T;)if(A[D++]=P.charCodeAt(O++),D==this.blockSize){i(this,A),D=0;break}}else for(;O<T;)if(A[D++]=P[O++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var C=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=C&255,C/=256;for(this.u(P),P=Array(16),T=C=0;4>T;++T)for(var A=0;32>A;A+=8)P[C++]=this.g[T]>>>A&255;return P};function s(P,T){var C=a;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=T(P)}function o(P,T){this.h=T;for(var C=[],A=!0,D=P.length-1;0<=D;D--){var O=P[D]|0;A&&O==T||(C[D]=O,A=!1)}this.g=C}var a={};function l(P){return-128<=P&&128>P?s(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return x(u(-P));for(var T=[],C=1,A=0;P>=C;A++)T[A]=P/C|0,C*=4294967296;return new o(T,0)}function d(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return x(d(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(T,8)),A=f,D=0;D<P.length;D+=8){var O=Math.min(8,P.length-D),R=parseInt(P.substring(D,D+O),T);8>O?(O=u(Math.pow(T,O)),A=A.j(O).add(u(R))):(A=A.j(C),A=A.add(u(R)))}return A}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-x(this).m();for(var P=0,T=1,C=0;C<this.g.length;C++){var A=this.i(C);P+=(0<=A?A:4294967296+A)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(E(this))return"-"+x(this).toString(P);for(var T=u(Math.pow(P,6)),C=this,A="";;){var D=k(C,T).g;C=y(C,D.j(T));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=D,_(C))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=y(this,P),E(P)?-1:_(P)?0:1};function x(P){for(var T=P.g.length,C=[],A=0;A<T;A++)C[A]=~P.g[A];return new o(C,~P.h).add(h)}t.abs=function(){return E(this)?x(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0,D=0;D<=T;D++){var O=A+(this.i(D)&65535)+(P.i(D)&65535),R=(O>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=R>>>16,O&=65535,R&=65535,C[D]=R<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function y(P,T){return P.add(x(T))}t.j=function(P){if(_(this)||_(P))return f;if(E(this))return E(P)?x(this).j(x(P)):x(x(this).j(P));if(E(P))return x(this.j(x(P)));if(0>this.l(g)&&0>P.l(g))return u(this.m()*P.m());for(var T=this.g.length+P.g.length,C=[],A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<P.g.length;D++){var O=this.i(A)>>>16,R=this.i(A)&65535,H=P.i(D)>>>16,oe=P.i(D)&65535;C[2*A+2*D]+=R*oe,w(C,2*A+2*D),C[2*A+2*D+1]+=O*oe,w(C,2*A+2*D+1),C[2*A+2*D+1]+=R*H,w(C,2*A+2*D+1),C[2*A+2*D+2]+=O*H,w(C,2*A+2*D+2)}for(A=0;A<T;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=T;A<2*T;A++)C[A]=0;return new o(C,0)};function w(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function b(P,T){this.g=P,this.h=T}function k(P,T){if(_(T))throw Error("division by zero");if(_(P))return new b(f,f);if(E(P))return T=k(x(P),T),new b(x(T.g),x(T.h));if(E(T))return T=k(P,x(T)),new b(x(T.g),T.h);if(30<P.g.length){if(E(P)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var C=h,A=T;0>=A.l(P);)C=N(C),A=N(A);var D=M(C,1),O=M(A,1);for(A=M(A,2),C=M(C,2);!_(A);){var R=O.add(A);0>=R.l(P)&&(D=D.add(C),O=R),A=M(A,1),C=M(C,1)}return T=y(P,D.j(T)),new b(D,T)}for(D=f;0<=P.l(T);){for(C=Math.max(1,Math.floor(P.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(C),R=O.j(T);E(R)||0<R.l(P);)C-=A,O=u(C),R=O.j(T);_(O)&&(O=h),D=D.add(O),P=y(P,R)}return new b(D,P)}t.A=function(P){return k(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)&P.i(A);return new o(C,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)|P.i(A);return new o(C,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)^P.i(A);return new o(C,this.h^P.h)};function N(P){for(var T=P.g.length+1,C=[],A=0;A<T;A++)C[A]=P.i(A)<<1|P.i(A-1)>>>31;return new o(C,P.h)}function M(P,T){var C=T>>5;T%=32;for(var A=P.g.length-C,D=[],O=0;O<A;O++)D[O]=0<T?P.i(O+C)>>>T|P.i(O+C+1)<<32-T:P.i(O+C);return new o(D,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,qi=o}).apply(typeof rx<"u"?rx:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,Cl,AA,Ud,ry,RA,kA,NA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var L=c[I];if(!(L in v))break e;v=v[L]}c=c[c.length-1],I=v[c],p=p(I),p!=I&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,I=!1,L={next:function(){if(!I&&v<c.length){var j=v++;return{value:p(j,c[j]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function f(c,p,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function h(c,p,v){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function _(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,L,j){for(var W=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)W[Pe-2]=arguments[Pe];return p.prototype[L].apply(I,W)}}function E(c){const p=c.length;if(0<p){const v=Array(p);for(let I=0;I<p;I++)v[I]=c[I];return v}return[]}function x(c,p){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(l(I)){const L=c.length||0,j=I.length||0;c.length=L+j;for(let W=0;W<j;W++)c[L+W]=I[W]}else c.push(I)}}class y{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(c,p,v){for(const I in c)p.call(v,c[I],I,c)}function P(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function T(c){const p={};for(const v in c)p[v]=c[v];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let v,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(v in I)c[v]=I[v];for(let j=0;j<C.length;j++)v=C[j],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function D(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function O(c){a.setTimeout(()=>{throw c},0)}function R(){var c=z;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,v){const I=oe.get();I.set(p,v),this.h?this.h.next=I:this.g=I,this.h=I}}var oe=new y(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let J,V=!1,z=new H,X=()=>{const c=a.Promise.resolve(void 0);J=()=>{c.then(Q)}};var Q=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){O(v)}var p=oe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function st(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(N){e:{try{k(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&st.aa.h.call(this)}}_(st,te);var _e={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Xn(c,p,v,I,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!I,this.ha=L,this.key=++Yn,this.da=this.fa=!1}function sn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,p,v,I,L){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var W=An(c,p,I,L);return-1<W?(p=c[W],v||(p.fa=!1)):(p=new Xn(p,this.src,j,!!I,L),p.fa=v,c.push(p)),p};function Jn(c,p){var v=p.type;if(v in c.g){var I=c.g[v],L=Array.prototype.indexOf.call(I,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(I,L,1),j&&(sn(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function An(c,p,v,I){for(var L=0;L<c.length;++L){var j=c[L];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==I)return L}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),ni={};function Rn(c,p,v,I,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Rn(c,p[j],v,I,L);return null}return v=Xa(v),c&&c[Tt]?c.K(p,v,u(I)?!!I.capture:!!I,L):Ga(c,p,v,!1,I,L)}function Ga(c,p,v,I,L,j){if(!p)throw Error("Invalid event type");var W=u(L)?!!L.capture:!!L,Pe=ri(c);if(Pe||(c[Pr]=Pe=new Sr(c)),v=Pe.add(p,v,I,W,j),v.proxy)return v;if(I=Qa(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)Ae||(L=W),L===void 0&&(L=!1),c.addEventListener(p.toString(),I,L);else if(c.attachEvent)c.attachEvent(Ec(p.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qa(){function c(v){return p.call(c.src,c.listener,v)}const p=pp;return c}function Ze(c,p,v,I,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)Ze(c,p[j],v,I,L);else I=u(I)?!!I.capture:!!I,v=Xa(v),c&&c[Tt]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],v=An(j,v,I,L),-1<v&&(sn(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=ri(c))&&(p=c.g[p.toString()],c=-1,p&&(c=An(p,v,I,L)),(v=-1<c?p[c]:null)&&Zn(v))}function Zn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Tt])Jn(p.i,c);else{var v=c.type,I=c.proxy;p.removeEventListener?p.removeEventListener(v,I,c.capture):p.detachEvent?p.detachEvent(Ec(v),I):p.addListener&&p.removeListener&&p.removeListener(I),(v=ri(p))?(Jn(v,c),v.h==0&&(v.src=null,p[Pr]=null)):sn(c)}}}function Ec(c){return c in ni?ni[c]:ni[c]="on"+c}function pp(c,p){if(c.da)c=!0;else{p=new st(p,this);var v=c.listener,I=c.ha||c.src;c.fa&&Zn(c),c=v.call(I,p)}return c}function ri(c){return c=c[Pr],c instanceof Sr?c:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(c){return typeof c=="function"?c:(c[Ya]||(c[Ya]=function(p){return c.handleEvent(p)}),c[Ya])}function et(){Z.call(this),this.i=new Sr(this),this.M=this,this.F=null}_(et,Z),et.prototype[Tt]=!0,et.prototype.removeEventListener=function(c,p,v,I){Ze(this,c,p,v,I)};function He(c,p){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var L=p;p=new te(I,c),A(p,L)}if(L=!0,v)for(var j=v.length-1;0<=j;j--){var W=p.g=v[j];L=ws(W,I,!0,p)&&L}if(W=p.g=c,L=ws(W,I,!0,p)&&L,L=ws(W,I,!1,p)&&L,v)for(j=0;j<v.length;j++)W=p.g=v[j],L=ws(W,I,!1,p)&&L}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],I=0;I<v.length;I++)sn(v[I]);delete c.g[p],c.h--}}this.F=null},et.prototype.K=function(c,p,v,I){return this.i.add(String(c),p,!1,v,I)},et.prototype.L=function(c,p,v,I){return this.i.add(String(c),p,!0,v,I)};function ws(c,p,v,I){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==v){var Pe=W.listener,pt=W.ha||W.src;W.fa&&Jn(c.i,W),L=Pe.call(pt,I)!==!1&&L}}return L&&!I.defaultPrevented}function Ir(c,p,v){if(typeof c=="function")v&&(c=h(c,v));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Ja(c){c.g=Ir(()=>{c.g=null,c.i&&(c.i=!1,Ja(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class mp extends Z{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ja(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(c){Z.call(this),this.h=c,this.g={}}_(ii,Z);var Za=[];function xc(c){M(c.g,function(p,v){this.g.hasOwnProperty(v)&&Zn(p)},c),c.g={}}ii.prototype.N=function(){ii.aa.N.call(this),xc(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=a.JSON.stringify,er=a.JSON.parse,gp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function Se(c){return c.h||(c.h=c.i())}function Te(){}var bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){te.call(this,"d")}_(Gt,te);function si(){te.call(this,"c")}_(si,te);var Cr={},Hw=null;function Tc(){return Hw=Hw||new et}Cr.La="serverreachability";function Ww(c){te.call(this,Cr.La,c)}_(Ww,te);function el(c){const p=Tc();He(p,new Ww(p))}Cr.STAT_EVENT="statevent";function qw(c,p){te.call(this,Cr.STAT_EVENT,c),this.stat=p}_(qw,te);function Ut(c){const p=Tc();He(p,new qw(p,c))}Cr.Ma="timingevent";function Kw(c,p){te.call(this,Cr.Ma,c),this.size=p}_(Kw,te);function tl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function nl(){this.g=!0}nl.prototype.xa=function(){this.g=!1};function xN(c,p,v,I,L,j){c.info(function(){if(c.g)if(j)for(var W="",Pe=j.split("&"),pt=0;pt<Pe.length;pt++){var we=Pe[pt].split("=");if(1<we.length){var St=we[0];we=we[1];var Pt=St.split("_");W=2<=Pt.length&&Pt[1]=="type"?W+(St+"="+we+"&"):W+(St+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+p+`
`+v+`
`+W})}function TN(c,p,v,I,L,j,W){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+p+`
`+v+`
`+j+" "+W})}function uo(c,p,v,I){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+SN(c,v)+(I?" "+I:"")})}function bN(c,p){c.info(function(){return"TIMEOUT: "+p})}nl.prototype.info=function(){};function SN(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return _s(v)}catch{return p}}var bc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yp;function Sc(){}_(Sc,ae),Sc.prototype.g=function(){return new XMLHttpRequest},Sc.prototype.i=function(){return{}},yp=new Sc;function oi(c,p,v,I){this.j=c,this.i=p,this.l=v,this.R=I||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qw}function Qw(){this.i=null,this.g="",this.h=!1}var Yw={},vp={};function wp(c,p,v){c.L=1,c.v=Ac(Ar(p)),c.m=v,c.P=!0,Xw(c,null)}function Xw(c,p){c.F=Date.now(),Pc(c),c.A=Ar(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),d_(v.i,"t",I),c.C=0,v=c.j.J,c.h=new Qw,c.g=A_(c.j,v?p:null,!c.m),0<c.O&&(c.M=new mp(h(c.Y,c,c.g),c.O)),p=c.U,v=c.g,I=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Za[0]=L.toString()),L=Za);for(var j=0;j<L.length;j++){var W=Rn(v,L[j],I||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),el(),xN(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;const p=this.M;p&&Rr(c)==3?p.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=Rr(this.g);var p=this.g.Ba();const fo=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||v_(this.g)))){this.J||Pt!=4||p==7||(p==8||0>=fo?el(3):el(2)),_p(this);var v=this.g.Z();this.X=v;t:if(Jw(this)){var I=v_(this.g);c="";var L=I.length,j=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),rl(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(I[p],{stream:!(j&&p==L-1)});I.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,TN(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,pt=this.g;if((Pe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Pe)){var we=Pe;break t}}we=null}if(v=we)uo(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,v);else{this.o=!1,this.s=3,Ut(12),Es(this),rl(this);break e}}if(this.P){v=!0;let kn;for(;!this.J&&this.C<W.length;)if(kn=PN(this,W),kn==vp){Pt==4&&(this.s=4,Ut(14),v=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Yw){this.s=4,Ut(15),uo(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else uo(this.i,this.l,kn,null),Ep(this,kn);if(Jw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||W.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)uo(this.i,this.l,W,"[Invalid Chunked Response]"),Es(this),rl(this);else if(0<W.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Ip(St),St.M=!0,Ut(11))}}else uo(this.i,this.l,W,null),Ep(this,W);Pt==4&&Es(this),this.o&&!this.J&&(Pt==4?S_(this.j,this):(this.o=!1,Pc(this)))}else zN(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Es(this),rl(this)}}}catch{}finally{}};function Jw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function PN(c,p){var v=c.C,I=p.indexOf(`
`,v);return I==-1?vp:(v=Number(p.substring(v,I)),isNaN(v)?Yw:(I+=1,I+v>p.length?vp:(p=p.slice(I,I+v),c.C=I+v,p)))}oi.prototype.cancel=function(){this.J=!0,Es(this)};function Pc(c){c.S=Date.now()+c.I,Zw(c,c.I)}function Zw(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tl(h(c.ba,c),p)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bN(this.i,this.A),this.L!=2&&(el(),Ut(17)),Es(this),this.s=2,rl(this)):Zw(this,this.S-c)};function rl(c){c.j.G==0||c.J||S_(c.j,c)}function Es(c){_p(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,xc(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ep(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||xp(v.h,c))){if(!c.K&&xp(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Mc(v),Dc(v);else break e;Pp(v),Ut(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=tl(h(v.Za,v),6e3));if(1>=n_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ts(v,11)}else if((c.K||v.g==c)&&Mc(v),!w(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let we=L[p];if(v.T=we[0],we=we[1],v.G==2)if(we[0]=="c"){v.K=we[1],v.ia=we[2];const St=we[3];St!=null&&(v.la=St,v.j.info("VER="+v.la));const Pt=we[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const fo=we[5];fo!=null&&typeof fo=="number"&&0<fo&&(I=1.5*fo,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const kn=c.g;if(kn){const Vc=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vc){var j=I.h;j.g||Vc.indexOf("spdy")==-1&&Vc.indexOf("quic")==-1&&Vc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Tp(j,j.h),j.h=null))}if(I.D){const Cp=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cp&&(I.ya=Cp,Re(I.I,I.D,Cp))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var W=c;if(I.qa=C_(I,I.J?I.ia:null,I.W),W.K){r_(I.h,W);var Pe=W,pt=I.L;pt&&(Pe.I=pt),Pe.B&&(_p(Pe),Pc(Pe)),I.g=W}else T_(I);0<v.i.length&&Oc(v)}else we[0]!="stop"&&we[0]!="close"||Ts(v,7);else v.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Ts(v,7):Sp(v):we[0]!="noop"&&v.l&&v.l.ta(we),v.v=0)}}el(4)}catch{}}var IN=class{constructor(c,p){this.g=c,this.map=p}};function e_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n_(c){return c.h?1:c.g?c.g.size:0}function xp(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Tp(c,p){c.g?c.g.add(p):c.h=p}function r_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}e_.prototype.cancel=function(){if(this.i=i_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return E(c.i)}function CN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,I=0;I<v;I++)p.push(c[I]);return p}p=[],v=0;for(I in c)p[v++]=c[I];return p}function AN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const I in c)p[v++]=I;return p}}}function s_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=AN(c),I=CN(c),L=I.length,j=0;j<L;j++)p.call(void 0,I[j],v&&v[j],c)}var o_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RN(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),L=null;if(0<=I){var j=c[v].substring(0,I);L=c[v].substring(I+1)}else j=c[v];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xs){this.h=c.h,Ic(this,c.j),this.o=c.o,this.g=c.g,Cc(this,c.s),this.l=c.l;var p=c.i,v=new ol;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),a_(this,v),this.m=c.m}else c&&(p=String(c).match(o_))?(this.h=!1,Ic(this,p[1]||"",!0),this.o=il(p[2]||""),this.g=il(p[3]||"",!0),Cc(this,p[4]),this.l=il(p[5]||"",!0),a_(this,p[6]||"",!0),this.m=il(p[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}xs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(sl(p,l_,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(sl(p,l_,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(sl(v,v.charAt(0)=="/"?DN:NN,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",sl(v,MN)),c.join("")};function Ar(c){return new xs(c)}function Ic(c,p,v){c.j=v?il(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Cc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function a_(c,p,v){p instanceof ol?(c.i=p,LN(c.i,c.h)):(v||(p=sl(p,ON)),c.i=new ol(p,c.h))}function Re(c,p,v){c.i.set(p,v)}function Ac(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function il(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function sl(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,kN),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var l_=/[#\/\?@]/g,NN=/[#\?:]/g,DN=/[#\?]/g,ON=/[#\?@]/g,MN=/#/g;function ol(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ai(c){c.g||(c.g=new Map,c.h=0,c.i&&RN(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ol.prototype,t.add=function(c,p){ai(this),this.i=null,c=co(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function u_(c,p){ai(c),p=co(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function c_(c,p){return ai(c),p=co(c,p),c.g.has(p)}t.forEach=function(c,p){ai(this),this.g.forEach(function(v,I){v.forEach(function(L){c.call(p,L,I,this)},this)},this)},t.na=function(){ai(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let I=0;I<p.length;I++){const L=c[I];for(let j=0;j<L.length;j++)v.push(p[I])}return v},t.V=function(c){ai(this);let p=[];if(typeof c=="string")c_(this,c)&&(p=p.concat(this.g.get(co(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return ai(this),this.i=null,c=co(this,c),c_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function d_(c,p,v){u_(c,p),0<v.length&&(c.i=null,c.g.set(co(c,p),E(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var I=p[v];const j=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var L=j;W[I]!==""&&(L+="="+encodeURIComponent(String(W[I]))),c.push(L)}}return this.i=c.join("&")};function co(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function LN(c,p){p&&!c.j&&(ai(c),c.i=null,c.g.forEach(function(v,I){var L=I.toLowerCase();I!=L&&(u_(this,I),d_(this,L,v))},c)),c.j=p}function VN(c,p){const v=new nl;if(a.Image){const I=new Image;I.onload=g(li,v,"TestLoadImage: loaded",!0,p,I),I.onerror=g(li,v,"TestLoadImage: error",!1,p,I),I.onabort=g(li,v,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(li,v,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else p(!1)}function jN(c,p){const v=new nl,I=new AbortController,L=setTimeout(()=>{I.abort(),li(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:I.signal}).then(j=>{clearTimeout(L),j.ok?li(v,"TestPingServer: ok",!0,p):li(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),li(v,"TestPingServer: error",!1,p)})}function li(c,p,v,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(v)}catch{}}function FN(){this.g=new gp}function UN(c,p,v){const I=v||"";try{s_(c,function(L,j){let W=L;u(L)&&(W=_s(L)),p.push(I+j+"="+encodeURIComponent(W))})}catch(L){throw p.push(I+"type="+encodeURIComponent("_badmap")),L}}function Rc(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Rc,ae),Rc.prototype.g=function(){return new kc(this.l,this.j)},Rc.prototype.i=function(c){return function(){return c}}({});function kc(c,p){et.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(kc,et),t=kc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ll(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function h_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?al(this):ll(this),this.readyState==3&&h_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,al(this))},t.Qa=function(c){this.g&&(this.response=c,al(this))},t.ga=function(){this.g&&al(this)};function al(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ll(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ll(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f_(c){let p="";return M(c,function(v,I){p+=I,p+=":",p+=v,p+=`\r
`}),p}function bp(c,p,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=f_(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Re(c,p,v))}function We(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(We,et);var BN=/^https?$/i,$N=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yp.g(),this.v=this.o?Se(this.o):Se(yp),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){p_(this,j);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)v.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())v.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($N,p,void 0))||I||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y_(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){p_(this,j)}};function p_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,m_(c),Nc(c)}function m_(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),Nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g_(this):this.bb())},t.bb=function(){g_(this)};function g_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Rr(c)!=4||c.Z()!=2)){if(c.u&&Rr(c)==4)Ir(c.Ea,0,c);else if(He(c,"readystatechange"),Rr(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var I;if(I=W===0){var L=String(c.D).match(o_)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!BN.test(L?L.toLowerCase():"")}v=I}if(v)He(c,"complete"),He(c,"success");else{c.m=6;try{var j=2<Rr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",m_(c)}}finally{Nc(c)}}}}function Nc(c,p){if(c.g){y_(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||He(c,"ready");try{v.onreadystatechange=I}catch{}}}function y_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),er(p)}};function v_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zN(c){const p={};c=(c.g&&2<=Rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(w(c[I]))continue;var v=D(c[I]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[L]||[];p[L]=j,j.push(v)}P(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function w_(c){this.Aa=0,this.i=[],this.j=new nl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,c),this.cb=ul("retryDelaySeedMs",1e4,c),this.Wa=ul("forwardChannelMaxRetries",2,c),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e_(c&&c.concurrentRequestLimit),this.Da=new FN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w_.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,I){Ut(0),this.W=c,this.H=p||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=C_(this,null,this.W),Oc(this)};function Sp(c){if(__(c),c.G==3){var p=c.U++,v=Ar(c.I);if(Re(v,"SID",c.K),Re(v,"RID",p),Re(v,"TYPE","terminate"),cl(c,v),p=new oi(c,c.j,p),p.L=2,p.v=Ac(Ar(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=A_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Pc(p)}I_(c)}function Dc(c){c.g&&(Ip(c),c.g.cancel(),c.g=null)}function __(c){Dc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Mc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Oc(c){if(!t_(c.h)&&!c.s){c.s=!0;var p=c.Ga;J||X(),V||(J(),V=!0),z.add(p,c),c.B=0}}function HN(c,p){return n_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tl(h(c.Ga,c,p),P_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new oi(this,this.j,c);let j=this.o;if(this.S&&(j?(j=T(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=x_(this,L,p),v=Ar(this.I),Re(v,"RID",c),Re(v,"CVER",22),this.D&&Re(v,"X-HTTP-Session-Id",this.D),cl(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(f_(j)))+"&"+p:this.m&&bp(v,this.m,j)),Tp(this.h,L),this.Ua&&Re(v,"TYPE","init"),this.P?(Re(v,"$req",p),Re(v,"SID","null"),L.T=!0,wp(L,v,null)):wp(L,v,p),this.G=2}}else this.G==3&&(c?E_(this,c):this.i.length==0||t_(this.h)||E_(this))};function E_(c,p){var v;p?v=p.l:v=c.U++;const I=Ar(c.I);Re(I,"SID",c.K),Re(I,"RID",v),Re(I,"AID",c.T),cl(c,I),c.m&&c.o&&bp(I,c.m,c.o),v=new oi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=x_(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tp(c.h,v),wp(v,I,p)}function cl(c,p){c.H&&M(c.H,function(v,I){Re(p,I,v)}),c.l&&s_({},function(v,I){Re(p,I,v)})}function x_(c,p,v){v=Math.min(c.i.length,v);var I=c.l?h(c.l.Na,c.l,c):null;e:{var L=c.i;let j=-1;for(;;){const W=["count="+v];j==-1?0<v?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Pe=!0;for(let pt=0;pt<v;pt++){let we=L[pt].g;const St=L[pt].map;if(we-=j,0>we)j=Math.max(0,L[pt].g-100),Pe=!1;else try{UN(St,W,"req"+we+"_")}catch{I&&I(St)}}if(Pe){I=W.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,I}function T_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;J||X(),V||(J(),V=!0),z.add(p,c),c.v=0}}function Pp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tl(h(c.Fa,c),P_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,b_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Dc(this),b_(this))};function Ip(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function b_(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ar(c.qa);Re(p,"RID","rpc"),Re(p,"SID",c.K),Re(p,"AID",c.T),Re(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(p,"TO",c.ja),Re(p,"TYPE","xmlhttp"),cl(c,p),c.m&&c.o&&bp(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ac(Ar(p)),v.m=null,v.P=!0,Xw(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),Pp(this),Ut(19))};function Mc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function S_(c,p){var v=null;if(c.g==p){Mc(c),Ip(c),c.g=null;var I=2}else if(xp(c.h,p))v=p.D,r_(c.h,p),I=1;else return;if(c.G!=0){if(p.o)if(I==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;I=Tc(),He(I,new Kw(I,v)),Oc(c)}else T_(c);else if(L=p.s,L==3||L==0&&0<p.X||!(I==1&&HN(c,p)||I==2&&Pp(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ts(c,5);break;case 4:Ts(c,10);break;case 3:Ts(c,6);break;default:Ts(c,2)}}}function P_(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Ts(c,p){if(c.j.info("Error code "+p),p==2){var v=h(c.fb,c),I=c.Xa;const L=!I;I=new xs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ic(I,"https"),Ac(I),L?VN(I.toString(),v):jN(I.toString(),v)}else Ut(2);c.G=0,c.l&&c.l.sa(p),I_(c),__(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function I_(c){if(c.G=0,c.ka=[],c.l){const p=i_(c.h);(p.length!=0||c.i.length!=0)&&(x(c.ka,p),x(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function C_(c,p,v){var I=v instanceof xs?Ar(v):new xs(v);if(I.g!="")p&&(I.g=p+"."+I.g),Cc(I,I.s);else{var L=a.location;I=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new xs(null);I&&Ic(j,I),p&&(j.g=p),L&&Cc(j,L),v&&(j.l=v),I=j}return v=c.D,p=c.ya,v&&p&&Re(I,v,p),Re(I,"VER",c.la),cl(c,I),I}function A_(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new We(new Rc({eb:v})):new We(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R_(){}t=R_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lc(){}Lc.prototype.g=function(c,p){return new on(c,p)};function on(c,p){et.call(this),this.g=new w_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ho(this)}_(on,et),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Sp(this.g)},on.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=_s(c),c=v);p.i.push(new IN(p.Ya++,c)),p.G==3&&Oc(p)},on.prototype.N=function(){this.g.l=null,delete this.j,Sp(this.g),delete this.g,on.aa.N.call(this)};function k_(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(k_,Gt);function N_(){si.call(this),this.status=1}_(N_,si);function ho(c){this.g=c}_(ho,R_),ho.prototype.ua=function(){He(this.g,"a")},ho.prototype.ta=function(c){He(this.g,new k_(c))},ho.prototype.sa=function(c){He(this.g,new N_)},ho.prototype.ra=function(){He(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,NA=function(){return new Lc},kA=function(){return Tc()},RA=Cr,ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bc.NO_ERROR=0,bc.TIMEOUT=8,bc.HTTP_ERROR=6,Ud=bc,Gw.COMPLETE="complete",AA=Gw,Te.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",et.prototype.listen=et.prototype.K,Cl=Te,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,CA=We}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const ix="@firebase/firestore",sx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new d0("@firebase/firestore");function go(){return Zs.logLevel}function G(t,...e){if(Zs.logLevel<=me.DEBUG){const n=e.map(p0);Zs.debug(`Firestore (${La}): ${t}`,...n)}}function Qr(t,...e){if(Zs.logLevel<=me.ERROR){const n=e.map(p0);Zs.error(`Firestore (${La}): ${t}`,...n)}}function ga(t,...e){if(Zs.logLevel<=me.WARN){const n=e.map(p0);Zs.warn(`Firestore (${La}): ${t}`,...n)}}function p0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function xe(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class D6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O6{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ur,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new DA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Dt(e)}}class M6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class L6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new M6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V6{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ox(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new ox(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=j6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function iy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=OA(),o=F6(s.encode(ax(t,n)),s.encode(ax(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function ax(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function F6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function ya(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=-62135596800,ux=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ux);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lx)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ux}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ut(0,0))}static max(){return new le(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),i=rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rr.extractNumericId(e).compare(rr.extractNumericId(n)):iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class De extends rr{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const U6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends rr{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return U6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cx}static keyField(){return new vt([cx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(De.fromString(e))}static fromName(e){return new ee(De.fromString(e).popFirst(5))}static empty(){return new ee(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new De(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function B6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new ts(i,ee.empty(),e)}function $6(t){return new ts(t.readTime,t.key,bu)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(le.min(),ee.empty(),bu)}static max(){return new ts(le.max(),ee.empty(),bu)}}function z6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==H6)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-1;function $f(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function K6(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="";function G6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dx(e)),e=Q6(t.get(n),e);return dx(e)}function Q6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case LA:n+="";break;default:n+=s}}return n}function dx(t){return t+LA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fx(this.data.getIterator())}getIteratorFrom(e){return new fx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class fx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new ct(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jA("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(xe(!!t),typeof t=="string"){let e=0;const n=Y6.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="server_timestamp",UA="__type__",BA="__previous_value__",$A="__local_write_time__";function g0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UA])===null||n===void 0?void 0:n.stringValue)===FA}function zf(t){const e=t.mapValue.fields[BA];return g0(e)?zf(e):e}function Su(t){const e=ns(t.mapValue.fields[$A].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Mh="(default)";class Pu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="__type__",HA="__max__",md={mapValue:{fields:{__type__:{stringValue:HA}}}},WA="__vector__",Lh="value";function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g0(t)?4:Z6(t)?9007199254740991:J6(t)?10:11:se()}function Er(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ns(i.timestampValue),a=ns(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rs(i.bytesValue).isEqual(rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Oh(o)===Oh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hx(o)!==hx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Er(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Iu(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return px(t.timestampValue,e.timestampValue);case 4:return px(Su(t),Su(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return function(s,o){const a=rs(s),l=rs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=he(a[u],l[u]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Xe(s.latitude),Xe(o.latitude));return a!==0?a:he(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},h=o.fields||{},g=(a=f[Lh])===null||a===void 0?void 0:a.arrayValue,_=(l=h[Lh])===null||l===void 0?void 0:l.arrayValue,E=he(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:mx(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=iy(l[f],d[f]);if(h!==0)return h;const g=va(a[l[f]],u[d[f]]);if(g!==0)return g}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function px(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=ns(t),r=ns(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function mx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=va(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function wa(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${sy(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function Bd(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Bd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ps(r.fields,(s,o)=>{i+=s.length+Bd(o)}),i}(t.mapValue);default:throw se()}}function gx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function oy(t){return!!t&&"integerValue"in t}function y0(t){return!!t&&"arrayValue"in t}function yx(t){return!!t&&"nullValue"in t}function vx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function J6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zA])===null||n===void 0?void 0:n.stringValue)===WA}function Hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Z6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Hl(this.value))}}function qA(t){const e=[];return ps(t.fields,(n,r)=>{const i=new vt([n]);if($d(r)){const s=qA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,le.min(),le.min(),le.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,le.min(),le.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,le.min(),le.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function wx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=va(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _x(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function e9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{}class rt extends KA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n9(e,n,r):n==="array-contains"?new s9(e,r):n==="in"?new o9(e,r):n==="not-in"?new a9(e,r):n==="array-contains-any"?new l9(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r9(e,r):new i9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(va(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends KA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Gn(e,n)}matches(e){return GA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GA(t){return t.op==="and"}function QA(t){return t9(t)&&GA(t)}function t9(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function ay(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(QA(t))return t.filters.map(e=>ay(e)).join(",");{const e=t.filters.map(n=>ay(n)).join(",");return`${t.op}(${e})`}}function YA(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YA(o,i.filters[a]),!0):!1}(t,e):void se()}function XA(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(XA).join(" ,")+"}"}(t):"Filter"}class n9 extends rt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class r9 extends rt{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i9 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class s9 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y0(n)&&Iu(n.arrayValue,this.value)}}class o9 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class a9 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}}class l9 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Ex(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u9(t,e,n,r,i,s,o)}function v0(t){const e=ue(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.le=n}return e.le}function w0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_x(t.startAt,e.startAt)&&_x(t.endAt,e.endAt)}function ly(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c9(t,e,n,r,i,s,o,a){return new Fa(t,e,n,r,i,s,o,a)}function _0(t){return new Fa(t)}function xx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZA(t){return t.collectionGroup!==null}function Wl(t){const e=ue(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Cu(s,r))}),n.has(vt.keyField().canonicalString())||e.he.push(new Cu(vt.keyField(),r))}return e.he}function dr(t){const e=ue(t);return e.Pe||(e.Pe=d9(e,Wl(t))),e.Pe}function d9(t,e){if(t.limitType==="F")return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cu(i.field,s)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uy(t,e){const n=t.filters.concat([e]);return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jh(t,e,n){return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return w0(dr(t),dr(e))&&t.limitType===e.limitType}function eR(t){return`${v0(dr(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XA(i)).join(", ")}]`),$f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wa(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wl(r),i)||r.endAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wl(r),i))}(t,e)}function h9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tR(t){return(e,n)=>{let r=!1;for(const i of Wl(t)){const s=f9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function f9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?va(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new ze(ee.comparator);function Yr(){return p9}const nR=new ze(ee.comparator);function Al(...t){let e=nR;for(const n of t)e=e.insert(n.key,n);return e}function rR(t){let e=nR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Os(){return ql()}function iR(){return ql()}function ql(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const m9=new ze(ee.comparator),g9=new ct(ee.comparator);function ge(...t){let e=g9;for(const n of t)e=e.add(n);return e}const y9=new ct(he);function v9(){return y9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function sR(t){return{integerValue:""+t}}function w9(t,e){return K6(e)?sR(e):E0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function _9(t,e,n){return t instanceof Fh?function(i,s){const o={fields:{[UA]:{stringValue:FA},[$A]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&g0(s)&&(s=zf(s)),s&&(o.fields[BA]=s),{mapValue:o}}(n,e):t instanceof Au?aR(t,e):t instanceof Ru?lR(t,e):function(i,s){const o=oR(i,s),a=Tx(o)+Tx(i.Ie);return oy(o)&&oy(i.Ie)?sR(a):E0(i.serializer,a)}(t,e)}function E9(t,e,n){return t instanceof Au?aR(t,e):t instanceof Ru?lR(t,e):n}function oR(t,e){return t instanceof Uh?function(r){return oy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fh extends qf{}class Au extends qf{constructor(e){super(),this.elements=e}}function aR(t,e){const n=uR(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ru extends qf{constructor(e){super(),this.elements=e}}function lR(t,e){let n=uR(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class Uh extends qf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Tx(t){return Xe(t.integerValue||t.doubleValue)}function uR(t){return y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Au&&i instanceof Au||r instanceof Ru&&i instanceof Ru?ya(r.elements,i.elements,Er):r instanceof Uh&&i instanceof Uh?Er(r.Ie,i.Ie):r instanceof Fh&&i instanceof Fh}(t.transform,e.transform)}class T9{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function cR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x0(t.key,zn.none()):new ac(t.key,t.data,zn.none());{const n=t.data,r=Xt.empty();let i=new ct(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ms(t.key,r,new hn(i.toArray()),zn.none())}}function b9(t,e,n){t instanceof ac?function(i,s,o){const a=i.value.clone(),l=Sx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(i,s,o){if(!zd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Sx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kl(t,e,n,r){return t instanceof ac?function(s,o,a,l){if(!zd(s.precondition,o))return a;const u=s.value.clone(),d=Px(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(s,o,a,l){if(!zd(s.precondition,o))return a;const u=Px(s.fieldTransforms,l,o),d=o.data;return d.setAll(dR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return zd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oR(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function bx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ya(r,i,(s,o)=>x9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ac extends Kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Kf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sx(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,E9(o,a,n[i]))}return r}function Px(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_9(s,o,e))}return r}class x0 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P9 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=cR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>bx(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>bx(n,r))}}class T0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return m9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new T0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,ye;function R9(t){switch(t){case F.OK:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return se()}}function hR(t){if(t===void 0)return Qr("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(ye=tt||(tt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new qi([4294967295,4294967295],0);function Ix(t){const e=OA().encode(t),n=new IA;return n.update(e),new Uint8Array(n.digest())}function Cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qi([n,r],0),new qi([i,s],0)]}class b0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(qi.fromNumber(r)));return i.compare(k9)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Ix(e),[r,i]=Cx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new b0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Ix(e),[r,i]=Cx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gf(le.min(),i,new ze(he),Yr(),ge())}}class lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class fR{constructor(e,n){this.targetId=e,this.ge=n}}class pR{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ax{constructor(){this.pe=0,this.ye=Rx(),this.we=xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ge(),n=ge(),r=ge();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new lc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Rx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class N9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yr(),this.$e=gd(),this.Ue=gd(),this.Ke=new ze(he)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(ly(s))if(r===0){const o=new ee(s.path);this.ze(n,o,Mt.newNoDocument(o,le.min()))}else xe(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=rs(r).toUint8Array()}catch(l){if(l instanceof jA)return ga("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new b0(o,i,s)}catch(l){return ga(l instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&ly(a.target)){const l=new ee(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Mt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ge();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Gf(e,n,this.Ke,this.Qe,r);return this.Qe=Yr(),this.$e=gd(),this.Ue=gd(),this.Ke=new ze(he),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ax,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new ct(he),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ct(he),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ax),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gd(){return new ze(ee.comparator)}function Rx(){return new ze(ee.comparator)}const D9={asc:"ASCENDING",desc:"DESCENDING"},O9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M9={and:"AND",or:"OR"};class L9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cy(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function Bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V9(t,e){return Bh(t,e.toTimestamp())}function hr(t){return xe(!!t),le.fromTimestamp(function(n){const r=ns(n);return new ut(r.seconds,r.nanos)}(t))}function S0(t,e){return dy(t,e).canonicalString()}function dy(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gR(t){const e=De.fromString(t);return xe(ER(e)),e}function hy(t,e){return S0(t.databaseId,e.path)}function xm(t,e){const n=gR(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(vR(n))}function yR(t,e){return S0(t.databaseId,e)}function j9(t){const e=gR(t);return e.length===4?De.emptyPath():vR(e)}function fy(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vR(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kx(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function F9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string"),xt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:hR(u.code);return new K(d,u.message||"")}(o);n=new pR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xm(t,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):le.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Hd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xm(t,r.document),s=r.readTime?hr(r.readTime):le.min(),o=Mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xm(t,r.document),s=r.removedTargetIds||[];n=new Hd([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new A9(i,s),a=r.targetId;n=new fR(a,o)}}return n}function U9(t,e){let n;if(e instanceof ac)n={update:kx(t,e.key,e.value)};else if(e instanceof x0)n={delete:hy(t,e.key)};else if(e instanceof ms)n={update:kx(t,e.key,e.data),updateMask:Q9(e.fieldMask)};else{if(!(e instanceof P9))return se();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Fh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:V9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function B9(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(le.min())&&(o=hr(s)),new T9(o,i.transformResults||[])}(n,e))):[]}function $9(t,e){return{documents:[yR(t,e.path)]}}function z9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yR(t,i);const s=function(u){if(u.length!==0)return _R(Gn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:vo(h.field),direction:q9(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function H9(t){let e=j9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=wR(f);return h instanceof Gn&&QA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(_){return new Cu(wo(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$f(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Vh(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Vh(g,h)}(n.endAt)),c9(e,i,o,s,a,"F",l,u)}function W9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wo(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wo(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wo(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>wR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function q9(t){return D9[t]}function K9(t){return O9[t]}function G9(t){return M9[t]}function vo(t){return{fieldPath:t.canonicalString()}}function wo(t){return vt.fromServerFormat(t.fieldPath)}function _R(t){return t instanceof rt?function(n){if(n.op==="=="){if(vx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(yx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(yx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:K9(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(i=>_R(i));return r.length===1?r[0]:{compositeFilter:{op:G9(n.op),filters:r}}}(t):se()}function Q9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ER(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=le.min(),o=le.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.Tt=e}}function X9(t){const e=H9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Tn=new Z9}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ts.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Z9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xR=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(xR,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new _a(0)}static Kn(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LruGarbageCollector",eB=1048576;function Ox([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class tB{constructor(e){this.Hn=e,this.buffer=new ct(Ox),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ox(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){G(Dx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?G(Dx,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.er(3e5)})}}class rB{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Bf.ae);const r=new tB(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),go()<=me.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function iB(t,e){return new rB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kl(r.mutation,i,hn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Al();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yr();const o=ql(),a=function(){return ql()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ms)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Kl(d.mutation,u,d.mutation.getFieldMask(),ut.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new oB(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ql();let i=new ze((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||hn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=iR();d.forEach(h=>{if(!s.has(h)){const g=cR(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Os());let a=bu,l=s;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:rR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Al();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(f,h){return new Fa(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let a=Al();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Kl(d.mutation,u,hn.empty(),ut.now()),Wf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:X9(i.bundledQuery),readTime:hr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.overlays=new ze(ee.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Os(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Os(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Os(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C9(n,r));let s=this.Rr.get(n);s===void 0&&(s=ge(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.Vr=new ct(dt.mr),this.gr=new ct(dt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new dt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ee(new De([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ee(new De([])),r=new dt(n,e),i=new dt(n,e+1);let s=ge();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ee.comparator(e.key,n.key)||he(e.Cr,n.Cr)}static pr(e,n){return he(e.Cr,n.Cr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ct(dt.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new I9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?m0:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(he);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ee(s),0);let a=new ct(he);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},o),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new dt(n,0),i=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.kr=e,this.docs=function(){return new ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||z6($6(d),r)<=0||(i.has(d.key)||Wf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fB(this)}getSize(e){return U.resolve(this.size)}}class fB extends sB{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.persistence=e,this.Qr=new so(n=>v0(n),w0),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.$r=0,this.Ur=new P0,this.targetCount=0,this.Kr=_a.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Bf(0),this.zr=!1,this.zr=!0,this.jr=new cB,this.referenceDelegate=e(this),this.Hr=new pB(this),this.indexManager=new J9,this.remoteDocumentCache=function(i){return new hB(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Y9(n),this.Yr=new lB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new dB(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new mB(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class mB extends W6{constructor(e){super(),this.currentSequenceNumber=e}}class I0{constructor(e){this.persistence=e,this.ti=new P0,this.ni=null}static ri(e){return new I0(e)}get ii(){if(this.ni)return this.ni;throw se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const i=ee.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.oi=new so(r=>G6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iB(this,n)}static ri(e,n){return new $h(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pU()?8:q6(Ft())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gB;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(go()<=me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(go()<=me.DEBUG&&G("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(go()<=me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):U.resolve())}rs(e,n){if(xx(n))return U.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jh(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,jh(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return xx(n)||i.isEqual(le.min())?U.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?U.resolve(null):(go()<=me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.hs(e,o,n,B6(i,bu)).next(a=>a))})}cs(e,n){let r=new ct(tR(e));return n.forEach((i,s)=>{Wf(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return go()<=me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ns.getDocumentsMatchingQuery(e,n,ts.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LocalStore",vB=3e8;class wB{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new ze(he),this.Is=new so(s=>v0(s),w0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function _B(t,e,n,r){return new wB(t,e,n,r)}async function bR(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function EB(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let g=U.resolve();return h.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(E=>{const x=u.docVersions.get(_);xe(x!==null),E.version.compareTo(x)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SR(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function xB(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(xt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(E,x,y){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=vB?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,g,d)&&a.push(n.Hr.updateTargetData(s,g))});let l=Yr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(TB(s,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(le.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function TB(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(A0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function bB(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=m0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SB(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function py(t,e,n){const r=ue(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ja(o))throw o;G(A0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Mx(t,e,n){const r=ue(t);let i=le.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ue(l),h=f.Is.get(d);return h!==void 0?U.resolve(f.Ts.get(h)):f.Hr.getTargetData(u,d)}(r,o,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ge())).next(a=>(PB(r,h9(e),a),{documents:a,gs:s})))}function PB(t,e,n){let r=t.Es.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class Lx{constructor(){this.activeTargetIds=v9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IB{constructor(){this.ho=new Lx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="ConnectivityMonitor";class jx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){G(Vx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){G(Vx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function my(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",AB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Mh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=my(),a=this.bo(e,n.toUriEncodedString());G(Tm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(u=>(G(Tm,`Received RPC '${e}' ${o}: `,u),u),u=>{throw ga(Tm,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=AB[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class NB extends RB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=my();return new Promise((o,a)=>{const l=new CA;l.setWithCredentials(!0),l.listenOnce(AA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ud.NO_ERROR:const d=l.getResponseJson();G(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ud.TIMEOUT:G(Rt,`RPC '${e}' ${s} timed out`),a(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const f=l.getStatus();if(G(Rt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const _=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(g.status);a(new K(_,g.message))}else a(new K(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{G(Rt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);G(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=my(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NA(),a=kA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(Rt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,g=!1;const _=new kB({Fo:x=>{g?G(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(G(Rt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),G(Rt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Mo:()=>f.close()}),E=(x,y,w)=>{x.listen(y,b=>{try{w(b)}catch(k){setTimeout(()=>{throw k},0)}})};return E(f,Cl.EventType.OPEN,()=>{g||(G(Rt,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),E(f,Cl.EventType.CLOSE,()=>{g||(g=!0,G(Rt,`RPC '${e}' stream ${i} transport closed`),_.Uo())}),E(f,Cl.EventType.ERROR,x=>{g||(g=!0,ga(Rt,`RPC '${e}' stream ${i} transport errored:`,x),_.Uo(new K(F.UNAVAILABLE,"The operation could not be completed")))}),E(f,Cl.EventType.MESSAGE,x=>{var y;if(!g){const w=x.data[0];xe(!!w);const b=w,k=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(k){G(Rt,`RPC '${e}' stream ${i} received error:`,k);const N=k.status;let M=function(C){const A=tt[C];if(A!==void 0)return hR(A)}(N),P=k.message;M===void 0&&(M=F.INTERNAL,P="Unknown error status: "+N+" with message "+k.message),g=!0,_.Uo(new K(M,P)),f.close()}else G(Rt,`RPC '${e}' stream ${i} received:`,w),_.Ko(w)}}),E(a,RA.STAT_EVENT,x=>{x.stat===ry.PROXY?G(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===ry.NOPROXY&&G(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new L9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="PersistentStream";class IR{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return G(Fx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(G(Fx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DB extends IR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=F9(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?hr(o.readTime):le.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=fy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ly(l)?{documents:$9(s,l)}:{query:z9(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mR(s,o.resumeToken);const u=cy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Bh(s,o.snapshotVersion.toTimestamp());const u=cy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=W9(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=fy(this.serializer),n.removeTarget=e,this.I_(n)}}class OB extends IR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=B9(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=fy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U9(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{}class LB extends MB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,dy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,dy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qr(n),this.N_=!1):G("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class jB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{oo(this)&&(G(eo,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.W_.add(4),await uc(u),u.j_.set("Unknown"),u.W_.delete(4),await Yf(u)}(this))})}),this.j_=new VB(r,i)}}async function Yf(t){if(oo(t))for(const e of t.G_)await e(!0)}async function uc(t){for(const e of t.G_)await e(!1)}function CR(t,e){const n=ue(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),D0(n)?N0(n):Ua(n).c_()&&k0(n,e))}function R0(t,e){const n=ue(t),r=Ua(n);n.K_.delete(e),r.c_()&&AR(n,e),n.K_.size===0&&(r.c_()?r.P_():oo(n)&&n.j_.set("Unknown"))}function k0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).y_(e)}function AR(t,e){t.H_.Ne(e),Ua(t).w_(e)}function N0(t){t.H_=new N9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.j_.B_()}function D0(t){return oo(t)&&!Ua(t).u_()&&t.K_.size>0}function oo(t){return ue(t).W_.size===0}function RR(t){t.H_=void 0}async function FB(t){t.j_.set("Online")}async function UB(t){t.K_.forEach((e,n)=>{k0(t,e)})}async function BB(t,e){RR(t),D0(t)?(t.j_.q_(e),N0(t)):t.j_.set("Unknown")}async function $B(t,e,n){if(t.j_.set("Online"),e instanceof pR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){G(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(t,r)}else if(e instanceof Hd?t.H_.We(e):e instanceof fR?t.H_.Ze(e):t.H_.je(e),!n.isEqual(le.min()))try{const r=await SR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(u);d&&s.K_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),AR(s,l);const f=new Di(d.target,l,u,d.sequenceNumber);k0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(eo,"Failed to raise snapshot:",r),await zh(t,r)}}async function zh(t,e,n){if(!ja(e))throw e;t.W_.add(1),await uc(t),t.j_.set("Offline"),n||(n=()=>SR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(eo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Yf(t)})}function kR(t,e){return e().catch(n=>zh(t,n,e))}async function Xf(t){const e=ue(t),n=ss(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:m0;for(;zB(e);)try{const i=await bB(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,HB(e,i)}catch(i){await zh(e,i)}NR(e)&&DR(e)}function zB(t){return oo(t)&&t.U_.length<10}function HB(t,e){t.U_.push(e);const n=ss(t);n.c_()&&n.S_&&n.b_(e.mutations)}function NR(t){return oo(t)&&!ss(t).u_()&&t.U_.length>0}function DR(t){ss(t).start()}async function WB(t){ss(t).C_()}async function qB(t){const e=ss(t);for(const n of t.U_)e.b_(n.mutations)}async function KB(t,e,n){const r=t.U_.shift(),i=T0.from(r,e,n);await kR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xf(t)}async function GB(t,e){e&&ss(t).S_&&await async function(r,i){if(function(o){return R9(o)&&o!==F.ABORTED}(i.code)){const s=r.U_.shift();ss(r).h_(),await kR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xf(r)}}(t,e),NR(t)&&DR(t)}async function Ux(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),G(eo,"RemoteStore received new credentials");const r=oo(n);n.W_.add(3),await uc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Yf(n)}async function QB(t,e){const n=ue(t);e?(n.W_.delete(2),await Yf(n)):e||(n.W_.add(2),await uc(n),n.j_.set("Unknown"))}function Ua(t){return t.J_||(t.J_=function(n,r,i){const s=ue(n);return s.M_(),new DB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:FB.bind(null,t),No:UB.bind(null,t),Lo:BB.bind(null,t),p_:$B.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),D0(t)?N0(t):t.j_.set("Unknown")):(await t.J_.stop(),RR(t))})),t.J_}function ss(t){return t.Y_||(t.Y_=function(n,r,i){const s=ue(n);return s.M_(),new OB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:WB.bind(null,t),Lo:GB.bind(null,t),D_:qB.bind(null,t),v_:KB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Xf(t)):(await t.Y_.stop(),t.U_.length>0&&(G(eo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new O0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),ja(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Al(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Z_=new ze(ee.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ea(e,n,Ko.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XB{constructor(){this.queries=$x(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=$x(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function $x(){return new so(t=>eR(t),Hf)}async function OR(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new YB,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=M0(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&L0(n)}async function MR(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JB(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&L0(n)}function ZB(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function L0(t){t.ia.forEach(e=>{e.next()})}var gy,zx;(zx=gy||(gy={}))._a="default",zx.Cache="cache";class LR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.key=e}}class jR{constructor(e){this.key=e}}class e${constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=tR(e),this.wa=new Ko(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Bx,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=Wf(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?_!==E&&(r.track({type:3,doc:g}),x=!0):this.va(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(g,_){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return E(g)-E(_)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new Ea(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new jR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new VR(r))}),n}Oa(e){this.fa=e.gs,this.pa=ge();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ea.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const V0="SyncEngine";class t${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n${constructor(e){this.key=e,this.Ba=!1}}class r${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new so(a=>eR(a),Hf),this.qa=new Map,this.Qa=new Set,this.$a=new ze(ee.comparator),this.Ua=new Map,this.Ka=new P0,this.Wa={},this.Ga=new Map,this.za=_a.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function i$(t,e,n=!0){const r=HR(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await FR(r,e,n,!0),i}async function s$(t,e){const n=HR(t);await FR(n,e,!0,!1)}async function FR(t,e,n,r){const i=await SB(t.localStore,dr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await o$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&CR(t.remoteStore,i),a}async function o$(t,e,n,r,i){t.Ha=(f,h,g)=>async function(E,x,y,w){let b=x.view.ba(y);b.ls&&(b=await Mx(E.localStore,x.query,!1).then(({documents:P})=>x.view.ba(P,b)));const k=w&&w.targetChanges.get(x.targetId),N=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(b,E.isPrimaryClient,k,N);return Wx(E,x.targetId,M.Ma),M.snapshot}(t,f,h,g);const s=await Mx(t.localStore,e,!0),o=new e$(e,s.gs),a=o.ba(s.documents),l=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Wx(t,n,u.Ma);const d=new t$(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function a$(t,e,n){const r=ue(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Hf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await py(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&R0(r.remoteStore,i.targetId),yy(r,i.targetId)}).catch(Va)):(yy(r,i.targetId),await py(r.localStore,i.targetId,!0))}async function l$(t,e){const n=ue(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),R0(n.remoteStore,r.targetId))}async function u$(t,e,n){const r=g$(t);try{const i=await function(o,a){const l=ue(o),u=ut.now(),d=a.reduce((g,_)=>g.add(_.key),ge());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Yr(),E=ge();return l.ds.getEntries(g,d).next(x=>{_=x,_.forEach((y,w)=>{w.isValidDocument()||(E=E.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(x=>{f=x;const y=[];for(const w of a){const b=S9(w,f.get(w.key).overlayedDocument);b!=null&&y.push(new ms(w.key,b,qA(b.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,y,a)}).next(x=>{h=x;const y=x.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,x.batchId,y)})}).then(()=>({batchId:h.batchId,changes:rR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new ze(he)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await cc(r,i.changes),await Xf(r.remoteStore)}catch(i){const s=M0(i,"Failed to persist write");n.reject(s)}}async function UR(t,e){const n=ue(t);try{const r=await xB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?xe(o.Ba):i.removedDocuments.size>0&&(xe(o.Ba),o.Ba=!1))}),await cc(n,r,e)}catch(r){await Va(r)}}function Hx(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.ta)h.sa(a)&&(u=!0)}),u&&L0(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c$(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new ze(ee.comparator);o=o.insert(s,Mt.newNoDocument(s,le.min()));const a=ge().add(s),l=new Gf(le.min(),new Map,new ze(he),o,a);await UR(r,l),r.$a=r.$a.remove(s),r.Ua.delete(e),j0(r)}else await py(r.localStore,e,!1).then(()=>yy(r,e,n)).catch(Va)}async function d$(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await EB(n.localStore,e);$R(n,r,null),BR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cc(n,i)}catch(i){await Va(i)}}async function h$(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(xe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);$R(r,e,n),BR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cc(r,i)}catch(i){await Va(i)}}function BR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function $R(t,e,n){const r=ue(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||zR(t,r)})}function zR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(R0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),j0(t))}function Wx(t,e,n){for(const r of n)r instanceof VR?(t.Ka.addReference(r.key,e),f$(t,r)):r instanceof jR?(G(V0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||zR(t,r.key)):se()}function f$(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(G(V0,"New document in limbo: "+n),t.Qa.add(r),j0(t))}function j0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ee(De.fromString(e)),r=t.za.next();t.Ua.set(r,new n$(n)),t.$a=t.$a.insert(n,r),CR(t.remoteStore,new Di(dr(_0(n.path)),r,"TargetPurposeLimboResolution",Bf.ae))}}async function cc(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=C0.Yi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,h=>U.forEach(h.Hi,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>U.forEach(h.Ji,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!ja(f))throw f;G(A0,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=d.Ts.get(h),_=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(h,E)}}}(r.localStore,s))}async function p$(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){G(V0,"User change. New user:",e.toKey());const r=await bR(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new K(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cc(n,r.Rs)}}function m$(t,e){const n=ue(t),r=n.Ua.get(e);if(r&&r.Ba)return ge().add(r.key);{let i=ge();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function HR(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c$.bind(null,e),e.La.p_=JB.bind(null,e.eventManager),e.La.Ja=ZB.bind(null,e.eventManager),e}function g$(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h$.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return _B(this.persistence,new yB,e.initialUser,this.serializer)}Xa(e){return new TR(I0.ri,this.serializer)}Za(e){return new IB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class y$ extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){xe(this.persistence.referenceDelegate instanceof $h);const r=this.persistence.referenceDelegate.garbageCollector;return new nB(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new TR(r=>$h.ri(r,n),this.serializer)}}class vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p$.bind(null,this.syncEngine),await QB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XB}()}createDatastore(e){const n=Qf(e.databaseInfo.databaseId),r=function(s){return new NB(s)}(e.databaseInfo);return function(s,o,a,l){return new LB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new jB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Hx(this.syncEngine,n,0),function(){return jx.D()?new jx:new CB}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new r$(i,s,o,a,l,u);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);G(eo,"RemoteStore shutting down."),s.W_.add(5),await uc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class v${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(os,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(os,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),G(os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w$(t);G(os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ux(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ux(e.remoteStore,i)),t._onlineComponents=e}async function w$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(os,"Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new Hh)}}else G(os,"Using default OfflineComponentProvider"),await Sm(t,new y$(void 0));return t._offlineComponents}async function qR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(os,"Using user provided OnlineComponentProvider"),await qx(t,t._uninitializedComponentsProvider._online)):(G(os,"Using default OnlineComponentProvider"),await qx(t,new vy))),t._onlineComponents}function _$(t){return qR(t).then(e=>e.syncEngine)}async function KR(t){const e=await qR(t),n=e.eventManager;return n.onListen=i$.bind(null,e.syncEngine),n.onUnlisten=a$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l$.bind(null,e.syncEngine),n}function E$(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new WR({next:h=>{d.su(),o.enqueueAndForget(()=>MR(s,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new K(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new K(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new LR(_0(a.path),d,{includeMetadataChanges:!0,Ta:!0});return OR(s,f)}(await KR(t),t.asyncQueue,e,n,r)),r.promise}function x$(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new WR({next:h=>{d.su(),o.enqueueAndForget(()=>MR(s,f)),h.fromCache&&l.source==="server"?u.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new LR(a,d,{includeMetadataChanges:!0,Ta:!0});return OR(s,f)}(await KR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T$(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gx(t){if(!ee.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qx(t){if(ee.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function b$(t,e){if(e<=0)throw new K(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firestore.googleapis.com",Yx=!0;class Xx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YR,this.ssl=Yx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Yx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eB)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N6;switch(r.type){case"firstParty":return new L6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Kx.get(n);r&&(G("ComponentProvider","Removing Datastore"),Kx.delete(n),r.terminate())}(this),Promise.resolve()}}function S$(t,e,n,r={}){var i;const s=(t=Xr(t,Zf))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==YR&&s.host!==a&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Xs(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Dt.MOCK_USER;else{u=aU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dt(f)}t._authCredentials=new D6(new DA(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Ki extends gs{constructor(e,n,r){super(e,n,_0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ee(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Ba(t,e,...n){if(t=Et(t),QR("collection","path",e),t instanceof Zf){const r=De.fromString(e,...n);return Qx(r),new Ki(t,null,r)}{if(!(t instanceof nn||t instanceof Ki))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Qx(r),new Ki(t.firestore,null,r)}}function dc(t,e,...n){if(t=Et(t),arguments.length===1&&(e=MA.newId()),QR("doc","path",e),t instanceof Zf){const r=De.fromString(e,...n);return Gx(r),new nn(t,null,new ee(r))}{if(!(t instanceof nn||t instanceof Ki))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Gx(r),new nn(t.firestore,t instanceof Ki?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class Zx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PR(this,"async_queue_retry"),this.Su=()=>{const r=bm();r&&G(Jx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ur;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ja(e))throw e;G(Jx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=O0.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class $a extends Zf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zx(e),this._firestoreClient=void 0,await e}}}function P$(t,e){const n=typeof t=="object"?t:bA(),r=typeof t=="string"?t:Mh,i=f0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sU("firestore");s&&S$(i,...s)}return i}function F0(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I$(t),t._firestoreClient}function I$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new X6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new v$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(xt.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=/^__.*__$/;class A${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}class XR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class z0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(JR(this.Lu)&&C$.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class R${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qf(e)}ju(e,n,r,i=!1){return new z0({Lu:e,methodName:n,zu:r,path:vt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H0(t){const e=t._freezeSettings(),n=Qf(t._databaseId);return new R$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k$(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);W0("Data must be an object, but it was:",o,r);const a=ZR(r,o);let l,u;if(s.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=wy(e,f,n);if(!o.contains(h))throw new K(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tk(d,h)||d.push(h)}l=new hn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new A$(new Xt(a),l,u)}class tp extends U0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function N$(t,e,n,r){const i=t.ju(1,e,n);W0("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();ps(r,(l,u)=>{const d=q0(e,l,n);u=Et(u);const f=i.Uu(d);if(u instanceof tp)s.push(d);else{const h=hc(u,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new hn(s);return new XR(o,a,i.fieldTransforms)}function D$(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[wy(e,r,n)],l=[i];if(s.length%2!=0)throw new K(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(wy(e,s[h])),l.push(s[h+1]);const u=[],d=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!tk(u,a[h])){const g=a[h];let _=l[h];_=Et(_);const E=o.Uu(g);if(_ instanceof tp)u.push(g);else{const x=hc(_,E);x!=null&&(u.push(g),d.set(g,x))}}const f=new hn(u);return new XR(d,f,o.fieldTransforms)}function O$(t,e,n,r=!1){return hc(n,t.ju(r?4:3,e))}function hc(t,e){if(ek(t=Et(t)))return W0("Unsupported field value:",e,t),ZR(t,e);if(t instanceof U0)return function(r,i){if(!JR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=hc(a,i.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:Bh(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(i.serializer,s)}}if(r instanceof B0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:mR(i.serializer,r._byteString)};if(r instanceof nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $0)return function(o,a){return{mapValue:{fields:{[zA]:{stringValue:WA},[Lh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return E0(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Jf(r)}`)}(t,e)}function ZR(t,e){const n={};return VA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,i)=>{const s=hc(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ek(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof B0||t instanceof xa||t instanceof nn||t instanceof U0||t instanceof $0)}function W0(t,e,n){if(!ek(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function wy(t,e,n){if((e=Et(e))instanceof ep)return e._internalPath;if(typeof e=="string")return q0(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const M$=new RegExp("[~\\*/\\[\\]]");function q0(t,e,n){if(e.search(M$)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ep(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(F.INVALID_ARGUMENT,a+t+l)}function tk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L$ extends nk{data(){return super.data()}}function np(t,e){return typeof e=="string"?q0(t,e):e instanceof ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class G0 extends K0{}function rp(t,e,...n){let r=[];e instanceof K0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Q0).length,a=s.filter(l=>l instanceof ip).length;if(o>1||o>0&&a>0)throw new K(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ip extends G0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ip(e,n,r)}_apply(e){const n=this._parse(e);return rk(e._query,n),new gs(e.firestore,e.converter,uy(e._query,n))}_parse(e){const n=H0(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tT(f,d);const _=[];for(const E of f)_.push(eT(l,s,E));h={arrayValue:{values:_}}}else h=eT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tT(f,d),h=O$(a,o,f,d==="in"||d==="not-in");return rt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j$(t,e,n){const r=e,i=np("where",t);return ip._create(i,r,n)}class Q0 extends K0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Q0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)rk(o,l),o=uy(o,l)}(e._query,n),new gs(e.firestore,e.converter,uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends G0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(s,o)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function X0(t,e="asc"){const n=e,r=np("orderBy",t);return Y0._create(r,n)}class J0 extends G0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new J0(e,n,r)}_apply(e){return new gs(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function F$(t){return b$("limit",t),J0._create("limit",t,"F")}function eT(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new K(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&n.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ee.isDocumentKey(r))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gx(t,new ee(r))}if(n instanceof nn)return gx(t,n._key);throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function tT(t,e){if(!Array.isArray(t)||t.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U${convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Lh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new $0(s)}convertGeoPoint(e){return new B0(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=ns(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);xe(ER(r));const i=new Pu(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ik extends nk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wd extends ik{data(e={}){return super.data(e)}}class $${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wd(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:z$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){t=Xr(t,nn);const e=Xr(t.firestore,$a);return E$(F0(e),t._key).then(n=>q$(e,t,n))}class sk extends U${constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function fc(t){t=Xr(t,gs);const e=Xr(t.firestore,$a),n=F0(e),r=new sk(e);return V$(t._query),x$(n,t._query).then(i=>new $$(e,r,t,i))}function W$(t,e,n,...r){t=Xr(t,nn);const i=Xr(t.firestore,$a),s=H0(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof ep?D$(s,"updateDoc",t._key,e,n,r):N$(s,"updateDoc",t._key,e),Z0(i,[o.toMutation(t._key,zn.exists(!0))])}function ok(t){return Z0(Xr(t.firestore,$a),[new x0(t._key,zn.none())])}function ak(t,e){const n=Xr(t.firestore,$a),r=dc(t),i=B$(t.converter,e);return Z0(n,[k$(H0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function Z0(t,e){return function(r,i){const s=new Ur;return r.asyncQueue.enqueueAndForget(async()=>u$(await _$(r),i,s)),s.promise}(F0(t),e)}function q$(t,e,n){const r=n.docs.get(e._key),i=new sk(t);return new ik(t,i,e._key,r,new kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){La=i})(Ma),ma(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $a(new O6(r.getProvider("auth-internal")),new V6(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wi(ix,sx,e),Wi(ix,sx,"esm2017")})();var K$="firebase",G$="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(K$,G$,"app");function ew(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q$=lk,uk=new sc("auth","Firebase",lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new d0("@firebase/auth");function Y$(t,...e){qh.logLevel<=me.WARN&&qh.warn(`Auth (${Ma}): ${t}`,...e)}function qd(t,...e){qh.logLevel<=me.ERROR&&qh.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw tw(t,...e)}function fr(t,...e){return tw(t,...e)}function ck(t,e,n){const r=Object.assign(Object.assign({},Q$()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return ck(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uk.create(t,...e)}function ie(t,e,...n){if(!t)throw tw(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function Jr(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X$(){return nT()==="http:"||nT()==="https:"}function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X$()||dU()||"connection"in navigator)?navigator.onLine:!0}function Z$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=lU()||hU()}get(){return J$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nz=new pc(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,r,i={}){return hk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return cU()||(u.referrerPolicy="no-referrer"),dk.fetch()(await fk(t,t.config.apiHost,n,a),u)})}async function hk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ez),e);try{const i=new iz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ck(t,d,u);Qn(t,d)}}catch(i){if(i instanceof ti)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function sp(t,e,n,r,i={}){const s=await ys(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function fk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?nw(t.config,i):`${t.config.apiScheme}://${i}`;return tz.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),nz.get())})}}function vd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}function rT(t){return t!==void 0&&t.enterprise!==void 0}class sz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oz(t,e){return ys(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function Kh(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lz(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=rw(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gl(Pm(i.auth_time)),issuedAtTime:Gl(Pm(i.iat)),expirationTime:Gl(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function rw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=yA(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iT(t){const e=rw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&uz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ku(t,Kh(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pk(s.providerUserInfo):[],a=hz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ey(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function dz(t){const e=Et(t);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pk(t){return t.map(e=>{var{providerId:n}=e,r=ew(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){const n=await hk(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await fk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pz(t,e){return ys(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Go;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ew(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lz(this,e)}reload(){return dz(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await ku(this,az(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:k,isAnonymous:N,providerData:M,stsTokenManager:P}=n;ie(b&&P,e,"internal-error");const T=Go.fromJSON(this.name,P);ie(typeof b=="string",e,"internal-error"),pi(f,e.name),pi(h,e.name),ie(typeof k=="boolean",e,"internal-error"),ie(typeof N=="boolean",e,"internal-error"),pi(g,e.name),pi(_,e.name),pi(E,e.name),pi(x,e.name),pi(y,e.name),pi(w,e.name);const C=new Un({uid:b,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:N,photoURL:_,phoneNumber:g,tenantId:E,stsTokenManager:T,createdAt:y,lastLoginAt:w});return M&&Array.isArray(M)&&(C.providerData=M.map(A=>Object.assign({},A))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Go;i.updateFromServerResponse(n);const s=new Un({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Go;a.updateFromIdToken(r);const l=new Un({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function jr(t){Jr(t instanceof Function,"Expected a class definition");let e=sT.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mk.type="NONE";const oT=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(jr(oT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||jr(oT);const o=Kd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Kh(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Un._fromGetAccountInfoResponse(e,h,d)}else f=Un._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ek(e))return"Blackberry";if(xk(e))return"Webos";if(yk(e))return"Safari";if((e.includes("chrome/")||vk(e))&&!e.includes("edge/"))return"Chrome";if(_k(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gk(t=Ft()){return/firefox\//i.test(t)}function yk(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vk(t=Ft()){return/crios\//i.test(t)}function wk(t=Ft()){return/iemobile/i.test(t)}function _k(t=Ft()){return/android/i.test(t)}function Ek(t=Ft()){return/blackberry/i.test(t)}function xk(t=Ft()){return/webos/i.test(t)}function iw(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mz(t=Ft()){var e;return iw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gz(){return fU()&&document.documentMode===10}function Tk(t=Ft()){return iw(t)||_k(t)||xk(t)||Ek(t)||/windows phone/i.test(t)||wk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e=[]){let n;switch(t){case"Browser":n=aT(Ft());break;case"Worker":n=`${aT(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e={}){return ys(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=6;class _z{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new yz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Gi(this));const n=e?Et(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vz(this),n=new _z(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Y$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return Et(t)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=EU(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xz(t){op=t}function Sk(t){return op.loadJS(t)}function Tz(){return op.recaptchaEnterpriseScript}function bz(){return op.gapiScript}function Sz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Pz{constructor(){this.enterprise=new Iz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Iz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Cz="recaptcha-enterprise",Pk="NO_RECAPTCHA";class Az{constructor(e){this.type=Cz,this.auth=za(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{oz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new sz(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pz().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Tz();l.length!==0&&(l+=a),Sk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function uT(t,e,n,r=!1,i=!1){const s=new Az(t);let o;if(i)o=Pk;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cT(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await uT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t,e){const n=f0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xs(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function kz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nz(t,e,n){const r=za(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ik(e),{host:o,port:a}=Dz(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Xs(u,r.config.emulator)&&Xs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Oz()}function Ik(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dz(t){const e=Ik(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dT(o)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Oz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function Mz(t,e){return ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e){return sp(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(t,e){return sp(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function jz(t,e){return sp(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends sw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cT(e,n,"signInWithPassword",Lz);case"emailLink":return Vz(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cT(e,r,"signUpPassword",Mz);case"emailLink":return jz(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return sp(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="http://localhost";class to extends sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ew(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new to(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:Fz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bz(t){const e=Pl(Il(t)).link,n=e?Pl(Il(e)).deep_link_id:null,r=Pl(Il(t)).deep_link_id;return(r?Pl(Il(r)).link:null)||r||n||e||t}class ow{constructor(e){var n,r,i,s,o,a;const l=Pl(Il(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Uz((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Bz(e);try{return new ow(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ow.parseLink(n);return ie(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ck{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends mc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends mc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends mc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bi.credential(n,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Un._fromIdTokenResponse(e,r,i),o=hT(r);return new Ta({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hT(r);return new Ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function Ak(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,s,e,r):s})}async function $z(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const s=await ku(t,Ak(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=rw(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Ta._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e,n=!1){if(Fn(t.app))return Promise.reject(Gi(t));const r="signIn",i=await Ak(t,r,e),s=await Ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Hz(t,e){return Rk(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qz(t,e,n){return Fn(t.app)?Promise.reject(Gi(t)):Hz(Et(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wz(t),r})}function Kz(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Gz(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Qz(t){return Et(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=1e3,Xz=10;class Nk extends kk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Xz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nk.type="LOCAL";const Jz=Nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk extends kk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dk.type="SESSION";const Ok=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ap(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Zz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ap.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=aw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function t8(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function n8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i8(){return Mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebaseLocalStorageDb",s8=1,Xh="firebaseLocalStorage",Vk="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lp(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function o8(){const t=indexedDB.deleteDatabase(Lk);return new gc(t).toPromise()}function xy(){const t=indexedDB.open(Lk,s8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:Vk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await o8(),e(await xy()))})})}async function fT(t,e,n){const r=lp(t,!0).put({[Vk]:e,value:n});return new gc(r).toPromise()}async function a8(t,e){const n=lp(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function pT(t,e){const n=lp(t,!0).delete(e);return new gc(n).toPromise()}const l8=800,u8=3;class jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ap._getInstance(i8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n8(),!this.activeServiceWorker)return;this.sender=new e8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await fT(e,Yh,"1"),await pT(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=lp(i,!1).getAll();return new gc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jk.type="LOCAL";const c8=jk;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e){return e?jr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends sw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h8(t){return Rk(t.auth,new lw(t),t.bypassAuthState)}function f8(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),zz(n,new lw(t),t.bypassAuthState)}async function p8(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),$z(n,new lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h8;case"linkViaPopup":case"linkViaRedirect":return p8;case"reauthViaPopup":case"reauthViaRedirect":return f8;default:Qn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new pc(2e3,1e4);class Do extends Fk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m8.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="pendingRedirect",Gd=new Map;class y8 extends Fk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await v8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v8(t,e){const n=E8(e),r=_8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function w8(t,e){Gd.set(t._key(),e)}function _8(t){return jr(t._redirectPersistence)}function E8(t){return Kd(g8,t.config.apiKey,t.name)}async function x8(t,e,n=!1){if(Fn(t.app))return Promise.reject(Gi(t));const r=za(t),i=d8(r,e),o=await new y8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=10*60*1e3;class b8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Uk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T8&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C8=/^https?/;async function A8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P8(t);for(const n of e)try{if(R8(n))return}catch{}Qn(t,"unauthorized-domain")}function R8(t){const e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C8.test(n))return!1;if(I8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=new pc(3e4,6e4);function gT(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N8(t){return new Promise((e,n)=>{var r,i,s;function o(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),n(fr(t,"network-request-failed"))},timeout:k8.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=Sz("iframefcb");return pr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},Sk(`${bz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function D8(t){return Qd=Qd||N8(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new pc(5e3,15e3),M8="__/auth/iframe",L8="emulator/auth/iframe",V8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F8(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nw(e,L8):`https://${t.config.authDomain}/${M8}`,r={apiKey:e.apiKey,appName:t.name,v:Ma},i=j8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oc(r).slice(1)}`}async function U8(t){const e=await D8(t),n=pr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:F8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},O8.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$8=500,z8=600,H8="_blank",W8="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q8(t,e,n,r=$8,i=z8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},B8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=vk(u)?H8:n),gk(u)&&(e=e||W8,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(mz(u)&&a!=="_self")return K8(e||"",a),new yT(null);const f=window.open(e||"",a,d);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new yT(f)}function K8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="__/auth/handler",Q8="emulator/auth/handler",Y8=encodeURIComponent("fac");async function vT(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ma,eventId:i};if(e instanceof Ck){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_U(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof mc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Y8}=${encodeURIComponent(l)}`:"";return`${X8(t)}?${oc(a).slice(1)}${u}`}function X8({config:t}){return t.emulator?nw(t,Q8):`https://${t.authDomain}/${G8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class J8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ok,this._completeRedirectFn=x8,this._overrideRedirectResult=w8}async _openPopup(e,n,r,i){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vT(e,n,r,_y(),i);return q8(e,o,aw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vT(e,n,r,_y(),i);return t8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U8(e),r=new b8(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Im];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tk()||yk()||iw()}}const Z8=J8;var wT="@firebase/auth",_T="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nH(t){ma(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bk(t)},u=new Ez(r,i,s,l);return kz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new Js("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new eH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(wT,_T,tH(t)),Wi(wT,_T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=5*60,iH=_A("authIdTokenMaxAge")||rH;let ET=null;const sH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iH)return;const i=n==null?void 0:n.token;ET!==i&&(ET=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oH(t=bA()){const e=f0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rz(t,{popupRedirectResolver:Z8,persistence:[c8,Jz,Ok]}),r=_A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sH(s.toString());Gz(n,o,()=>o(n.currentUser)),Kz(n,a=>o(a))}}const i=vA("auth");return i&&Nz(n,`http://${i}`),n}function aH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nH("Browser");const lH={apiKey:"AIzaSyDzPaT1g2M6WxYeOsmT_L3jKEQ2sAs3bDY",authDomain:"blogs-10f3f.firebaseapp.com",projectId:"blogs-10f3f",storageBucket:"blogs-10f3f.firebasestorage.app",messagingSenderId:"692742339",appId:"1:692742339:web:7b3b925acd66e689e79a76"},Bk=TA(lH),$k=oH(Bk),br=P$(Bk),Wa="blog_posts",zk=async()=>(await fc(Ba(br,Wa))).docs.map(e=>({id:e.id,...e.data()})),Hk=async(t=5)=>{const e=rp(Ba(br,Wa),X0("createdAt","desc"),F$(t));return(await fc(e)).docs.map(r=>({id:r.id,...r.data()}))},uH=async t=>(await ak(Ba(br,Wa),t)).id,cH=async(t,e)=>{try{const n=dc(br,"blog_posts",t);await W$(n,e)}catch(n){throw console.error("Error updating post:",n),n}},dH=async t=>{const e=dc(br,Wa,t);await ok(e)},hH=async t=>{try{const e=dc(br,Wa,t),n=await H$(e);if(!n.exists())throw new Error("Post not found");return{id:n.id,...n.data()}}catch(e){throw console.error("Error fetching blog post:",e),e}},fH=async t=>{try{const e=Ba(br,"subscriptions"),n=rp(e,j$("email","==",t));if(!(await fc(n)).empty)throw new Error("Email already subscribed");await ak(e,{email:t,subscribedAt:new Date().toISOString()})}catch(e){throw console.error("Error adding subscription:",e),e}},pH=async()=>{try{const t=Ba(br,"subscriptions"),e=rp(t,X0("subscribedAt","desc"));return(await fc(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching subscriptions:",t),t}},mH=async t=>{try{const e=dc(br,"subscriptions",t);await ok(e)}catch(e){throw console.error("Error deleting subscription:",e),e}},gH=async()=>{try{const t=Ba(br,Wa),e=rp(t,X0("createdAt","desc"));return(await fc(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching posts:",t),t}},uw=S.createContext({});function cw(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const dw=typeof window<"u",Wk=dw?S.useLayoutEffect:S.useEffect,up=S.createContext(null),hw=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class yH extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vH({children:t,isPresent:e,anchorX:n}){const r=S.useId(),i=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=S.useContext(hw);return S.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:d,right:f}=s.current;if(e||!i.current||!a||!l)return;const h=n==="left"?`left: ${d}`:`right: ${f}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),m.jsx(yH,{isPresent:e,childRef:i,sizeRef:s,children:S.cloneElement(t,{ref:i})})}const wH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=cw(_H),u=S.useId(),d=S.useCallback(h=>{l.set(h,!0);for(const g of l.values())if(!g)return;r&&r()},[l,r]),f=S.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),d]:[n,d]);return S.useMemo(()=>{l.forEach((h,g)=>l.set(g,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(vH,{isPresent:n,anchorX:a,children:t})),m.jsx(up.Provider,{value:f,children:t})};function _H(){return new Map}function qk(t=!0){const e=S.useContext(up);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const wd=t=>t.key||"";function xT(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Kk=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,u]=qk(o),d=S.useMemo(()=>xT(t),[t]),f=o&&!l?[]:d.map(wd),h=S.useRef(!0),g=S.useRef(d),_=cw(()=>new Map),[E,x]=S.useState(d),[y,w]=S.useState(d);Wk(()=>{h.current=!1,g.current=d;for(let N=0;N<y.length;N++){const M=wd(y[N]);f.includes(M)?_.delete(M):_.get(M)!==!0&&_.set(M,!1)}},[y,f.length,f.join("-")]);const b=[];if(d!==E){let N=[...d];for(let M=0;M<y.length;M++){const P=y[M],T=wd(P);f.includes(T)||(N.splice(M,0,P),b.push(P))}return s==="wait"&&b.length&&(N=b),w(xT(N)),x(d),null}const{forceRender:k}=S.useContext(uw);return m.jsx(m.Fragment,{children:y.map(N=>{const M=wd(N),P=o&&!l?!1:d===y||f.includes(M),T=()=>{if(_.has(M))_.set(M,!0);else return;let C=!0;_.forEach(A=>{A||(C=!1)}),C&&(k==null||k(),w(g.current),o&&(u==null||u()),r&&r())};return m.jsx(wH,{isPresent:P,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:T,anchorX:a,children:N},M)})})};function fw(t,e){t.indexOf(e)===-1&&t.push(e)}function pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Ty=()=>{};const EH={skipAnimations:!1,useManualTiming:!1};function mw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pn=t=>t,Du=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gw{constructor(){this.subscriptions=[]}add(e){return fw(this.subscriptions,e),()=>pw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,gr=t=>t/1e3;function Gk(t,e){return e?t*(1e3/e):0}const xH=mw(()=>window.ScrollTimeline!==void 0);class TH{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(xH()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bH extends TH{then(e,n){return this.finished.finally(e).then(()=>{})}}const TT={value:null,addProjectionMetrics:null},yw=t=>Array.isArray(t)&&typeof t[0]=="number",SH={};function PH(t,e){const n=mw(t);return()=>SH[e]??n()}const Ou=PH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Nl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,by={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nl([0,.65,.55,1]),circOut:Nl([.55,0,1,.45]),backIn:Nl([.31,.01,.66,-.59]),backOut:Nl([.33,1.53,.69,.99])};function Yk(t,e){if(t)return typeof t=="function"&&Ou()?Qk(t,e):yw(t)?Nl(t):Array.isArray(t)?t.map(n=>Yk(n,e)||by.easeOut):by[t]}function IH(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const f=Yk(a,i);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:u})}function vw(t){return typeof t=="function"&&"applyToOptions"in t}function ww(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Jh=2e4;function _w(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Jh;)e+=n,r=t.next(e);return e>=Jh?1/0:e}function CH(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(_w(r),Jh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:gr(i)}}function Xk(t){return!!(typeof t=="function"&&Ou()||!t||typeof t=="string"&&(t in by||Ou())||yw(t)||Array.isArray(t)&&t.every(Xk))}function bT(t,e){t.timeline=e,t.onfinish=null}const _d=["read","resolveKeyframes","update","preRender","render","postRender"];function AH(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,h=!1,g=!1)=>{const E=g&&i?n:r;return h&&o.add(f),E.has(f)||E.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&TT.value&&TT.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const RH=40;function Jk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=_d.reduce((y,w)=>(y[w]=AH(s,e?w:void 0),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:h}=o,g=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,RH),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},_=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:_d.reduce((y,w)=>{const b=o[w];return y[w]=(k,N=!1,M=!1)=>(n||_(),b.schedule(k,N,M)),y},{}),cancel:y=>{for(let w=0;w<_d.length;w++)o[_d[w]].cancel(y)},state:i,steps:o}}const{schedule:Ce,cancel:as,state:gt,steps:Cm}=Jk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0),{schedule:Ew,cancel:wG}=Jk(queueMicrotask,!1);let Yd;function kH(){Yd=void 0}const yr={now:()=>(Yd===void 0&&yr.set(gt.isProcessing||EH.useManualTiming?gt.timestamp:performance.now()),Yd),set:t=>{Yd=t,queueMicrotask(kH)}},Dn={x:!1,y:!1};function Zk(){return Dn.x||Dn.y}function NH(t){return t==="x"||t==="y"?Dn[t]?null:(Dn[t]=!0,()=>{Dn[t]=!1}):Dn.x||Dn.y?null:(Dn.x=Dn.y=!0,()=>{Dn.x=Dn.y=!1})}function DH(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function e2(t,e){const n=DH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ST(t){return!(t.pointerType==="touch"||Zk())}function OH(t,e,n={}){const[r,i,s]=e2(t,n),o=a=>{if(!ST(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=f=>{ST(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const t2=(t,e)=>e?t===e?!0:t2(t,e.parentElement):!1,xw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LH(t){return MH.has(t.tagName)||t.tabIndex!==-1}const Dl=new WeakSet;function PT(t){return e=>{e.key==="Enter"&&t(e)}}function Am(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VH=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=PT(()=>{if(Dl.has(n))return;Am(n,"down");const i=PT(()=>{Am(n,"up")}),s=()=>Am(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function IT(t){return xw(t)&&!Zk()}function jH(t,e,n={}){const[r,i,s]=e2(t,n),o=a=>{const l=a.currentTarget;if(!IT(a)||Dl.has(l))return;Dl.add(l);const u=e(l,a),d=(g,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!IT(g)||!Dl.has(l))&&(Dl.delete(l),typeof u=="function"&&u(g,{success:_}))},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||t2(l,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a instanceof HTMLElement&&(a.addEventListener("focus",u=>VH(u,i)),!LH(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const CT=30,FH=t=>!isNaN(parseFloat(t));class UH{constructor(e,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=yr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CT);return Gk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(t,e){return new UH(t,e)}const n2=S.createContext({strict:!1}),AT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ba={};for(const t in AT)ba[t]={isEnabled:e=>AT[t].some(n=>!!e[n])};function BH(t){for(const e in t)ba[e]={...ba[e],...t[e]}}const $H=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$H.has(t)}let r2=t=>!Zh(t);function zH(t){t&&(r2=e=>e.startsWith("on")?!Zh(e):t(e))}try{zH(require("@emotion/is-prop-valid").default)}catch{}function HH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(r2(i)||n===!0&&Zh(i)||!e&&!Zh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function WH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const cp=S.createContext({});function dp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lu(t){return typeof t=="string"||Array.isArray(t)}const Tw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bw=["initial",...Tw];function hp(t){return dp(t.animate)||bw.some(e=>Lu(t[e]))}function i2(t){return!!(hp(t)||t.variants)}function qH(t,e){if(hp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Lu(n)?n:void 0,animate:Lu(r)?r:void 0}}return t.inherit!==!1?e:{}}function KH(t){const{initial:e,animate:n}=qH(t,S.useContext(cp));return S.useMemo(()=>({initial:e,animate:n}),[RT(e),RT(n)])}function RT(t){return Array.isArray(t)?t.join(" "):t}const GH=Symbol.for("motionComponentSymbol");function Oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QH(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oo(n)&&(n.current=r))},[e])}const Sw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YH="framerAppearId",s2="data-"+Sw(YH),o2=S.createContext({});function XH(t,e,n,r,i){var E,x;const{visualElement:s}=S.useContext(cp),o=S.useContext(n2),a=S.useContext(up),l=S.useContext(hw).reducedMotion,u=S.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=S.useContext(o2);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&JH(u.current,n,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(n,a)});const g=n[s2],_=S.useRef(!!g&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,g))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,g)));return Wk(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Ew.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),_.current=!1))}),d}function JH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:a2(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Oo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function a2(t){if(t)return t.options.allowProjection!==!1?t.projection:a2(t.parent)}function ZH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&BH(t);function s(a,l){let u;const d={...S.useContext(hw),...a,layoutId:eW(a)},{isStatic:f}=d,h=KH(a),g=r(a,f);if(!f&&dw){tW();const _=nW(d);u=_.MeasureLayout,h.visualElement=XH(i,g,d,e,_.ProjectionNode)}return m.jsxs(cp.Provider,{value:h,children:[u&&h.visualElement?m.jsx(u,{visualElement:h.visualElement,...d}):null,n(i,a,QH(g,h.visualElement,l),g,f,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=S.forwardRef(s);return o[GH]=i,o}function eW({layoutId:t}){const e=S.useContext(uw).id;return e&&t!==void 0?e+"-"+t:t}function tW(t,e){S.useContext(n2).strict}function nW(t){const{drag:e,layout:n}=ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const l2=t=>e=>typeof e=="string"&&e.startsWith(t),Pw=l2("--"),rW=l2("var(--"),Iw=t=>rW(t)?iW.test(t.split("/*")[0].trim()):!1,iW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vu={};function sW(t){for(const e in t)Vu[e]=t[e],Pw(e)&&(Vu[e].isCSSVariable=!0)}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lo=new Set(qa);function u2(t,{layout:e,layoutId:n}){return lo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vu[t]||t==="opacity")}const Vt=t=>!!(t&&t.getVelocity),c2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zr=(t,e,n)=>n>e?e:n<t?t:n,Ka={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ju={...Ka,transform:t=>Zr(0,1,t)},Ed={...Ka,default:1},yc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gi=yc("deg"),vr=yc("%"),re=yc("px"),oW=yc("vh"),aW=yc("vw"),kT={...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)},lW={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},uW={rotate:gi,rotateX:gi,rotateY:gi,rotateZ:gi,scale:Ed,scaleX:Ed,scaleY:Ed,scaleZ:Ed,skew:gi,skewX:gi,skewY:gi,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ju,originX:kT,originY:kT,originZ:re},NT={...Ka,transform:Math.round},Cw={...lW,...uW,zIndex:NT,size:re,fillOpacity:ju,strokeOpacity:ju,numOctaves:NT},cW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dW=qa.length;function hW(t,e,n){let r="",i=!0;for(let s=0;s<dW;s++){const o=qa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=c2(a,Cw[o]);if(!l){i=!1;const d=cW[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Aw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(lo.has(l)){o=!0;continue}else if(Pw(l)){i[l]=u;continue}else{const d=c2(u,Cw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=hW(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d2(t,e,n){for(const r in e)!Vt(e[r])&&!u2(r,n)&&(t[r]=e[r])}function fW({transformTemplate:t},e){return S.useMemo(()=>{const n=Rw();return Aw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pW(t,e){const n=t.style||{},r={};return d2(r,n,t),Object.assign(r,fW(t,e)),r}function mW(t,e){const n={},r=pW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kw(t){return typeof t!="string"||t.includes("-")?!1:!!(gW.indexOf(t)>-1||/[A-Z]/u.test(t))}const yW={offset:"stroke-dashoffset",array:"stroke-dasharray"},vW={offset:"strokeDashoffset",array:"strokeDasharray"};function wW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?yW:vW;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function DT(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function _W(t,e,n){const r=DT(e,t.x,t.width),i=DT(n,t.y,t.height);return`${r} ${i}`}function Nw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,f){if(Aw(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:_}=t;h.transform&&(_&&(g.transform=h.transform),delete h.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=_W(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&wW(h,o,a,l,!1)}const h2=()=>({...Rw(),attrs:{}}),Dw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EW(t,e,n,r){const i=S.useMemo(()=>{const s=h2();return Nw(s,e,Dw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};d2(s,t.style,t),i.style={...s,...i.style}}return i}function xW(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(kw(n)?EW:mW)(r,s,o,n),u=HH(r,typeof n=="string",t),d=n!==S.Fragment?{...u,...l,ref:i}:{},{children:f}=r,h=S.useMemo(()=>Vt(f)?f.get():f,[f]);return S.createElement(n,{...d,children:h})}}function OT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ow(t,e,n,r){if(typeof e=="function"){const[i,s]=OT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=OT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Sy=t=>Array.isArray(t),TW=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bW=t=>Sy(t)?t[t.length-1]||0:t;function Xd(t){const e=Vt(t)?t.get():t;return TW(e)?e.toValue():e}function SW({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:PW(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const f2=t=>(e,n)=>{const r=S.useContext(cp),i=S.useContext(up),s=()=>SW(t,e,r,i);return n?s():cw(s)};function PW(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Xd(s[h]);let{initial:o,animate:a}=t;const l=hp(t),u=i2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!dp(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const _=Ow(t,h[g]);if(_){const{transitionEnd:E,transition:x,...y}=_;for(const w in y){let b=y[w];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(i[w]=b)}for(const w in E)i[w]=E[w]}}}return i}function Mw(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Vt(r[o])||e.style&&Vt(e.style[o])||u2(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const IW={useVisualState:f2({scrapeMotionValuesFromProps:Mw,createRenderState:Rw})};function p2(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function m2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const g2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y2(t,e,n,r){m2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(g2.has(i)?i:Sw(i),e.attrs[i])}function v2(t,e,n){const r=Mw(t,e,n);for(const i in t)if(Vt(t[i])||Vt(e[i])){const s=qa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const MT=["x","y","width","height","cx","cy","r"],CW={useVisualState:f2({scrapeMotionValuesFromProps:v2,createRenderState:h2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(lo.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<MT.length;a++){const l=MT[a];t[l]!==e[l]&&(o=!0)}o&&Ce.read(()=>{p2(n,r),Ce.render(()=>{Nw(r,i,Dw(n.tagName),t.transformTemplate),y2(n,r)})})}})};function AW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...kw(r)?CW:IW,preloadedFeatures:t,useRender:xW(i),createVisualElement:e,Component:r};return ZH(o)}}function Fu(t,e,n){const r=t.getProps();return Ow(r,e,n!==void 0?n:r.custom,t)}const w2=new Set(["width","height","top","left","right","bottom",...qa]);function RW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mu(n))}function kW(t,e){const n=Fu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=bW(s[o]);RW(t,o,a)}}function NW(t){return!!(Vt(t)&&t.add)}function Py(t,e){const n=t.getValue("willChange");if(NW(n))return n.add(e)}function _2(t){return t.props[s2]}const E2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DW=1e-7,OW=12;function MW(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=E2(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>DW&&++a<OW);return o}function vc(t,e,n,r){if(t===e&&n===r)return Pn;const i=s=>MW(s,0,1,t,n);return s=>s===0||s===1?s:E2(i(s),e,r)}const x2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,T2=t=>e=>1-t(1-e),b2=vc(.33,1.53,.69,.99),Lw=T2(b2),S2=x2(Lw),P2=t=>(t*=2)<1?.5*Lw(t):.5*(2-Math.pow(2,-10*(t-1))),Vw=t=>1-Math.sin(Math.acos(t)),I2=T2(Vw),C2=x2(Vw),A2=t=>/^0[^.\s]+$/u.test(t);function LW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A2(t):!0}const Ql=t=>Math.round(t*1e5)/1e5,jw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VW(t){return t==null}const jW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fw=(t,e)=>n=>!!(typeof n=="string"&&jW.test(n)&&n.startsWith(t)||e&&!VW(n)&&Object.prototype.hasOwnProperty.call(n,e)),R2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(jw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},FW=t=>Zr(0,255,t),Rm={...Ka,transform:t=>Math.round(FW(t))},Ms={test:Fw("rgb","red"),parse:R2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rm.transform(t)+", "+Rm.transform(e)+", "+Rm.transform(n)+", "+Ql(ju.transform(r))+")"};function UW(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Iy={test:Fw("#"),parse:UW,transform:Ms.transform},Mo={test:Fw("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vr.transform(Ql(e))+", "+vr.transform(Ql(n))+", "+Ql(ju.transform(r))+")"},Nt={test:t=>Ms.test(t)||Iy.test(t)||Mo.test(t),parse:t=>Ms.test(t)?Ms.parse(t):Mo.test(t)?Mo.parse(t):Iy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ms.transform(t):Mo.transform(t)},BW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $W(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jw))==null?void 0:e.length)||0)+(((n=t.match(BW))==null?void 0:n.length)||0)>0}const k2="number",N2="color",zW="var",HW="var(",LT="${}",WW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(WW,l=>(Nt.test(l)?(r.color.push(s),i.push(N2),n.push(Nt.parse(l))):l.startsWith(HW)?(r.var.push(s),i.push(zW),n.push(l)):(r.number.push(s),i.push(k2),n.push(parseFloat(l))),++s,LT)).split(LT);return{values:n,split:a,indexes:r,types:i}}function D2(t){return Uu(t).values}function O2(t){const{split:e,types:n}=Uu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===k2?s+=Ql(i[o]):a===N2?s+=Nt.transform(i[o]):s+=i[o]}return s}}const qW=t=>typeof t=="number"?0:t;function KW(t){const e=D2(t);return O2(t)(e.map(qW))}const ls={test:$W,parse:D2,createTransformer:O2,getAnimatableNone:KW},GW=new Set(["brightness","contrast","saturate","opacity"]);function QW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jw)||[];if(!r)return t;const i=n.replace(r,"");let s=GW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const YW=/\b([a-z-]*)\(.*?\)/gu,Cy={...ls,getAnimatableNone:t=>{const e=t.match(YW);return e?e.map(QW).join(" "):t}},XW={...Cw,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Cy,WebkitFilter:Cy},M2=t=>XW[t];function L2(t,e){let n=M2(t);return n!==Cy&&(n=ls),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JW=new Set(["auto","none","0"]);function ZW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!JW.has(s)&&Uu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=L2(n,i)}const Ls=t=>t*180/Math.PI,Ay=t=>{const e=Ls(Math.atan2(t[1],t[0]));return Ry(e)},e7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ay,rotateZ:Ay,skewX:t=>Ls(Math.atan(t[1])),skewY:t=>Ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),VT=Ay,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),t7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:FT,scale:t=>(jT(t)+FT(t))/2,rotateX:t=>Ry(Ls(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(Ls(Math.atan2(-t[2],t[0]))),rotateZ:VT,rotate:VT,skewX:t=>Ls(Math.atan(t[4])),skewY:t=>Ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function UT(t){return t.includes("scale")?1:0}function ky(t,e){if(!t||t==="none")return UT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=t7,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=e7,i=a}if(!i)return UT(e);const s=r[e],o=i[1].split(",").map(r7);return typeof s=="function"?s(o):o[s]}const n7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ky(n,e)};function r7(t){return parseFloat(t.trim())}const BT=t=>t===Ka||t===re,i7=new Set(["x","y","z"]),s7=qa.filter(t=>!i7.has(t));function o7(t){const e=[];return s7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ky(e,"x"),y:(t,{transform:e})=>ky(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const zs=new Set;let Ny=!1,Dy=!1;function V2(){if(Dy){const t=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=o7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dy=!1,Ny=!1,zs.forEach(t=>t.complete()),zs.clear()}function j2(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dy=!0)})}function a7(){j2(),V2()}class Uw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zs.add(this),Ny||(Ny=!0,Ce.read(j2),Ce.resolveKeyframes(V2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const F2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),l7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u7(t){const e=l7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function U2(t,e,n=1){const[r,i]=u7(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return F2(o)?parseFloat(o):o}return Iw(i)?U2(i,e,n+1):i}const B2=t=>e=>e.test(t),c7={test:t=>t==="auto",parse:t=>t},$2=[Ka,re,vr,gi,aW,oW,c7],$T=t=>$2.find(B2(t));class z2 extends Uw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Iw(u))){const d=U2(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!w2.has(r)||e.length!==2)return;const[i,s]=e,o=$T(i),a=$T(s);if(o!==a)if(BT(o)&&BT(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)LW(e[i])&&r.push(i);r.length&&ZW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const zT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ls.test(t)||t==="0")&&!t.startsWith("url("));function d7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function h7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=zT(i,e),a=zT(s,e);return!o||!a?!1:d7(t)||(n==="spring"||vw(n))&&r}const f7=t=>t!==null;function fp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(f7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const p7=40;class H2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>p7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&a7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!h7(e,r,i,s))if(o)this.options.duration=0;else{l&&l(fp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ue=(t,e,n)=>t+(e-t)*n;function km(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function m7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=km(l,a,t+1/3),s=km(l,a,t),o=km(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ef(t,e){return n=>n>0?e:t}const Nm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},g7=[Iy,Ms,Mo],y7=t=>g7.find(e=>e.test(t));function HT(t){const e=y7(t);if(!e)return!1;let n=e.parse(t);return e===Mo&&(n=m7(n)),n}const WT=(t,e)=>{const n=HT(t),r=HT(e);if(!n||!r)return ef(t,e);const i={...n};return s=>(i.red=Nm(n.red,r.red,s),i.green=Nm(n.green,r.green,s),i.blue=Nm(n.blue,r.blue,s),i.alpha=Ue(n.alpha,r.alpha,s),Ms.transform(i))},v7=(t,e)=>n=>e(t(n)),wc=(...t)=>t.reduce(v7),Oy=new Set(["none","hidden"]);function w7(t,e){return Oy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _7(t,e){return n=>Ue(t,e,n)}function Bw(t){return typeof t=="number"?_7:typeof t=="string"?Iw(t)?ef:Nt.test(t)?WT:T7:Array.isArray(t)?W2:typeof t=="object"?Nt.test(t)?WT:E7:ef}function W2(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Bw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function E7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Bw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function x7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const T7=(t,e)=>{const n=ls.createTransformer(e),r=Uu(t),i=Uu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Oy.has(t)&&!i.values.length||Oy.has(e)&&!r.values.length?w7(t,e):wc(W2(x7(r,i),i.values),n):ef(t,e)};function q2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ue(t,e,n):Bw(t)(t,e)}const b7=5;function K2(t,e,n){const r=Math.max(e-b7,0);return Gk(n-t(r),e-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dm=.001;function S7({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,s,o=1-e;o=Zr(Ge.minDamping,Ge.maxDamping,o),t=Zr(Ge.minDuration,Ge.maxDuration,gr(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-n,g=My(u,o),_=Math.exp(-f);return Dm-h/g*_},s=u=>{const f=u*o*t,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,_=Math.exp(-f),E=My(Math.pow(u,2),o);return(-i(u)+Dm>0?-1:1)*((h-g)*_)/E}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Dm+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const a=5/t,l=I7(i,s,a);if(t=mr(t),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const P7=12;function I7(t,e,n){let r=n;for(let i=1;i<P7;i++)r=r-t(r)/e(r);return r}function My(t,e){return t*Math.sqrt(1-e*e)}const C7=["duration","bounce"],A7=["stiffness","damping","mass"];function qT(t,e){return e.some(n=>t[n]!==void 0)}function R7(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!qT(t,A7)&&qT(t,C7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Zr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ge.mass,stiffness:i,damping:s}}else{const n=S7(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function tf(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=R7({...n,velocity:-gr(n.velocity||0)}),_=h||0,E=u/(2*Math.sqrt(l*d)),x=o-s,y=gr(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=w?Ge.restDelta.granular:Ge.restDelta.default);let b;if(E<1){const N=My(y,E);b=M=>{const P=Math.exp(-E*y*M);return o-P*((_+E*y*x)/N*Math.sin(N*M)+x*Math.cos(N*M))}}else if(E===1)b=N=>o-Math.exp(-y*N)*(x+(_+y*x)*N);else{const N=y*Math.sqrt(E*E-1);b=M=>{const P=Math.exp(-E*y*M),T=Math.min(N*M,300);return o-P*((_+E*y*x)*Math.sinh(T)+N*x*Math.cosh(T))/N}}const k={calculatedDuration:g&&f||null,next:N=>{const M=b(N);if(g)a.done=N>=f;else{let P=0;E<1&&(P=N===0?mr(_):K2(b,N,M));const T=Math.abs(P)<=r,C=Math.abs(o-M)<=i;a.done=T&&C}return a.value=a.done?o:M,a},toString:()=>{const N=Math.min(_w(k),Jh),M=Qk(P=>k.next(N*P).value,N,30);return N+"ms "+M},toTransition:()=>{}};return k}tf.applyToOptions=t=>{const e=CH(t,100,tf);return t.ease=Ou()?e.ease:"easeOut",t.duration=mr(e.duration),t.type="keyframes",t};function KT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,_=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let E=n*e;const x=f+E,y=o===void 0?x:o(x);y!==x&&(E=y-f);const w=T=>-E*Math.exp(-T/r),b=T=>y+w(T),k=T=>{const C=w(T),A=b(T);h.done=Math.abs(C)<=u,h.value=h.done?y:A};let N,M;const P=T=>{g(h.value)&&(N=T,M=tf({keyframes:[h.value,_(h.value)],velocity:K2(b,T,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:T=>{let C=!1;return!M&&N===void 0&&(C=!0,k(T),P(T)),N!==void 0&&T>=N?M.next(T-N):(!C&&k(T),h)}}}const k7=vc(.42,0,1,1),N7=vc(0,0,.58,1),G2=vc(.42,0,.58,1),D7=t=>Array.isArray(t)&&typeof t[0]!="number",GT={linear:Pn,easeIn:k7,easeInOut:G2,easeOut:N7,circIn:Vw,circInOut:C2,circOut:I2,backIn:Lw,backInOut:S2,backOut:b2,anticipate:P2},QT=t=>{if(yw(t)){Ty(t.length===4);const[e,n,r,i]=t;return vc(e,n,r,i)}else if(typeof t=="string")return Ty(GT[t]!==void 0),GT[t];return t};function O7(t,e,n){const r=[],i=n||q2,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Pn:e;a=wc(l,a)}r.push(a)}return r}function M7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ty(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=O7(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Du(t[f],t[f+1],d);return a[f](h)};return n?d=>u(Zr(t[0],t[s-1],d)):u}function L7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Du(0,e,r);t.push(Ue(n,1,i))}}function V7(t){const e=[0];return L7(e,t.length-1),e}function j7(t,e){return t.map(n=>n*e)}function F7(t,e){return t.map(()=>e||G2).splice(0,t.length-1)}function nf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=D7(r)?r.map(QT):QT(r),s={done:!1,value:e[0]},o=j7(n&&n.length===e.length?n:V7(e),t),a=M7(o,e,{ease:Array.isArray(i)?i:F7(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const U7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>as(e),now:()=>gt.isProcessing?gt.timestamp:yr.now()}},B7={decay:KT,inertia:KT,tween:nf,keyframes:nf,spring:tf},$7=t=>t/100;class $w extends H2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Uw,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=vw(n)?n:B7[n]||nf;let l,u;a!==nf&&typeof e[0]!="number"&&(l=wc($7,q2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=_w(d));const{calculatedDuration:f}=d,h=f+i,g=h*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:g,repeatType:_,repeatDelay:E,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,k=s;if(g){const T=Math.min(this.currentTime,d)/f;let C=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(_==="reverse"?(A=1-A,E&&(A-=E/f)):_==="mirror"&&(k=o)),b=Zr(0,1,A)*f}const N=w?{done:!1,value:l[0]}:k.next(b);a&&(N.value=a(N.value));let{done:M}=N;!w&&u!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return P&&i!==void 0&&(N.value=fp(l,this.options,i)),x&&x(N.value),P&&this.finish(),N}get duration(){const{resolved:e}=this;return e?gr(e.calculatedDuration):0}get time(){return gr(this.currentTime)}set time(e){e=mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=U7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const z7=new Set(["opacity","clipPath","filter","transform"]),H7=mw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rf=10,W7=2e4;function q7(t){return vw(t.type)||t.type==="spring"||!Xk(t.ease)}function K7(t,e){const n=new $w({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<W7;)r=n.sample(s),i.push(r.value),s+=rf;return{times:void 0,keyframes:i,duration:s-rf,ease:"linear"}}const Q2={anticipate:P2,backInOut:S2,circInOut:C2};function G7(t){return t in Q2}class YT extends H2{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new z2(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ou()&&G7(s)&&(s=Q2[s]),q7(this.options)){const{onComplete:f,onUpdate:h,motionValue:g,element:_,...E}=this.options,x=K7(e,E);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,s=x.ease,o="keyframes"}const d=IH(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(bT(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(fp(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return gr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return gr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pn;const{animation:r}=n;bT(r,e)}return Pn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...g}=this.options,_=new $w({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),E=mr(this.time);u.setWithVelocity(_.sample(E-rf).value,_.sample(E).value,rf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return H7()&&r&&z7.has(r)&&(r!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Q7={type:"spring",stiffness:500,damping:25,restSpeed:10},Y7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),X7={type:"keyframes",duration:.8},J7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z7=(t,{keyframes:e})=>e.length>2?X7:lo.has(t)?t.startsWith("scale")?Y7(e[1]):Q7:J7;function eq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const zw=(t,e,n,r={},i,s)=>o=>{const a=ww(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};eq(a)||(d={...d,...Z7(t,d)}),d.duration&&(d.duration=mr(d.duration)),d.repeatDelay&&(d.repeatDelay=mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),d.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const h=fp(d.keyframes,a);if(h!==void 0)return Ce.update(()=>{d.onUpdate(h),d.onComplete()}),new bH([])}return!s&&YT.supports(d)?new YT(d):new $w(d)};function tq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Y2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),h=a[d];if(h===void 0||u&&tq(u,d))continue;const g={delay:n,...ww(s||{},d)};let _=!1;if(window.MotionHandoffAnimation){const x=_2(t);if(x){const y=window.MotionHandoffAnimation(x,d,Ce);y!==null&&(g.startTime=y,_=!0)}}Py(t,d),f.start(zw(d,f,h,t.shouldReduceMotion&&w2.has(d)?{type:!1}:g,t,_));const E=f.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{Ce.update(()=>{o&&kW(t,o)})}),l}function Ly(t,e,n={}){var l;const r=Fu(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Y2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return nq(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function nq(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(rq).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Ly(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function rq(t,e){return t.sortNodePosition(e)}function iq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ly(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ly(t,e,n);else{const i=typeof e=="function"?Fu(t,e,n.custom):e;r=Promise.all(Y2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function X2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const sq=bw.length;function J2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?J2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sq;n++){const r=bw[n],i=t.props[r];(Lu(i)||i===!1)&&(e[r]=i)}return e}const oq=[...Tw].reverse(),aq=Tw.length;function lq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iq(t,n,r)))}function uq(t){let e=lq(t),n=XT(),r=!0;const i=l=>(u,d)=>{var h;const f=Fu(t,d,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:_,...E}=f;u={...u,...E,..._}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=J2(t.parent)||{},f=[],h=new Set;let g={},_=1/0;for(let x=0;x<aq;x++){const y=oq[x],w=n[y],b=u[y]!==void 0?u[y]:d[y],k=Lu(b),N=y===l?w.isActive:null;N===!1&&(_=x);let M=b===d[y]&&b!==u[y]&&k;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...g},!w.isActive&&N===null||!b&&!w.prevProp||dp(b)||typeof b=="boolean")continue;const P=cq(w.prevProp,b);let T=P||y===l&&w.isActive&&!M&&k||x>_&&k,C=!1;const A=Array.isArray(b)?b:[b];let D=A.reduce(i(y),{});N===!1&&(D={});const{prevResolvedValues:O={}}=w,R={...O,...D},H=J=>{T=!0,h.has(J)&&(C=!0,h.delete(J)),w.needsAnimating[J]=!0;const V=t.getValue(J);V&&(V.liveStyle=!1)};for(const J in R){const V=D[J],z=O[J];if(g.hasOwnProperty(J))continue;let X=!1;Sy(V)&&Sy(z)?X=!X2(V,z):X=V!==z,X?V!=null?H(J):h.add(J):V!==void 0&&h.has(J)?H(J):w.protectedKeys[J]=!0}w.prevProp=b,w.prevResolvedValues=D,w.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(M&&P)||C)&&f.push(...A.map(J=>({animation:J,options:{type:y}})))}if(h.size){const x={};if(typeof u.initial!="boolean"){const y=Fu(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(x.transition=y.transition)}h.forEach(y=>{const w=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),x[y]=w??null}),f.push({animation:x})}let E=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=XT(),r=!0}}}function cq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!X2(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XT(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dq extends vs{constructor(e){super(e),e.animationState||(e.animationState=uq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let hq=0;class fq extends vs{constructor(){super(...arguments),this.id=hq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pq={animation:{Feature:dq},exit:{Feature:fq}};function Bu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _c(t){return{point:{x:t.pageX,y:t.pageY}}}const mq=t=>e=>xw(e)&&t(e,_c(e));function Yl(t,e,n,r){return Bu(t,e,mq(n),r)}function Z2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const eN=1e-4,vq=1-eN,wq=1+eN,tN=.01,_q=0-tN,Eq=0+tN;function Ht(t){return t.max-t.min}function xq(t,e,n){return Math.abs(t-e)<=n}function JT(t,e,n,r=.5){t.origin=r,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vq&&t.scale<=wq||isNaN(t.scale))&&(t.scale=1),(t.translate>=_q&&t.translate<=Eq||isNaN(t.translate))&&(t.translate=0)}function Xl(t,e,n,r){JT(t.x,e.x,n.x,r?r.originX:void 0),JT(t.y,e.y,n.y,r?r.originY:void 0)}function ZT(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function Tq(t,e,n){ZT(t.x,e.x,n.x),ZT(t.y,e.y,n.y)}function eb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function Jl(t,e,n){eb(t.x,e.x,n.x),eb(t.y,e.y,n.y)}const tb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:tb(),y:tb()}),nb=()=>({min:0,max:0}),Ye=()=>({x:nb(),y:nb()});function wn(t){return[t("x"),t("y")]}function Om(t){return t===void 0||t===1}function Vy({scale:t,scaleX:e,scaleY:n}){return!Om(t)||!Om(e)||!Om(n)}function Rs(t){return Vy(t)||nN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nN(t){return rb(t.x)||rb(t.y)}function rb(t){return t&&t!=="0%"}function sf(t,e,n){const r=t-n,i=e*r;return n+i}function ib(t,e,n,r,i){return i!==void 0&&(t=sf(t,i,r)),sf(t,n,r)+e}function jy(t,e=0,n=1,r,i){t.min=ib(t.min,e,n,r,i),t.max=ib(t.max,e,n,r,i)}function rN(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const sb=.999999999999,ob=1.0000000000001;function bq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rN(t,o)),r&&Rs(s.latestValues)&&jo(t,s.latestValues))}e.x<ob&&e.x>sb&&(e.x=1),e.y<ob&&e.y>sb&&(e.y=1)}function Vo(t,e){t.min=t.min+e,t.max=t.max+e}function ab(t,e,n,r,i=.5){const s=Ue(t.min,t.max,i);jy(t,e,n,s,r)}function jo(t,e){ab(t.x,e.x,e.scaleX,e.scale,e.originX),ab(t.y,e.y,e.scaleY,e.scale,e.originY)}function iN(t,e){return Z2(yq(t.getBoundingClientRect(),e))}function Sq(t,e,n){const r=iN(t,n),{scroll:i}=e;return i&&(Vo(r.x,i.offset.x),Vo(r.y,i.offset.y)),r}const sN=({current:t})=>t?t.ownerDocument.defaultView:null,lb=(t,e)=>Math.abs(t-e);function Pq(t,e){const n=lb(t.x,e.x),r=lb(t.y,e.y);return Math.sqrt(n**2+r**2)}class oN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Lm(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=Pq(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:_}=f,{timestamp:E}=gt;this.history.push({..._,timestamp:E});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Mm(h,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Lm(f.type==="pointercancel"?this.lastMoveEventInfo:Mm(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,x),_&&_(f,x)},!xw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=_c(e),a=Mm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=gt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Lm(a,this.history)),this.removeListeners=wc(Yl(this.contextWindow,"pointermove",this.handlePointerMove),Yl(this.contextWindow,"pointerup",this.handlePointerUp),Yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Mm(t,e){return e?{point:e(t.point)}:t}function ub(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lm({point:t},e){return{point:t,delta:ub(t,aN(e)),offset:ub(t,Iq(e)),velocity:Cq(e,.1)}}function Iq(t){return t[0]}function aN(t){return t[t.length-1]}function Cq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=aN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mr(e)));)n--;if(!r)return{x:0,y:0};const s=gr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Aq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ue(n,t,r.max):Math.min(t,n)),t}function cb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rq(t,{top:e,left:n,bottom:r,right:i}){return{x:cb(t.x,n,i),y:cb(t.y,e,r)}}function db(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kq(t,e){return{x:db(t.x,e.x),y:db(t.y,e.y)}}function Nq(t,e){let n=.5;const r=Ht(t),i=Ht(e);return i>r?n=Du(e.min,e.max-r,t.min):r>i&&(n=Du(t.min,t.max-i,e.min)),Zr(0,1,n)}function Dq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fy=.35;function Oq(t=Fy){return t===!1?t=0:t===!0&&(t=Fy),{x:hb(t,"left","right"),y:hb(t,"top","bottom")}}function hb(t,e,n){return{min:fb(t,e),max:fb(t,n)}}function fb(t,e){return typeof t=="number"?t:t[e]||0}const Mq=new WeakMap;class Lq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_c(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:_}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NH(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(x=>{let y=this.getAxisMotionValue(x).get()||0;if(vr.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[x];b&&(y=Ht(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),_&&Ce.postRender(()=>_(d,f)),Py(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:_,onDrag:E}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(g&&this.currentDirection===null){this.currentDirection=Vq(x),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),E&&E(d,f)},a=(d,f)=>this.stop(d,f),l=()=>wn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:sN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ce.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Aq(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Oo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Rq(r.layoutBox,e):this.constraints=!1,this.elastic=Oq(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Sq(r,i.root,this.visualElement.getTransformPagePoint());let o=kq(i.layout.layoutBox,s);if(n){const a=n(gq(o));this.hasMutatedConstraints=!!a,a&&(o=Z2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(d=>{if(!xd(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Py(this.visualElement,e),r.start(zw(e,r,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Nq({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ue(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Mq.set(this.visualElement,this);const e=this.visualElement.current,n=Yl(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Oo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ce.read(r);const o=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Fy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Vq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jq extends vs{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new Lq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const pb=t=>(e,n)=>{t&&Ce.postRender(()=>t(e,n))};class Fq extends vs{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new oN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pb(e),onStart:pb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ce.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Yl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const El={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=mb(t,e.target.x),r=mb(t,e.target.y);return`${n}% ${r}%`}},Uq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ls.parse(t);if(i.length>5)return r;const s=ls.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ue(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Bq extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sW($q),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ew.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lN(t){const[e,n]=qk(),r=S.useContext(uw);return m.jsx(Bq,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(o2),isPresent:e,safeToRemove:n})}const $q={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:Uq};function zq(t,e,n){const r=Vt(t)?t:Mu(t);return r.start(zw("",r,e,n)),r.animation}function Hq(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Wq=(t,e)=>t.depth-e.depth;class qq{constructor(){this.children=[],this.isDirty=!1}add(e){fw(this.children,e),this.isDirty=!0}remove(e){pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wq),this.isDirty=!1,this.children.forEach(e)}}function Kq(t,e){const n=yr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(as(r),t(s-e))};return Ce.read(r,!0),()=>as(r)}const uN=["TopLeft","TopRight","BottomLeft","BottomRight"],Gq=uN.length,gb=t=>typeof t=="string"?parseFloat(t):t,yb=t=>typeof t=="number"||re.test(t);function Qq(t,e,n,r,i,s){i?(t.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,Yq(r)),t.opacityExit=Ue(e.opacity!==void 0?e.opacity:1,0,Xq(r))):s&&(t.opacity=Ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Gq;o++){const a=`border${uN[o]}Radius`;let l=vb(e,a),u=vb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||yb(l)===yb(u)?(t[a]=Math.max(Ue(gb(l),gb(u),r),0),(vr.test(u)||vr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,r))}function vb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yq=cN(0,.5,I2),Xq=cN(.5,.95,Pn);function cN(t,e,n){return r=>r<t?0:r>e?1:n(Du(t,e,r))}function wb(t,e){t.min=e.min,t.max=e.max}function vn(t,e){wb(t.x,e.x),wb(t.y,e.y)}function _b(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Eb(t,e,n,r,i){return t-=e,t=sf(t,1/n,r),i!==void 0&&(t=sf(t,1/i,r)),t}function Jq(t,e=0,n=1,r=.5,i,s=t,o=t){if(vr.test(e)&&(e=parseFloat(e),e=Ue(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ue(s.min,s.max,r);t===s&&(a-=e),t.min=Eb(t.min,e,n,a,i),t.max=Eb(t.max,e,n,a,i)}function xb(t,e,[n,r,i],s,o){Jq(t,e[n],e[r],e[i],e.scale,s,o)}const Zq=["x","scaleX","originX"],eK=["y","scaleY","originY"];function Tb(t,e,n,r){xb(t.x,e,Zq,n?n.x:void 0,r?r.x:void 0),xb(t.y,e,eK,n?n.y:void 0,r?r.y:void 0)}function bb(t){return t.translate===0&&t.scale===1}function dN(t){return bb(t.x)&&bb(t.y)}function Sb(t,e){return t.min===e.min&&t.max===e.max}function tK(t,e){return Sb(t.x,e.x)&&Sb(t.y,e.y)}function Pb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hN(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function Ib(t){return Ht(t.x)/Ht(t.y)}function Cb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nK{constructor(){this.members=[]}add(e){fw(this.members,e),e.scheduleRender()}remove(e){if(pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rK(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Vm=["","X","Y","Z"],iK={visibility:"hidden"},Ab=1e3;let sK=0;function jm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ce,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fN(r)}function pN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lK),this.nodes.forEach(fK),this.nodes.forEach(pK),this.nodes.forEach(uK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hq(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Kq(h,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(kb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||wK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),w=!this.targetLayout||!hN(this.targetLayout,_),b=!h&&g;if(this.options.layoutRoot||this.resumeFrom||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const k={...ww(E,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||kb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rb);return}this.isUpdating||this.nodes.forEach(dK),this.isUpdating=!1,this.nodes.forEach(hK),this.nodes.forEach(oK),this.nodes.forEach(aK),this.clearAllSnapshots();const a=yr.now();gt.delta=Zr(0,1e3/60,a-gt.timestamp),gt.timestamp=a,gt.isProcessing=!0,Cm.update.process(gt),Cm.preRender.process(gt),Cm.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ew.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cK),this.sharedNodes.forEach(gK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Rs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_K(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ye();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(EK))){const{scroll:d}=this.root;d&&(Vo(a.x,d.offset.x),Vo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ye();if(vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&vn(a,o),Vo(a.x,f.offset.x),Vo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Ye();vn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rs(d.latestValues)&&jo(l,d.latestValues)}return Rs(this.latestValues)&&jo(l,this.latestValues),l}removeTransform(o){const a=Ye();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rs(u.latestValues))continue;Vy(u.latestValues)&&u.updateSnapshot();const d=Ye(),f=u.measurePageBox();vn(d,f),Tb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rs(this.latestValues)&&Tb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),rN(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Jl(this.relativeTargetOrigin,this.target,g.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vy(this.parent.latestValues)||nN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;bq(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ye());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)),Xl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ye(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,E=g!==_,x=this.getStack(),y=!x||x.members.length<=1,w=!!(E&&!y&&this.options.crossfade===!0&&!this.path.some(vK));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const N=k/1e3;Nb(f.x,o.x,N),Nb(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yK(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&tK(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ye()),vn(b,this.relativeTarget)),E&&(this.animationValues=d,Qq(d,u,this.latestValues,N,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Jd.hasAnimatedSinceResize=!0,this.currentAnimation=zq(0,Ab,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ab),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&mN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ye();const f=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}vn(a,l),jo(a,d),Xl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nK),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&jm("z",o,u,this.animationValues);for(let d=0;d<Vm.length;d++)jm(`rotate${Vm[d]}`,o,u,this.animationValues),jm(`skew${Vm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return iK;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=rK(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Vu){if(d[g]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:x}=Vu[g],y=a.transform==="none"?d[g]:_(d[g],u);if(E){const w=E.length;for(let b=0;b<w;b++)a[E[b]]=y}else x?this.options.visualElement.renderState.vars[g]=y:a[g]=y}return this.options.layoutId&&(a.pointerEvents=u===this?Xd(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function oK(t){t.updateLayout()}function aK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?wn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=Ht(h);h.min=r[f].min,h.max=h.min+g}):mN(s,e.layoutBox,r)&&wn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=Ht(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Lo();Xl(a,r,e.layoutBox);const l=Lo();o?Xl(l,t.applyTransform(i,!0),e.measuredBox):Xl(l,r,e.layoutBox);const u=!dN(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const _=Ye();Jl(_,e.layoutBox,h.layoutBox);const E=Ye();Jl(E,r,g.layoutBox),hN(_,E)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cK(t){t.clearSnapshot()}function Rb(t){t.clearMeasurements()}function dK(t){t.isLayoutDirty=!1}function hK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fK(t){t.resolveTargetDelta()}function pK(t){t.calcProjection()}function mK(t){t.resetSkewAndRotation()}function gK(t){t.removeLeadSnapshot()}function Nb(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Db(t,e,n,r){t.min=Ue(e.min,n.min,r),t.max=Ue(e.max,n.max,r)}function yK(t,e,n,r){Db(t.x,e.x,n.x,r),Db(t.y,e.y,n.y,r)}function vK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wK={duration:.45,ease:[.4,0,.1,1]},Ob=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mb=Ob("applewebkit/")&&!Ob("chrome/")?Math.round:Pn;function Lb(t){t.min=Mb(t.min),t.max=Mb(t.max)}function _K(t){Lb(t.x),Lb(t.y)}function mN(t,e,n){return t==="position"||t==="preserve-aspect"&&!xq(Ib(e),Ib(n),.2)}function EK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xK=pN({attachResizeListener:(t,e)=>Bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},gN=pN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fm.current){const t=new xK({});t.mount(window),t.setOptions({layoutScroll:!0}),Fm.current=t}return Fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TK={pan:{Feature:Fq},drag:{Feature:jq,ProjectionNode:gN,MeasureLayout:lN}};function Vb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ce.postRender(()=>s(e,_c(e)))}class bK extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=OH(e,(n,r)=>(Vb(this.node,r,"Start"),i=>Vb(this.node,i,"End"))))}unmount(){}}class SK extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wc(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ce.postRender(()=>s(e,_c(e)))}class PK extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=jH(e,(n,r)=>(jb(this.node,r,"Start"),(i,{success:s})=>jb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uy=new WeakMap,Um=new WeakMap,IK=t=>{const e=Uy.get(t.target);e&&e(t)},CK=t=>{t.forEach(IK)};function AK({root:t,...e}){const n=t||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(CK,{root:t,...e})),r[i]}function RK(t,e,n){const r=AK(e);return Uy.set(t,n),r.observe(t),()=>{Uy.delete(t),r.unobserve(t)}}const kK={some:0,all:1};class NK extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kK[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return RK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DK(e,n))&&this.startObserver()}unmount(){}}function DK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OK={inView:{Feature:NK},tap:{Feature:PK},focus:{Feature:SK},hover:{Feature:bK}},MK={layout:{ProjectionNode:gN,MeasureLayout:lN}},By={current:null},yN={current:!1};function LK(){if(yN.current=!0,!!dw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>By.current=t.matches;t.addListener(e),e()}else By.current=!1}const VK=[...$2,Nt,ls],jK=t=>VK.find(B2(t)),FK=new WeakMap;function UK(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Vt(i))t.addValue(r,i);else if(Vt(s))t.addValue(r,Mu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Mu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Fb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=yr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ce.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=hp(n),this.isVariantNode=i2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in h){const _=h[g];l[g]!==void 0&&Vt(_)&&_.set(l[g],!1)}}mount(e){this.current=e,FK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yN.current||LK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:By.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=lo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ba){const n=ba[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Fb.length;r++){const i=Fb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=UK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(F2(r)||A2(r))?r=parseFloat(r):!jK(r)&&ls.test(n)&&(r=L2(e,n)),this.setBaseTarget(e,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ow(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vN extends BK{constructor(){super(...arguments),this.KeyframeResolver=z2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $K(t){return window.getComputedStyle(t)}class zK extends vN{constructor(){super(...arguments),this.type="html",this.renderInstance=m2}readValueFromInstance(e,n){if(lo.has(n))return n7(e,n);{const r=$K(e),i=(Pw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iN(e,n)}build(e,n,r){Aw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Mw(e,n,r)}}class HK extends vN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&p2(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(lo.has(n)){const r=M2(n);return r&&r.default||0}return n=g2.has(n)?n:Sw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return v2(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ce.postRender(this.updateDimensions)}build(e,n,r){Nw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){y2(e,n,r,i)}mount(e){this.isSVGTag=Dw(e.tagName),super.mount(e)}}const WK=(t,e)=>kw(t)?new HK(e):new zK(e,{allowProjection:t!==S.Fragment}),qK=AW({...pq,...OK,...TK,...MK},WK),Br=WH(qK),KK=({className:t=""})=>{const[e,n]=S.useState(""),[r,i]=S.useState("idle"),[s,o]=S.useState(""),a=async l=>{l.preventDefault(),i("loading"),o("");try{await fH(e),i("success"),o("Thank you for subscribing!"),n("")}catch(u){i("error"),o(u instanceof Error?u.message:"Something went wrong. Please try again.")}};return m.jsx("div",{className:t,children:m.jsxs("form",{onSubmit:a,className:"flex flex-col space-y-4",children:[m.jsxs("div",{className:"flex",children:[m.jsx("input",{type:"email",value:e,onChange:l=>n(l.target.value),placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-l-md text-gray-900 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blog-primary",required:!0}),m.jsx("button",{type:"submit",disabled:r==="loading",className:"bg-blog-primary px-4 py-2 rounded-r-md hover:bg-blog-secondary transition-colors text-white disabled:opacity-50 disabled:cursor-not-allowed",children:r==="loading"?"Subscribing...":"Subscribe"})]}),s&&m.jsx(Br.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`text-sm ${r==="success"?"text-green-600":"text-red-600"}`,children:s})]})})},GK=["Climate Change & Global Warming","Sustainable Living","Renewable Energy","Pollution & Waste Management","Biodiversity & Conservation","Environmental Technology & Innovation","Green Business & Economy","Environmental Laws & Policies","Agriculture & Food Sustainability","Water & Ocean Conservation"],wN=()=>{const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return m.jsx("footer",{className:"bg-black text-gray-300",children:m.jsxs("div",{className:"container mx-auto px-4 py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-6 text-white relative inline-block",children:["About Us",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blog-primary to-transparent"})]}),m.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Wanderlust Blogster is your go-to source for environmental news, insights, and sustainable living tips."})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-6 text-white relative inline-block",children:["Quick Links",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blog-primary to-transparent"})]}),m.jsxs("ul",{className:"space-y-3",children:[m.jsx("li",{className:"group",children:m.jsxs(Lt,{to:"/",className:"flex items-center text-gray-400 hover:text-blog-primary transition-all duration-300 transform hover:translate-x-2",children:[m.jsx(mo,{className:"w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all duration-300 text-blog-primary"}),m.jsxs("span",{className:"flex items-center gap-2 relative overflow-hidden group-hover:font-medium",children:[m.jsx(bL,{className:"w-4 h-4"}),"Home",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-blog-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})}),m.jsx("li",{className:"group",children:m.jsxs(Lt,{to:"/blog",className:"flex items-center text-gray-400 hover:text-blog-primary transition-all duration-300 transform hover:translate-x-2",children:[m.jsx(mo,{className:"w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all duration-300 text-blog-primary"}),m.jsxs("span",{className:"flex items-center gap-2 relative overflow-hidden group-hover:font-medium",children:[m.jsx(vL,{className:"w-4 h-4"}),"Blog",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-blog-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})}),m.jsx("li",{className:"group",children:m.jsxs(Lt,{to:"/about",className:"flex items-center text-gray-400 hover:text-blog-primary transition-all duration-300 transform hover:translate-x-2",children:[m.jsx(mo,{className:"w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all duration-300 text-blog-primary"}),m.jsxs("span",{className:"flex items-center gap-2 relative overflow-hidden group-hover:font-medium",children:[m.jsx(VL,{className:"w-4 h-4"}),"About Us",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-blog-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})}),m.jsx("li",{className:"group",children:m.jsxs(Lt,{to:"/contact",className:"flex items-center text-gray-400 hover:text-blog-primary transition-all duration-300 transform hover:translate-x-2",children:[m.jsx(mo,{className:"w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all duration-300 text-blog-primary"}),m.jsxs("span",{className:"flex items-center gap-2 relative overflow-hidden group-hover:font-medium",children:[m.jsx(kL,{className:"w-4 h-4"}),"Contact",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-blog-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-6 text-white relative inline-block",children:["Categories",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blog-primary to-transparent"})]}),m.jsx("ul",{className:"space-y-3",children:GK.map(e=>m.jsx("li",{className:"group",children:m.jsxs(Lt,{to:`/categories/${encodeURIComponent(e)}`,className:"flex items-center text-gray-400 hover:text-blog-primary transition-all duration-300 transform hover:translate-x-2",onClick:t,children:[m.jsx(mo,{className:"w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all duration-300 text-blog-primary"}),m.jsxs("span",{className:"relative overflow-hidden group-hover:font-medium",children:[e,m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-blog-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})},e))})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-6 text-white relative inline-block",children:["Newsletter",m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blog-primary to-transparent"})]}),m.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"Subscribe to our newsletter for the latest environmental news and updates."}),m.jsx(c0,{name:"news2",children:m.jsx(KK,{})})]})]}),m.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," Wanderlust Blogster. All rights reserved."]}),m.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[m.jsx("a",{href:"https://facebook.com",className:"text-gray-400 hover:text-blog-primary transform hover:scale-110 transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:m.jsx(TL,{size:20})}),m.jsx("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-blog-primary transform hover:scale-110 transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:m.jsx(ML,{size:20})}),m.jsx("a",{href:"https://instagram.com",className:"text-gray-400 hover:text-blog-primary transform hover:scale-110 transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:m.jsx(PL,{size:20})}),m.jsx("a",{href:"https://youtube.com",className:"text-gray-400 hover:text-blog-primary transform hover:scale-110 transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:m.jsx(FL,{size:20})})]})]})})]})})},Td=({children:t})=>m.jsxs(m.Fragment,{children:[m.jsx(pA,{}),t,m.jsx(wN,{})]}),QK=({post:t})=>{const{id:e,title:n,excerpt:r,category:i,createdAt:s,coverImage:o,author:a}=t,l=u=>u.includes("Climate Change")?"bg-red-500":u.includes("Sustainable Living")?"bg-green-500":u.includes("Renewable Energy")?"bg-blue-500":u.includes("Pollution")?"bg-yellow-600":u.includes("Biodiversity")?"bg-purple-500":u.includes("Environmental Technology")?"bg-indigo-500":u.includes("Green Business")?"bg-emerald-500":u.includes("Environmental Laws")?"bg-cyan-500":u.includes("Agriculture")?"bg-orange-500":u.includes("Water")?"bg-teal-500":"bg-gray-500";return m.jsx(Lt,{to:`/blog/${e}`,className:"group h-full block",children:m.jsxs("article",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 h-[420px] flex flex-col transform group-hover:scale-[1.02] relative",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-transparent z-10"}),m.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-4 left-4 z-20",children:m.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-full text-white backdrop-blur-sm shadow-lg ${l(i)} transition-transform duration-300 group-hover:scale-105`,children:i})})]}),m.jsxs("div",{className:"p-6 flex flex-col flex-grow relative",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blog-primary transition-colors duration-300 line-clamp-2",children:n}),m.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2",children:r}),m.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:a.avatar,alt:a.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white"}),m.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.name}),m.jsx("span",{className:"text-xs text-gray-500",children:new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),m.jsx("div",{className:"text-blog-primary group-hover:translate-x-1 transition-transform duration-300",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]})})},_N=({title:t,posts:e,viewAllUrl:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold",children:t}),m.jsx(Lt,{to:n,className:"text-sm text-blog-primary hover:text-blog-secondary",children:"View All"})]}),m.jsx("div",{className:"space-y-4",children:e.map(r=>m.jsxs(Lt,{to:`/blog/${r.id}`,className:"flex space-x-3 group",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16",children:m.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-full rounded-lg object-cover"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-sm font-medium group-hover:text-blog-primary transition-colors line-clamp-2",children:r.title}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-4 h-4 rounded-full"}),m.jsx("span",{className:"text-xs text-gray-500",children:r.author.name})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(r.createdAt).toLocaleDateString()})]})]},r.id))})]}),YK=({texts:t,className:e="",onTextChange:n})=>{const[r,i]=S.useState(0),[s,o]=S.useState(""),[a,l]=S.useState(3e3);return S.useEffect(()=>{let u;return s===t[r]?u=setTimeout(()=>{const d=(r+1)%t.length;i(d),o(""),n==null||n(d)},a):u=setTimeout(()=>{o(t[r].slice(0,s.length+1))},100),()=>clearTimeout(u)},[s,r,t,a,n]),m.jsx("div",{className:`relative ${e}`,children:m.jsx(Kk,{mode:"wait",children:m.jsxs(Br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-center font-bold",children:[s,m.jsx(Br.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"inline-block   scale-y-75  ml-1",children:"|"})]},r)})})},Ub=["https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZW52aXJvbm1lbnR8ZW58MHx8MHx8fDA%3D?w=1600&q=80","https://images.unsplash.com/photo-1445346753792-6c667d917349?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGVudmlyb25tZW50fGVufDB8fDB8fHww","https://plus.unsplash.com/premium_photo-1663117225393-91d3a9e13f60?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTN8fGVudmlyb25tZW50fGVufDB8fDB8fHww","https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZW52aXJvbm1lbnR8ZW58MHx8MHx8fDA%3D?w=1600&q=80"],XK=({currentIndex:t})=>m.jsx("div",{className:"absolute inset-0 overflow-hidden",children:m.jsx(Kk,{mode:"wait",children:m.jsx(Br.div,{initial:{opacity:.2,scale:1.1},animate:{opacity:.4,scale:1},exit:{opacity:.4,scale:1},transition:{duration:1},className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url("${Ub[t%Ub.length]}")`}},t)})}),JK=[{name:"Climate Change & Global Warming",icon:IL,color:"from-red-500/10 to-transparent"},{name:"Sustainable Living",icon:XE,color:"from-green-500/10 to-transparent"},{name:"Renewable Energy",icon:UL,color:"from-blue-500/10 to-transparent"},{name:"Pollution & Waste Management",icon:Bv,color:"from-yellow-600/10 to-transparent"},{name:"Biodiversity & Conservation",icon:XE,color:"from-purple-500/10 to-transparent"},{name:"Environmental Technology & Innovation",icon:_L,color:"from-indigo-500/10 to-transparent"},{name:"Green Business & Economy",icon:wL,color:"from-emerald-500/10 to-transparent"},{name:"Environmental Laws & Policies",icon:NL,color:"from-cyan-500/10 to-transparent"},{name:"Agriculture & Food Sustainability",icon:jL,color:"from-orange-500/10 to-transparent"},{name:"Water & Ocean Conservation",icon:xL,color:"from-teal-500/10 to-transparent"}],ZK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState(!0),[o,a]=S.useState(0);return S.useEffect(()=>{(async()=>{try{const[u,d]=await Promise.all([zk(),Hk(5)]);e(u),r(d)}catch(u){console.error("Error fetching posts:",u)}finally{s(!1)}})()},[]),i?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blog-primary"})}):m.jsxs("main",{className:"flex-grow",children:[m.jsxs("div",{className:"relative h-[700px] md:h-[700px] bg-gray-900 mb-12",children:[m.jsx(XK,{currentIndex:o}),m.jsx("div",{className:"relative h-full flex items-center justify-center",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:m.jsxs("div",{className:"text-center text-white max-w-4xl mx-auto",children:[m.jsx(YK,{texts:["Explore, Learn, and Act for the Environment.","Green Ideas for a Better Tomorrow.","Protecting Nature, Sustaining the Future."],className:"mb-6 text-3xl md:text-4xl lg:text-5xl h-[150px]",onTextChange:a}),m.jsx("p",{className:"text-[20px] md:text-xl text-stone-100 mb-8",children:"Saving the planet, one step at a time"}),m.jsx("div",{className:"mt-2",children:m.jsx(No,{to:"news2",smooth:!0,duration:500,className:"inline-flex cursor-pointer items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Subscribe to our newsletter"})})]})})})]}),m.jsx(c0,{name:"latest",children:m.jsx("div",{className:"container mx-auto px-4 py-12",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsxs("div",{className:"lg:w-2/3",children:[m.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Latest Articles"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(l=>m.jsx(QK,{post:l},l.id))})]}),m.jsxs("div",{className:"lg:w-1/3",children:[m.jsx(_N,{title:"Latest Posts",posts:n,viewAllUrl:"/blog/latest"}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-semibold mb-6 relative inline-block",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(zI,{className:"w-5 h-5 text-blog-primary"}),"Categories"]}),m.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blog-primary to-transparent"})]}),m.jsx("div",{className:"space-y-2",children:JK.map(l=>{const u=l.icon;return m.jsx(Lt,{to:`/categories/${encodeURIComponent(l.name)}`,className:"group block",children:m.jsxs("div",{className:"relative p-3 rounded-lg transition-all duration-300 bg-gradient-to-r hover:translate-x-2",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${l.color} rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),m.jsxs("div",{className:"relative flex items-center gap-3",children:[m.jsx(u,{className:"w-5 h-5 text-gray-500 group-hover:text-blog-primary transition-colors duration-300"}),m.jsx("span",{className:"text-gray-600 group-hover:text-blog-primary transition-colors duration-300 group-hover:font-medium",children:l.name}),m.jsx(mo,{className:"w-4 h-4 text-blog-primary opacity-0 group-hover:opacity-100 transition-all duration-300 -ml-2 group-hover:ml-0"})]})]})},l.name)})})]})]})]})})})]})},eG=()=>{const{id:t}=zC(),[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,o]=S.useState(null),[a,l]=S.useState([]);return S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),S.useEffect(()=>{(async()=>{try{if(i(!0),o(null),!t)throw new Error("No post ID provided");const[d,f]=await Promise.all([hH(t),Hk(3)]);n(d),l(f)}catch(d){console.error("Error fetching data:",d),o(d.message||"Failed to load post")}finally{i(!1)}})()},[t]),r?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blog-primary"})}):s||!e?m.jsx("div",{className:"container mx-auto px-4 py-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Post Not Found"}),m.jsx("p",{className:"text-gray-600 mb-6",children:s||"The post you're looking for doesn't exist."}),m.jsx(Lt,{to:"/",className:"inline-block bg-blog-primary text-white px-6 py-2 rounded-md hover:bg-blog-secondary transition-colors",children:"Return to Home"})]})}):m.jsx("div",{className:"container mx-auto px-4 py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[m.jsx("div",{className:"relative h-[400px] md:h-[500px]",children:m.jsx("img",{src:e.coverImage,alt:e.title,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsx("div",{className:"mb-4",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold category-badge ${e.category.toLowerCase()}`,children:e.category})}),m.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:e.title}),m.jsxs("div",{className:"flex items-center text-gray-600 mb-6",children:[m.jsxs("span",{className:"mr-4 flex items-center justify-center",children:[m.jsx("img",{src:e.author.avatar,alt:e.author.name,className:"w-8 h-8 rounded-full mr-2"}),e.author.name]}),m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5  inline-block mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(e.createdAt).toLocaleDateString()]})]}),m.jsx("div",{className:"text-xl text-gray-600 mb-8",children:e.excerpt}),m.jsx("div",{className:"prose prose-lg max-w-none",children:e.content.split(`
`).map((u,d)=>m.jsx("p",{className:"mb-4",children:u},d))})]})]})}),m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsx(_N,{title:"Latest Posts",posts:a,viewAllUrl:"/blog"})})]})})},tG=()=>{const t=Xu();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsxs("div",{className:"min-h-screen flex flex-col",children:[m.jsx(pA,{}),m.jsx("main",{className:"flex-grow flex items-center justify-center bg-gray-50 py-20",children:m.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[m.jsx("h1",{className:"text-8xl font-bold text-blog-primary mb-4",children:"404"}),m.jsx("p",{className:"text-2xl text-blog-dark mb-6",children:"Oops! Page not found"}),m.jsx("p",{className:"text-gray-600 mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),m.jsx(Lt,{to:"/",className:"inline-block bg-blog-primary hover:bg-blog-secondary text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Return to Home"})]})}),m.jsx(wN,{})]})},nG=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(!1),l=t0(),u=async d=>{d.preventDefault(),s(""),a(!0);try{console.log("Attempting login with:",t);const f=await qz($k,t,n);console.log("Login successful:",f.user.email),l("/admin/dashboard")}catch(f){console.error("Login error:",f);let h="Failed to login. Please try again.";f.code==="auth/invalid-email"?h="Invalid email address.":f.code==="auth/user-disabled"?h="This account has been disabled.":f.code==="auth/user-not-found"?h="No account found with this email.":f.code==="auth/wrong-password"&&(h="Incorrect password."),s(h)}finally{a(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-white ",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute w-96 h-96 -top-48 -left-48 bg-blog-primary/30 rounded-full blur-3xl animate-blob"}),m.jsx("div",{className:"absolute w-96 h-96 -bottom-48 -right-48 bg-indigo-600/30 rounded-full blur-3xl animate-blob animation-delay-2000"})]}),m.jsx(Br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full mx-4",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 relative",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(Br.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:100},className:"w-16 h-16 bg-gradient-to-br from-blog-primary to-indigo-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:m.jsx(DL,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-bold text-black mb-2",children:"Admin Login"}),m.jsx("p",{className:"text-black text-sm",children:"Enter your credentials to access the dashboard"})]}),m.jsxs("form",{className:"space-y-6",onSubmit:u,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Th,{className:"h-5 w-5 text-black"})}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-600 rounded-lg bg-white text-black placeholder-black focus:outline-none focus:ring-2 focus:ring-blog-primary focus:border-transparent transition-all duration-200",placeholder:"Email address",value:t,onChange:d=>e(d.target.value)})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(QE,{className:"h-5 w-5 text-black"})}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-600 rounded-lg bg-white text-black placeholder-black focus:outline-none focus:ring-2 focus:ring-blog-primary focus:border-transparent transition-all duration-200",placeholder:"Password",value:n,onChange:d=>r(d.target.value)})]})]}),i&&m.jsx(Br.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm text-center",children:i}),m.jsxs("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blog-primary to-indigo-600 hover:from-blog-primary/90 hover:to-indigo-600/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blog-primary disabled:opacity-50 transition-all duration-200 overflow-hidden",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:m.jsx(QE,{className:"h-5 w-5 text-white/80 group-hover:text-white/95 transition-colors"})}),m.jsx("span",{className:"relative",children:o?m.jsxs("div",{className:"flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]})]})]})})]})},EN=({isOpen:t,onClose:e,onConfirm:n,title:r,description:i,confirmText:s="Confirm",cancelText:o="Cancel"})=>t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r}),m.jsx("p",{className:"text-gray-500 mb-6",children:i}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx(Tn,{variant:"outline",onClick:e,className:"border-gray-300 hover:bg-gray-50",children:o}),m.jsx(Tn,{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white",children:s})]})]})}):null,rG=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,s]=S.useState(null),[o,a]=S.useState({isOpen:!1,postId:null}),[l,u]=S.useState({title:"",excerpt:"",content:"",category:"",coverImage:"",readTime:5,author:{name:"",avatar:""}});S.useEffect(()=>{d()},[]);const d=async()=>{try{const y=await zk();console.log("Fetched posts:",y),e(y)}catch(y){console.error("Error fetching posts:",y)}},f=y=>{s(y),u({title:y.title,excerpt:y.excerpt,content:y.content,category:y.category,coverImage:y.coverImage,readTime:y.readTime,author:y.author}),r(!0)},h=async y=>{y.preventDefault();try{const w={...l,createdAt:(i==null?void 0:i.createdAt)||new Date().toISOString()};i?await cH(i.id,w):await uH(w),u({title:"",excerpt:"",content:"",category:"",coverImage:"",readTime:5,author:{name:"",avatar:""}}),r(!1),s(null),d()}catch(w){console.error("Error saving post:",w)}},g=y=>{a({isOpen:!0,postId:y})},_=async()=>{if(o.postId)try{await dH(o.postId),d()}catch(y){console.error("Error deleting post:",y)}finally{a({isOpen:!1,postId:null})}},E=()=>{r(!1),s(null),u({title:"",excerpt:"",content:"",category:"",coverImage:"",readTime:5,author:{name:"",avatar:""}})},x=y=>y.includes("Climate Change")?"bg-red-500":y.includes("Sustainable Living")?"bg-green-500":y.includes("Renewable Energy")?"bg-blue-500":y.includes("Pollution")?"bg-yellow-600":y.includes("Biodiversity")?"bg-purple-500":y.includes("Environmental Technology")?"bg-indigo-500":y.includes("Green Business")?"bg-emerald-500":y.includes("Environmental Laws")?"bg-cyan-500":y.includes("Agriculture")?"bg-orange-500":y.includes("Water")?"bg-teal-500":"bg-gray-500";return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Manage Blogs"}),m.jsxs(Tn,{onClick:()=>r(!n),className:"bg-blog-primary hover:bg-blog-secondary text-white",children:[m.jsx(om,{className:"w-4 h-4 mr-2"}),"New Post"]})]}),n&&m.jsxs("div",{className:"bg-white rounded-xl shadow-lg mb-8 overflow-hidden transition-all duration-300",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blog-primary to-blog-secondary p-6 text-white",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i?m.jsx(sm,{className:"w-6 h-6"}):m.jsx(om,{className:"w-6 h-6"}),i?"Edit Post":"Create New Post"]}),m.jsxs("p",{className:"text-white/80 mt-1",children:["Fill in the details to ",i?"update":"create"," your blog post"]})]}),m.jsxs("form",{onSubmit:h,className:"p-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group",children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(RL,{className:"w-4 h-4 text-blog-primary"}),"Title"]}),m.jsx("input",{type:"text",value:l.title,onChange:y=>u({...l,title:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary transition-all duration-200",placeholder:"Enter post title...",required:!0})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[m.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[m.jsx(LL,{className:"w-4 h-4 text-blog-primary"}),"Author Information"]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-600",children:"Name"}),m.jsx("input",{type:"text",value:l.author.name,onChange:y=>u({...l,author:{...l.author,name:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary",placeholder:"Author's name",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-600",children:"Avatar URL"}),m.jsx("input",{type:"text",value:l.author.avatar,onChange:y=>u({...l,author:{...l.author,avatar:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary",placeholder:"https://example.com/avatar.jpg",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(zI,{className:"w-4 h-4 text-blog-primary"}),"Category"]}),m.jsxs("select",{value:l.category,onChange:y=>u({...l,category:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary appearance-none bg-white",required:!0,children:[m.jsx("option",{value:"",children:"Select Category"}),m.jsx("option",{value:"Climate Change & Global Warming",children:"Climate Change & Global Warming"}),m.jsx("option",{value:"Sustainable Living",children:"Sustainable Living"}),m.jsx("option",{value:"Renewable Energy",children:"Renewable Energy"}),m.jsx("option",{value:"Pollution & Waste Management",children:"Pollution & Waste Management"}),m.jsx("option",{value:"Biodiversity & Conservation",children:"Biodiversity & Conservation"}),m.jsx("option",{value:"Environmental Technology & Innovation",children:"Environmental Technology & Innovation"}),m.jsx("option",{value:"Green Business & Economy",children:"Green Business & Economy"}),m.jsx("option",{value:"Environmental Laws & Policies",children:"Environmental Laws & Policies"}),m.jsx("option",{value:"Agriculture & Food Sustainability",children:"Agriculture & Food Sustainability"}),m.jsx("option",{value:"Water & Ocean Conservation",children:"Water & Ocean Conservation"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(OL,{className:"w-4 h-4 text-blog-primary"}),"Read Time"]}),m.jsx("input",{type:"number",value:l.readTime,onChange:y=>u({...l,readTime:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary",required:!0,min:"1",placeholder:"Minutes"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(SL,{className:"w-4 h-4 text-blog-primary"}),"Cover Image"]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:l.coverImage,onChange:y=>u({...l,coverImage:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary",placeholder:"https://example.com/image.jpg",required:!0}),l.coverImage&&m.jsx("div",{className:"mt-2 relative h-[120px] rounded-lg overflow-hidden",children:m.jsx("img",{src:l.coverImage,alt:"Cover preview",className:"w-full h-full object-cover"})})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(jg,{className:"w-4 h-4 text-blog-primary"}),"Excerpt"]}),m.jsx("textarea",{value:l.excerpt,onChange:y=>u({...l,excerpt:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary resize-none",rows:3,required:!0,placeholder:"Brief summary of the post..."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2",children:[m.jsx(jg,{className:"w-4 h-4 text-blog-primary"}),"Content"]}),m.jsx("textarea",{value:l.content,onChange:y=>u({...l,content:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blog-primary/20 focus:border-blog-primary resize-none",rows:8,required:!0,placeholder:"Write your post content here..."})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-100",children:[m.jsx(Tn,{type:"button",variant:"outline",onClick:E,className:"px-6 py-2 border-gray-300 hover:bg-gray-50",children:"Cancel"}),m.jsxs(Tn,{type:"submit",className:"px-6 py-2 bg-blog-primary hover:bg-blog-secondary text-white flex items-center gap-2",children:[i?m.jsx(sm,{className:"w-4 h-4"}):m.jsx(om,{className:"w-4 h-4"}),i?"Update Post":"Create Post"]})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>m.jsxs("article",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 flex flex-col relative group",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-transparent z-10"}),m.jsx("img",{src:y.coverImage,alt:y.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-4 left-4 z-20",children:m.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-full text-white backdrop-blur-sm shadow-lg ${x(y.category)} transition-transform duration-300 group-hover:scale-105`,children:y.category})}),m.jsxs("div",{className:"absolute top-4 right-4 z-20 flex space-x-2",children:[m.jsx(Tn,{onClick:w=>{w.preventDefault(),f(y)},size:"sm",className:"bg-white/90 hover:bg-white text-gray-700 backdrop-blur-sm",children:m.jsx(sm,{className:"w-4 h-4"})}),m.jsx(Tn,{onClick:w=>{w.preventDefault(),g(y.id)},size:"sm",className:"bg-white/90 hover:bg-white text-red-600 backdrop-blur-sm",children:m.jsx(Bv,{className:"w-4 h-4"})})]})]}),m.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blog-primary transition-colors duration-300 line-clamp-2",children:y.title}),m.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2",children:y.excerpt}),m.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:y.author.avatar,alt:y.author.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white"}),m.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.author.name}),m.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-1",children:[m.jsx($I,{className:"w-3 h-3"}),m.jsxs("span",{children:[y.readTime," min read"]})]})]})]}),m.jsx(Lt,{to:`/blog/${y.id}`,className:"text-blog-primary hover:translate-x-1 transition-transform duration-300",children:m.jsx(yL,{className:"w-5 h-5"})})]})]})]},y.id))}),m.jsx(EN,{isOpen:o.isOpen,onClose:()=>a({isOpen:!1,postId:null}),onConfirm:_,title:"Delete Post",description:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"})]})},iG=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(null),[o,a]=S.useState({isOpen:!1,subscriptionId:null});S.useEffect(()=>{l()},[]);const l=async()=>{try{const h=await pH();e(h)}catch(h){s("Failed to fetch subscriptions"),console.error(h)}finally{r(!1)}},u=async h=>{a({isOpen:!0,subscriptionId:h})},d=async()=>{if(o.subscriptionId)try{await mH(o.subscriptionId),e(t.filter(h=>h.id!==o.subscriptionId))}catch(h){s("Failed to delete subscription"),console.error(h)}finally{a({isOpen:!1,subscriptionId:null})}},f=()=>{const h=[["Email","Subscription Date"],...t.map(x=>[x.email,new Date(x.subscribedAt).toLocaleDateString()])].map(x=>x.join(",")).join(`
`),g=new Blob([h],{type:"text/csv"}),_=window.URL.createObjectURL(g),E=document.createElement("a");E.href=_,E.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(_),document.body.removeChild(E)};return n?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blog-primary"})}):i?m.jsx("div",{className:"text-center text-red-500 p-4",children:i}):m.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subscribed Email"}),m.jsxs(Tn,{onClick:f,className:"bg-blog-primary hover:bg-blog-secondary text-white flex items-center gap-2",children:[m.jsx(EL,{className:"w-4 h-4"}),"Export CSV"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription Date"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(h=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Th,{className:"h-5 w-5 text-gray-400 mr-2"}),m.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.email})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(BI,{className:"h-5 w-5 text-gray-400 mr-2"}),m.jsx("div",{className:"text-sm text-gray-500",children:new Date(h.subscribedAt).toLocaleDateString()})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>u(h.id),children:m.jsx(Bv,{className:"h-5 w-5"})})})]},h.id))})]})}),t.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(Th,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No subscriptions"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new subscription."})]}),m.jsx(EN,{isOpen:o.isOpen,onClose:()=>a({isOpen:!1,subscriptionId:null}),onConfirm:d,title:"Delete Subscription",description:"Are you sure you want to delete this subscription? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"})]})},sG=()=>{const[t,e]=S.useState("blog"),n=t0(),r=async()=>{try{await Qz($k),n("/admin/login")}catch(i){console.error("Error signing out:",i)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),m.jsxs(Tn,{onClick:r,variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[m.jsx(CL,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),m.jsxs("div",{className:"flex space-x-4 mb-8 border-b",children:[m.jsxs("button",{onClick:()=>e("blog"),className:`flex items-center space-x-2 px-4 py-2 ${t==="blog"?"border-b-2 border-blog-primary text-blog-primary":"text-gray-500 hover:text-gray-700"}`,children:[m.jsx(jg,{className:"w-5 h-5"}),m.jsx("span",{children:"Blog Posts"})]}),m.jsxs("button",{onClick:()=>e("subscriptions"),className:`flex items-center space-x-2 px-4 py-2 ${t==="subscriptions"?"border-b-2 border-blog-primary text-blog-primary":"text-gray-500 hover:text-gray-700"}`,children:[m.jsx(Th,{className:"w-5 h-5"}),m.jsx("span",{children:"Subscriptions"})]})]}),m.jsx("div",{className:"mt-8",children:t==="blog"?m.jsx(rG,{}):m.jsx(iG,{})})]})},oG=({post:t})=>{const e=new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return m.jsx(Lt,{to:`/blog/${t.id}`,className:"group",children:m.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-opacity duration-300"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[m.jsxs("div",{className:"flex items-center mr-4",children:[m.jsx(BI,{className:"w-4 h-4 mr-1"}),e]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx($I,{className:"w-4 h-4 mr-1"}),t.readTime," min read"]})]}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blog-primary transition-colors duration-300",children:t.title}),m.jsx("p",{className:"text-gray-600 line-clamp-3 mb-4",children:t.excerpt}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-8 h-8 rounded-full mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.author.name}),m.jsx("p",{className:"text-sm text-gray-500",children:t.category})]})]})]})]})})},aG=()=>{const{category:t}=zC(),[e,n]=S.useState([]),[r,i]=S.useState(!0),[s,o]=S.useState(null);return S.useEffect(()=>{(async()=>{try{const l=await gH(),u=decodeURIComponent(t||"");console.log("Decoded category:",u),console.log("All posts:",l);const d=l.filter(f=>(console.log("Comparing:",f.category,"with",u),f.category===u));console.log("Filtered posts:",d),n(d)}catch(l){o("Failed to fetch posts"),console.error("Error fetching posts:",l)}finally{i(!1)}})()},[t]),r?m.jsx("div",{className:"container mx-auto px-4 py-8",children:m.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blog-primary"})})}):s?m.jsx("div",{className:"container mx-auto px-4 py-8",children:m.jsx("div",{className:"text-center text-red-500",children:s})}):m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx(Br.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl font-bold mb-8 text-center",children:decodeURIComponent(t||"")}),e.length===0?m.jsx("div",{className:"text-center text-gray-500",children:"No posts found in this category. Please check if the category name matches exactly."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(a=>m.jsx(Br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:m.jsx(oG,{post:a})},a.id))})]})},lG=new K4;function uG(){return m.jsx(Q4,{client:lG,children:m.jsxs(b4,{children:[m.jsx(xV,{}),m.jsx(XV,{}),m.jsx(HF,{children:m.jsx("div",{className:"min-h-screen cursor-pointer flex flex-col",children:m.jsxs(VF,{children:[m.jsx(Cs,{path:"/",element:m.jsx(Td,{children:m.jsx(ZK,{})})}),m.jsx(Cs,{path:"/blog/:id",element:m.jsx(Td,{children:m.jsx(eG,{})})}),m.jsx(Cs,{path:"/categories/:category",element:m.jsx(Td,{children:m.jsx(aG,{})})}),m.jsx(Cs,{path:"/admin/login",element:m.jsx(nG,{})}),m.jsx(Cs,{path:"/admin/dashboard",element:m.jsx(sG,{})}),m.jsx(Cs,{path:"*",element:m.jsx(Td,{children:m.jsx(tG,{})})})]})})})]})})}uI(document.getElementById("root")).render(m.jsx(uG,{}));
